{
  "docs": [
    {
      "id": 134788873,
      "doc_id": "hsq9e5b68g0gyfvn",
      "title": "hsq9e5b68g0gyfvn",
      "updated": 1690909689000,
      "body_original": "TODO\n",
      "properties": {
        "title": "我是谁？",
        "urlname": "hsq9e5b68g0gyfvn",
        "date": "2023-07-30 17:21:51",
        "updated": "2023-08-01 17:08:09",
        "author": "Jason Ma"
      },
      "catalog": [],
      "body": "",
      "realName": "我是谁？",
      "relativePath": "/我是谁？.md"
    },
    {
      "id": 128436714,
      "doc_id": "ud4k7ereqxslvzdg",
      "title": "ud4k7ereqxslvzdg",
      "updated": 1697380933000,
      "body_original": "---<br />tags:\n\n- DCC\n\n---\n<a name=\"uAvml\"></a>\n# 界面频闪 / 闪烁\nwin11 N卡<br />解决方法: 安装旧驱动，使用cuda11.6的版本（2022.5之前的版本，512.x亲测可以解决）\n\n\n",
      "properties": {
        "title": "达芬奇踩坑记录",
        "urlname": "ud4k7ereqxslvzdg",
        "date": "2023-06-24 15:30:06",
        "updated": "2023-10-15 14:42:13",
        "author": "Jason Ma",
        "tags": [
          "DCC"
        ]
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "ud4k7ereqxslvzdg"
        },
        {
          "title": "Other DCCs",
          "doc_id": "ud4k7ereqxslvzdg"
        }
      ],
      "body": "",
      "realName": "达芬奇踩坑记录",
      "relativePath": "/TA/Other DCCs/达芬奇踩坑记录.md"
    },
    {
      "id": 132145639,
      "doc_id": "fsmrgf7ce2gotyvn",
      "title": "fsmrgf7ce2gotyvn",
      "updated": 1694422809000,
      "body_original": "---<br />tags:\n\n- DCC\n\n---\n<a name=\"swhgk\"></a>\n## 材质 / 贴图 不更新\nHoudini做材质经常遇到Viewport中材质不更新的问题, 是因为Viewport的渲染器使用的是OpenGL, 是不会调用材质VOP的:<br />[https://www.sidefx.com/docs/houdini/shade/glsl.html](https://www.sidefx.com/docs/houdini/shade/glsl.html)<br />[https://www.sidefx.com/docs/houdini/shade/opengl.html](https://www.sidefx.com/docs/houdini/shade/opengl.html)<br />一些内置的Shader可以在Viewport中显示是因为已经绑定好了OpenGL属性.\n\n但偶尔仍会遇到内置的Shader不更新的情况, 可以尝试:\n\n- 切换光照模式\n- 切换材质显示\n- 调整材质参数\n- Ctrl + S\n\n比较极端的情况下可能要使用Python节点触发材质参数修改:\n```python\nimport hou\n\ndef change_all_materials_color(new_color=(1, 0, 0)):\n\n    # 寻找所有的材质节点\n    # tooncolorshader替换为你的Shader VOP名称\n    material_nodes = hou.nodeType(hou.vopNodeTypeCategory(), \"tooncolorshader\").instances()\n\n    # 遍历所有材质节点\n    for node in material_nodes:\n        # Cdbias替换为Shader中某个不重要的参数的名称\n        for parm in node.parmTuple(\"Cdbias\"):\n            # print(parm)\n            parm.set(1)\n            parm.set(0)\n\nchange_all_materials_color()\nprint(111)\n```\n这些代码会查找指定类型的ShaderVOP实例, 并修改其中参数从而触发材质更新.<br />打开文件后点击此Python节点即可运行代码.\n\n<a name=\"A5Vcn\"></a>\n## \n\n",
      "properties": {
        "title": "Houdini踩坑记录",
        "urlname": "fsmrgf7ce2gotyvn",
        "date": "2023-07-04 02:25:16",
        "updated": "2023-09-11 09:00:09",
        "author": "Jason Ma",
        "tags": [
          "DCC"
        ]
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "fsmrgf7ce2gotyvn"
        },
        {
          "title": "Houdini",
          "doc_id": "fsmrgf7ce2gotyvn"
        }
      ],
      "body": "",
      "realName": "Houdini踩坑记录",
      "relativePath": "/TA/Houdini/Houdini踩坑记录.md"
    },
    {
      "id": 126619575,
      "doc_id": "ww8dfgg04fgb7c85",
      "title": "ww8dfgg04fgb7c85",
      "updated": 1689505190000,
      "body_original": "---<br />tags:<br />---\n<a name=\"PQUnY\"></a>\n# 动画\n骨骼名称不能有奇怪的符号, 否则动画可能导不进来. 比如\"+\", 但空格不影响导入.\n\n\n",
      "properties": {
        "title": "UE踩坑记录",
        "urlname": "ww8dfgg04fgb7c85",
        "author": "Jason Ma",
        "date": "2023-06-04 00:24:56",
        "updated": "2023-07-16 18:59:50",
        "tags": null
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "ww8dfgg04fgb7c85"
        },
        {
          "title": "UE",
          "doc_id": "ww8dfgg04fgb7c85"
        }
      ],
      "body": ""
    },
    {
      "id": 126601238,
      "doc_id": "ompygag6ztknbc30",
      "title": "ompygag6ztknbc30",
      "updated": 1689505291000,
      "body_original": "---<br />tags:\n\n- DCC\n\n---\n<a name=\"fIfkN\"></a>\n## 循环边\n在拓扑比较特殊, 无法使用Edge Loop时可以使用Poly Bevel替代:<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685809427830-3b444944-1f50-4a6e-a870-b85b754661b0.png#averageHue=%23b0af97&clientId=ubff9194a-4185-4&from=paste&height=1103&id=u8d0a9b1e&originHeight=1379&originWidth=2474&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=2051999&status=done&style=none&taskId=u0236169d-a4ce-4785-90f6-3c69b4e5e39&title=&width=1979.2)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685809440138-ea1f4b58-edc4-453e-9b75-6f843c2becd0.png#averageHue=%23858b81&clientId=ubff9194a-4185-4&from=paste&height=1399&id=u96de4728&originHeight=1749&originWidth=2038&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=1945104&status=done&style=none&taskId=u6f4c93f6-d1d5-43f1-b3c2-29a436da542&title=&width=1630.4)\n\n<a name=\"yay6l\"></a>\n## 修改导入的骨骼名称\n有根骨骼名字的面前带\"+\"导致动画无法导入ue, 所以要在houdini中进行骨骼重命名.\n\n导入FBX Character后有3个输出<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685810615840-9a2c3dbb-7385-4be8-a28e-ec5d9e49f9d2.png#averageHue=%23373635&clientId=u567c1de1-94ac-4&from=paste&height=187&id=u02226cf1&originHeight=234&originWidth=685&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=17652&status=done&style=none&taskId=ue54c2246-204d-4c42-b871-9fd6906965e&title=&width=548)<br />查看左侧Rest Geometry可见蒙皮数据是以骨骼名称和权重保存的<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685810824397-b0da7b29-c585-46b8-bc0c-0842e5bcb1ac.png#averageHue=%23423f3a&clientId=u567c1de1-94ac-4&from=paste&height=306&id=uf136cc31&originHeight=382&originWidth=1966&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=171724&status=done&style=none&taskId=ub19518ce-1767-4653-a03d-565d79d2775&title=&width=1572.8)<br />查看中和右侧的骨骼可见骨骼的位置以point position保存, 旋转以旋转矩阵保存, 还会保存骨骼名称和骨骼结构<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685810923382-1437c583-4532-438c-8327-115105d88818.png#averageHue=%23383838&clientId=u567c1de1-94ac-4&from=paste&height=245&id=u9ec8d560&originHeight=306&originWidth=1835&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=121473&status=done&style=none&taskId=ue7f9d03c-3aff-4d13-924c-8687468598f&title=&width=1468)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685812042838-7e51882b-f653-440c-a3ef-d586b9d62b31.png#averageHue=%233c3b3a&clientId=u567c1de1-94ac-4&from=paste&height=323&id=uae74376f&originHeight=404&originWidth=2423&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=269546&status=done&style=none&taskId=ud42cbd2c-179b-48a6-b0e8-cfe9620f160&title=&width=1938.4)<br />结论是只要删除string属性中的\"+\"即可, 这就是houdini神奇的地方, 只要能查表改表什么几何操作都可以做<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685810630008-bfec4c5f-b66d-48bb-b2cf-fe6997cd15bf.png#averageHue=%23393939&clientId=u567c1de1-94ac-4&from=paste&height=199&id=uaac2802b&originHeight=249&originWidth=697&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=24089&status=done&style=none&taskId=u6117279c-973f-48d3-bb6e-584740039f7&title=&width=557.6)<br />替换蒙皮中的骨骼名<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685810649419-2e643dd3-c533-41d8-b926-d458b022b389.png#averageHue=%23363636&clientId=u567c1de1-94ac-4&from=paste&height=195&id=ud101df93&originHeight=244&originWidth=590&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=16532&status=done&style=none&taskId=uad044a2a-1f41-42ff-85c8-4b260ce2164&title=&width=472)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685810656656-0b28d0f2-45b9-49bc-a8e9-eaffe5e3520c.png#averageHue=%23393939&clientId=u567c1de1-94ac-4&from=paste&height=208&id=u3395e111&originHeight=260&originWidth=559&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=17732&status=done&style=none&taskId=u1c7a5e35-7b0a-443e-ac6e-4b892c2c69f&title=&width=447.2)<br />使用正则表达式替换骨骼中的名字<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685812084292-b793e915-a552-4813-a1ba-1afd22fce05e.png#averageHue=%23373737&clientId=u567c1de1-94ac-4&from=paste&height=201&id=uf0c7b855&originHeight=251&originWidth=507&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=14466&status=done&style=none&taskId=ud69a01f5-3f13-4b9e-a93d-269ae49e8c7&title=&width=405.6)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685812076613-3855232d-13de-4c0d-b438-334f99cce683.png#averageHue=%23373737&clientId=u567c1de1-94ac-4&from=paste&height=225&id=uc4ae318b&originHeight=281&originWidth=633&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=21640&status=done&style=none&taskId=ub4ac5e5f-fb1f-4429-aa6b-ff5d746327d&title=&width=506.4)\n",
      "properties": {
        "title": "Houdini常用几何操作",
        "urlname": "ompygag6ztknbc30",
        "author": "Jason Ma",
        "date": "2023-06-03 17:05:07",
        "updated": "2023-07-16 19:01:31",
        "tags": [
          "DCC"
        ]
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "ompygag6ztknbc30"
        },
        {
          "title": "Houdini",
          "doc_id": "ompygag6ztknbc30"
        }
      ],
      "body": ""
    },
    {
      "id": 120059084,
      "doc_id": "ai6iq9ebtbpfqnzd",
      "title": "ai6iq9ebtbpfqnzd",
      "updated": 1712504120000,
      "body_original": "---<br />tags:\n\n- Workflow\n\n---\n<a name=\"a62d8a1a\"></a>\n# 前提\n需要从源码打包UE给其他用户使用, 结果打出的包过大.\n<a name=\"703d6307\"></a>\n# 过程\n尝试使用[官方](https://docs.unrealengine.com/5.1/en-US/using-an-installed-build-of-unreal-engine/)的UAT脚本打包:\n\n```jsx\nEngine\\Build\\BatchFiles\\RunUAT.bat BuildGraph -target=\"Make Installed Build Win64\" -script=Engine/Build/InstalledEngineBuild.xml -set:WithMac=false -set:WithMacArm64=false -set:WithAndroid=false -set:WithIOS=false -set:WithTVOS=false -set:WithLinux=false -set:WithLinuxArm64=false -set:WithHTML5=false -set:WithSwitch=false -WithDDC=false -set:WithWin32=false -set:WithLumin=false -set:WithPS4=false -set:WithXboxOne=false -set:WithHoloLens=false -set:GameConfigurations=Shipping\n```\n<a name=\"5ad7f5a8\"></a>\n# 结果\n包体90GB, 远超官方的30+GB:<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1680167939367-719d4322-e450-4ca1-b0bc-d1c0d226db05.png#averageHue=%23847256&clientId=uc434dd9c-5327-4&from=paste&height=566&id=u79892da1&originHeight=707&originWidth=529&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=99262&status=done&style=none&taskId=u26df6b98-79b6-4864-8c25-1c7e43736cc&title=&width=423.2)<br />并且多了很多二进制:<br />![2CYT})$V6AQANSGI4%WA8U7.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1680167957490-480c0dfe-5d81-4453-9712-d250ccc3c2b7.png#averageHue=%23323528&clientId=uc434dd9c-5327-4&from=paste&height=2083&id=u82a3f78f&originHeight=2604&originWidth=2000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=4963573&status=done&style=none&taskId=ubfa2cdf1-beeb-411b-b107-f13d871e0a0&title=&width=1600)\n<a name=\"RhdJl\"></a>\n# 解决方案\n<a name=\"TYlwm\"></a>\n## 新建脚本删除所有pdb文件\n需要再写个`bat`脚本删除所有`.pdb`文件:\n```jsx\n@echo off\nsetlocal enabledelayedexpansion\n\nset target_directory=LocalBuilds\n\nfor /r \"%target_directory%\" %%f in (*.pdb) do (\n    echo Deleting \"%%f\"\n    del \"%%f\"\n)\n\necho All .pdb files in \"%target_directory%\" have been deleted.\n\nendlocal\n```\n\n<a name=\"MXp7n\"></a>\n## 修改InstalledEngineFilters.xml过滤所有pdb文件\n修改Engine/Build/InstalledEngineFilters.xml文件:\n```xml\n...\n<Property Name=\"CopyEditorExceptions\">\n\n  <!-- 新增下面这行即可过滤掉所有.pdb -->\n  ....pdb\n\n  ...\n```\n\n删除后包体大小降到了30G以内, 比官方的还小.\n\n<a name=\"CwiK2\"></a>\n## 注意事项\n注意, 删除pdb后引擎将不带调试信息, 也不能打包C++游戏, 但十分适合分发给美术使用.\n",
      "properties": {
        "title": "UE解决Installed Build包体过大",
        "urlname": "ai6iq9ebtbpfqnzd",
        "date": "2023-03-30 09:17:57",
        "updated": "2024-04-07 15:35:20",
        "author": "Jason Ma",
        "tags": [
          "Workflow"
        ]
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "ai6iq9ebtbpfqnzd"
        },
        {
          "title": "UE",
          "doc_id": "ai6iq9ebtbpfqnzd"
        }
      ],
      "body": "",
      "realName": "UE解决Installed Build包体过大",
      "relativePath": "/TA/UE/UE解决Installed Build包体过大.md"
    },
    {
      "id": 126460690,
      "doc_id": "sfpr2alhqp7gh1xm",
      "title": "sfpr2alhqp7gh1xm",
      "updated": 1686756240000,
      "body_original": "参考: <br />[Hexo配置Cloudflare免费CDN](https://tding.top/archives/12c6c559.html)<br />配置完之后会发现无法访问, [经查](https://community.cloudflare.com/t/github-pages-require-disabling-cfs-http-proxy/147401/8)需要将SSL模式设为Full:<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685637458545-bccbcf00-c0be-4596-829d-abee35c3d88e.png#averageHue=%23191c1e&clientId=ude304a76-45c5-4&from=paste&height=766&id=ub54a2eac&originHeight=957&originWidth=1759&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=157257&status=done&style=none&taskId=ud8037cc4-d0f3-4eed-9d56-a90e59b6d59&title=&width=1407.2)<br />完成后使用国内移动数据进行测试, 可以裸连Github Pages, 速度挺快, 除了某些比较大的图片稍慢.<br />另外Argo Smart Routing还可以进一步加速:<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1685637684618-cf4e104e-539d-4399-b50f-a25d86beca7c.png#averageHue=%231a1d1f&clientId=ude304a76-45c5-4&from=paste&height=836&id=u85fcc1c4&originHeight=1045&originWidth=1765&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=203498&status=done&style=none&taskId=u547f4f1b-f6f0-4c73-9a09-8caced09e36&title=&width=1412)\n\n",
      "properties": {
        "title": "CloudFlare加速Github Pages全球访问(含大陆)",
        "urlname": "sfpr2alhqp7gh1xm",
        "author": "Jason Ma",
        "date": "2023-06-02 00:36:29",
        "updated": "2023-06-14 23:24:00"
      },
      "catalog": [
        {
          "title": "Web",
          "doc_id": "sfpr2alhqp7gh1xm"
        }
      ],
      "body": ""
    },
    {
      "id": 120057885,
      "doc_id": "yf39e891h5yy57f5",
      "title": "yf39e891h5yy57f5",
      "updated": 1689505304000,
      "body_original": "---<br />tags:\n\n- DCC\n\n---<br />Houdini一般(FBX)的导出顶点色的方式是Cd (vector) + Alpha (float), 但如果用ABC导出, 就需要用以下格式:<br />![YOG(04J`WVETOX{0BVZD@JX.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1680167779805-8c0784a9-323a-4bfc-955a-42854db6b702.png#averageHue=%233c3c3c&clientId=u91b1fcca-6782-4&from=paste&height=906&id=u1d091979&originHeight=1132&originWidth=2000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=1141422&status=done&style=none&taskId=u5a4fa8ef-51ca-4932-8cb0-d380fd491a6&title=&width=1600)<br />Cd (float4)<br />而且必须用Attribute Create节点, 如果用Attribute Wrangle试图写入Cd, 只能写入前3个通道.<br />而ABC的顶点色颜色空间和FBX的不同, 这里用Power 1.2勉强和FBX的输出结果对上, 这个坑暂时不填.<br />多套UV则需手动指定:<br />![6F9`TWLM_{M2R$O2ZJYKBUQ.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1680167802056-e353da02-6890-469d-9d3d-dcc64b691636.png#averageHue=%233e3e3e&clientId=u91b1fcca-6782-4&from=paste&height=2317&id=ua1f8f063&originHeight=2896&originWidth=2000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=566111&status=done&style=none&taskId=u94ac49b8-caa9-405a-a35c-3e41e43930f&title=&width=1600)<br />导入UE:<br />![M83KG$HIA@ZP{W)7Q}IAY[7.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1680167820388-328843f6-e2a4-4990-87b3-467652b60034.png#averageHue=%2354504f&clientId=u91b1fcca-6782-4&from=paste&height=1426&id=u556618a1&originHeight=1783&originWidth=2000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=2502790&status=done&style=none&taskId=u9fccdeb0-264b-45c0-a112-3411291e644&title=&width=1600)<br />![P59E_P_9W%TJ43DW$31%D$M.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1680167834901-c3f9d64e-0e1f-4c03-b85c-8ff73a7242a2.png#averageHue=%23515150&clientId=u91b1fcca-6782-4&from=paste&height=1410&id=u6cca2bae&originHeight=1763&originWidth=2000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=2278464&status=done&style=none&taskId=u34b7cd9c-6e26-444d-a72d-60190528233&title=&width=1600)<br />可以看到已经正确导入顶点色和Alpha.<br />多套UV:<br />![K505)(8U5Q9MJ)O{E`3O$JB.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1680167850580-f73fe16c-8854-435c-a405-0aa0f31f0ae3.png#averageHue=%23555555&clientId=u91b1fcca-6782-4&from=paste&height=1536&id=u575e3add&originHeight=1920&originWidth=2000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=1992910&status=done&style=none&taskId=u0f42ccf2-3cd4-4256-9015-59fc25845d0&title=&width=1600)\n",
      "properties": {
        "title": "Houdini通过Alembic导出Vertex Color + Alpha + Multi UV",
        "urlname": "yf39e891h5yy57f5",
        "author": "Jason Ma",
        "date": "2023-03-30 17:12:22",
        "updated": "2023-07-16 19:01:44"
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "yf39e891h5yy57f5"
        },
        {
          "title": "Houdini",
          "doc_id": "yf39e891h5yy57f5"
        }
      ],
      "body": ""
    },
    {
      "id": 113179001,
      "doc_id": "hidx80bo8enk6ngm",
      "title": "hidx80bo8enk6ngm",
      "updated": 1686756244000,
      "body_original": "<a name=\"KL05b\"></a>\n# 初始站点\n安装MariaDB 5 和 phpMyAdmin:\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1675365893420-cd75209b-5724-4f2c-92e3-46e643ca2687.png#averageHue=%23202834&clientId=u98627f53-4415-4&from=paste&height=280&id=u943b6364&originHeight=350&originWidth=240&originalType=binary&ratio=1&rotation=0&showTitle=false&size=21859&status=done&style=none&taskId=ua08b0893-ac3e-4401-b221-a8834b6af19&title=&width=192)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1675365841630-75d03ffa-e2f2-42d7-9bcc-dbb97f762429.png#averageHue=%2321272f&clientId=u98627f53-4415-4&from=paste&height=282&id=ub4262297&originHeight=352&originWidth=247&originalType=binary&ratio=1&rotation=0&showTitle=false&size=27242&status=done&style=none&taskId=ue9c0fcfc-619a-42f9-a6a7-24362dacb10&title=&width=197.6)<br />启动MariaDB 5, 用默认配置创建数据库.<br />启动phpMyAdmin, 输入:<br />用户名: root<br />密码: 你的admin账户密码.<br />接下来:<br />[QNAP配置wordpress_MurasameFan的博客-CSDN博客_qnap wordpress安装目录](https://blog.csdn.net/qq_34419607/article/details/110546382)<br />[零基础学NAS 篇四：QNAP配合WordPress让你拥有自己的秘密花园。_NAS存储_什么值得买](https://post.smzdm.com/p/akmvk394/)<br />至此, 初始站点搭建完成.\n\n<a name=\"h8yBb\"></a>\n# 备份\n[如何使用 Multi-Application Recovery Service (MARS) 备份和恢复 WordPress 网站？](https://www.qnap.com.cn/zh-cn/how-to/tutorial/article/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-multi-application-recovery-service-mars-%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D-wordpress-%E7%BD%91%E7%AB%99)\n\n<a name=\"kUamA\"></a>\n# 增加文件上传大小限制\n官方教程完全不靠谱, 用插件快速解决:<br />[解决wordpress上传文件大小限制_流星418的博客-CSDN博客_wordpress上传限制](https://blog.csdn.net/METEORS7/article/details/123019671)\n\n\n",
      "properties": {
        "title": "威联通 wordpress 搭建个人博客",
        "urlname": "hidx80bo8enk6ngm",
        "author": "Jason Ma",
        "date": "2023-02-03 03:22:53",
        "updated": "2023-06-14 23:24:04"
      },
      "catalog": [
        {
          "title": "Web",
          "doc_id": "hidx80bo8enk6ngm"
        }
      ],
      "body": ""
    },
    {
      "id": 112912250,
      "doc_id": "dcyev26wfcd7s1ms",
      "title": "dcyev26wfcd7s1ms",
      "updated": 1686756242000,
      "body_original": "<a name=\"WH6Ns\"></a>\n# 网络拓扑\n光猫 (LAN) => (WAN) NAS (LAN) => (WAN) PC\n<a name=\"g5141\"></a>\n## 自带虚拟交换机实现软路由\n[QNAP 设置桥接](https://www.bilibili.com/read/cv10590467)<br />几秒钟搞定软路由, 根本不用什么虚拟机和openwrt (被网上的教程带偏走了很多弯路), 易用, 稳定, 高速, 支持IPv6.\n\n<a name=\"M1B9I\"></a>\n# 使用IPv6 + 端口号实现满速公网访问\n获取IPv6 (电信光猫自带)\n\n\n<a name=\"Q5U7e\"></a>\n# 使用官方DDNS服务实现满速公网域名 + 端口号访问\n\n\n\n\n<a name=\"E7MZi\"></a>\n# 使用自定义域名 + 端口实现满速访问\n<a name=\"E4WDC\"></a>\n## 注册阿里云域名\n[如何注册.com和.cn等常见域名_域名-阿里云帮助中心](https://help.aliyun.com/document_detail/54068.html)<br />由于只是个人使用的NAS, 只要网址固定且便宜, 好不好看无所谓.\n\n<a name=\"FzJx5\"></a>\n## 配置DDNS, 将域名解析到IPv6\n使用ContainerStation安装:[GitHub - sanjusss/aliyun-ddns: 阿里云动态域名工具，支持docker和ipv6。](https://github.com/sanjusss/aliyun-ddns)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1675185467269-57888660-02a2-46e9-b4dc-76c68848a697.png#averageHue=%231d1f21&clientId=u5421369a-58e9-4&from=paste&height=771&id=u5418f8a6&originHeight=964&originWidth=1302&originalType=binary&ratio=1&rotation=0&showTitle=false&size=65060&status=done&style=none&taskId=u9d2f19c4-9cad-469d-9bce-7206f7ced34&title=&width=1041.6)<br />[零基础学NAS 篇二：QNAP配合阿里云实现域名访问NAS_NAS存储_什么值得买](https://post.smzdm.com/p/alp6q328/)<br />这一步完成就可以实现自定义域名 + 端口的满速访问了.<br />若无法访问, 请检查防火墙.\n\n<a name=\"QC0GI\"></a>\n## 将HTTP映射到HTTPS (TODO)\n\n<a name=\"VH8ju\"></a>\n## 支持IPv4 (qtm)\n\n<a name=\"iYCAn\"></a>\n## 添加免费SSL\n[威联通NAS配置免费SSL证书实现Https安全访问](https://zhuanlan.zhihu.com/p/460007185)<br />这一步给域名加锁, 增加安全性.\n\n\n<a name=\"Q4gmu\"></a>\n# Tips\n\n- 将默认端口号改成不常见的, 开启两步验证, 安全第一\n- 避免泄露你的域名\n- 充分利用防火墙, 只允许你自己访问\n",
      "properties": {
        "title": "威联通 公网访问",
        "urlname": "dcyev26wfcd7s1ms",
        "author": "Jason Ma",
        "date": "2023-01-31 22:44:45",
        "updated": "2023-06-14 23:24:02"
      },
      "catalog": [
        {
          "title": "Web",
          "doc_id": "dcyev26wfcd7s1ms"
        }
      ],
      "body": ""
    },
    {
      "id": 105738879,
      "doc_id": "gwh0hz7p5kwkvfuz",
      "title": "gwh0hz7p5kwkvfuz",
      "updated": 1689519556000,
      "body_original": "890新商学 讲师: 李忠秋 课程: 结构思考力\n\n通过本课可以学到如何更加高效准确地表达自己的观点, 然而该如何更好地得出观点还需要深入学习\n<a name=\"QiSDe\"></a>\n# 理念篇\n| ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091238461-cc443e29-843a-4cd8-96ac-6cc3c9f1eb90.png#averageHue=%23d0edfc&clientId=u2eebfe3c-d48e-4&from=paste&id=u80985a4b&originHeight=1358&originWidth=2560&originalType=url&ratio=1&rotation=0&showTitle=false&size=1700655&status=done&style=none&taskId=u4c6a6409-ca7d-4bc2-8664-cf2930ca689&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091238755-fb135f3a-6200-4aa6-9286-de4973b60042.png#averageHue=%23b4cae2&clientId=u2eebfe3c-d48e-4&from=paste&id=u54e3eed1&originHeight=1358&originWidth=2560&originalType=url&ratio=1&rotation=0&showTitle=false&size=2013612&status=done&style=none&taskId=u2e80bcca-7473-46ce-b7d8-6e016e7ad87&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091238732-6e1f4ee3-8a64-44ba-998e-b5954f83fca8.png#averageHue=%238d9dd9&clientId=u2eebfe3c-d48e-4&from=paste&id=ub1e2f4f8&originHeight=1358&originWidth=2560&originalType=url&ratio=1&rotation=0&showTitle=false&size=1954218&status=done&style=none&taskId=uaf0e02ef-260e-4652-b4bb-063f5f55210&title=)<br /> |\n| --- |\n\n| ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091250779-a54b35e7-c717-44fb-8be7-d49f34f1d8f7.png#averageHue=%2369b6c3&clientId=u2eebfe3c-d48e-4&from=paste&id=udc20d4d0&originHeight=1358&originWidth=2560&originalType=url&ratio=1&rotation=0&showTitle=false&size=2009030&status=done&style=none&taskId=u945be31f-b85f-4dc3-8df8-1d7a589398c&title=)<br />结构思维是理性思考的前提, 通过事实, 理由, 结论看世界<br /> |\n| --- |\n\n<a name=\"yhjjs\"></a>\n# 方法篇\n<a name=\"BEZHf\"></a>\n## 理解\n\n<a name=\"wvIAL\"></a>\n## 重构\n| ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091320518-55dd7a07-bcb2-4d64-89c7-e9a7469e3dfb.png#averageHue=%238a93d2&clientId=u2eebfe3c-d48e-4&from=paste&id=u5bbb4afa&originHeight=1358&originWidth=2560&originalType=url&ratio=1&rotation=0&showTitle=false&size=1872883&status=done&style=none&taskId=u7b7810c5-a8a9-4407-93b5-38afab4eeaf&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091320344-72c41eb7-29f7-4f01-9c65-2d2f85026d99.png#averageHue=%235a85c9&clientId=u2eebfe3c-d48e-4&from=paste&id=ua0780b2a&originHeight=1358&originWidth=2560&originalType=url&ratio=1&rotation=0&showTitle=false&size=1627786&status=done&style=none&taskId=ud493fddf-cca7-47ac-b416-fc17cef89d5&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091319093-59c4bf18-f3d0-4f74-9da4-beec8b83a7dd.png#averageHue=%23f8f6f8&clientId=u2eebfe3c-d48e-4&from=paste&height=456&id=u83da68d9&originHeight=1122&originWidth=1664&originalType=url&ratio=1&rotation=0&showTitle=false&size=596314&status=done&style=none&taskId=u8050d7c4-b095-4f16-b020-4ac3a62b9b8&title=&width=677)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091319423-9235d7f7-881d-49ac-8e36-d155266bf598.png#averageHue=%23f4f3f5&clientId=u2eebfe3c-d48e-4&from=paste&height=503&id=u8dacdffa&originHeight=1145&originWidth=1804&originalType=url&ratio=1&rotation=0&showTitle=false&size=790398&status=done&style=none&taskId=u2d752f94-915a-4fda-a9d6-7361f0c509a&title=&width=793)<br />论证类比<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091319930-3a9028d0-f7de-4455-86db-04a10e478998.png#averageHue=%23f0eff7&clientId=u2eebfe3c-d48e-4&from=paste&height=460&id=u65e92ae4&originHeight=1150&originWidth=2014&originalType=url&ratio=1&rotation=0&showTitle=false&size=1194361&status=done&style=none&taskId=u8d8fc007-89f9-40f8-9df9-346d764589e&title=&width=806)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091321156-627c4af6-55d9-40d5-a04d-fd6faded0b3e.png#averageHue=%23bec3df&clientId=u2eebfe3c-d48e-4&from=paste&id=ua254215d&originHeight=1201&originWidth=2140&originalType=url&ratio=1&rotation=0&showTitle=false&size=1908575&status=done&style=none&taskId=u45633645-7f3b-422e-80a0-188032bc59d&title=)<br /> |\n| --- |\n\n<a name=\"c3k9r\"></a>\n### 论 结论先行\n| <a name=\"Ay8jI\"></a>\n## 论\n总分总<br /><br />提问<br />然后呢(横向), 所以呢 (向上), 为什么 (向下)<br /><br />跟姑娘聊天, 聊兴趣, 横向聊各种兴趣, 向上聊人生价值观, 向下聊玩什么去哪玩<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091423491-39feb480-8335-4e8c-bd50-1d29bbe020de.png#averageHue=%23f5f3f5&clientId=u2eebfe3c-d48e-4&from=paste&id=u214bb6b7&originHeight=1128&originWidth=1841&originalType=url&ratio=1&rotation=0&showTitle=false&size=1025695&status=done&style=none&taskId=uf53532c8-5ffc-4dd8-8339-939be975d68&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091423510-a9b38d78-98b4-4628-b3a3-abf0a8dc82ac.png#averageHue=%23f6f4f7&clientId=u2eebfe3c-d48e-4&from=paste&id=u87f0e880&originHeight=1102&originWidth=1861&originalType=url&ratio=1&rotation=0&showTitle=false&size=1035292&status=done&style=none&taskId=u850d286c-8492-4631-be20-992e5cd9360&title=)<br /><br />结论先行指每个标题都是结论, 标题之下再摆事实和数据去支撑结论<br /> |\n| --- |\n\n<a name=\"bHy6g\"></a>\n### 证 以上统下\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091471717-87470238-ec03-4763-8612-465b0626f5d9.png#averageHue=%23e6e5f0&clientId=u2eebfe3c-d48e-4&from=paste&height=450&id=ubad7d292&originHeight=869&originWidth=1688&originalType=url&ratio=1&rotation=0&showTitle=false&size=782413&status=done&style=none&taskId=u6c1f4d53-e4cf-430a-ae02-ca1be8da02c&title=&width=874)\n\n<a name=\"b7xt2\"></a>\n### 类 归类分组\n<a name=\"s93L9\"></a>\n#### 分类: MECE原则 互相独立 完全穷尽\n| ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091551421-9dda6a98-9497-4254-81e1-0a03a17b102e.png#averageHue=%23e8e8ef&clientId=u2eebfe3c-d48e-4&from=paste&id=ufda854a1&originHeight=996&originWidth=1724&originalType=url&ratio=1&rotation=0&showTitle=false&size=1195998&status=done&style=none&taskId=u90e27700-a81f-4806-ba4c-1ba4e2f6233&title=)<br /><br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091551469-ee8e99e2-915d-40f1-9976-987b2d52efc8.png#averageHue=%23c5cbdb&clientId=u2eebfe3c-d48e-4&from=paste&id=u9883cc2a&originHeight=1140&originWidth=2073&originalType=url&ratio=1&rotation=0&showTitle=false&size=1747562&status=done&style=none&taskId=u5fdde58f-6ad8-4716-9fee-2d99de868ba&title=)<br /> |\n| --- |\n\n<a name=\"VCKCt\"></a>\n#### 排序: 时间 结构 重要性\n| ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091590511-09154c59-9b15-4a74-bccf-be0c53f1231f.png#averageHue=%23f4f1f5&clientId=u2eebfe3c-d48e-4&from=paste&id=uc7265558&originHeight=1060&originWidth=2037&originalType=url&ratio=1&rotation=0&showTitle=false&size=1588716&status=done&style=none&taskId=ub8248c5d-f2d6-4e64-b003-2cce85a6f3d&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091590062-f881e404-5ed3-49a4-8c10-9a676a819860.png#averageHue=%23e7e8f0&clientId=u2eebfe3c-d48e-4&from=paste&id=ueb947553&originHeight=922&originWidth=1920&originalType=url&ratio=1&rotation=0&showTitle=false&size=1159835&status=done&style=none&taskId=ubb713fad-2f6e-414e-bfdf-fad39538374&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091590305-b40e1e4e-40c1-4a9d-9fe6-bce15572ebf2.png#averageHue=%23d5dbea&clientId=u2eebfe3c-d48e-4&from=paste&id=u50ae4fc1&originHeight=962&originWidth=2049&originalType=url&ratio=1&rotation=0&showTitle=false&size=1325314&status=done&style=none&taskId=u5bb52f11-5ab4-476c-8d63-0a6c33c9d8b&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091590705-68b10a1c-9a63-41ec-9557-480c201adf04.png#averageHue=%23dddfea&clientId=u2eebfe3c-d48e-4&from=paste&id=ue9eb3d8a&originHeight=1158&originWidth=2016&originalType=url&ratio=1&rotation=0&showTitle=false&size=1983933&status=done&style=none&taskId=ub7113e92-4636-4cce-83c3-1017e4a25a4&title=)<br /> |\n| --- |\n\n<a name=\"VIgfW\"></a>\n### 比 逻辑递进\n| ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091708928-d1ad8013-ff65-433f-8eba-6a4adc44dc2f.png#averageHue=%23b1b8dc&clientId=u2eebfe3c-d48e-4&from=paste&id=ua2299935&originHeight=1091&originWidth=2088&originalType=url&ratio=1&rotation=0&showTitle=false&size=1960919&status=done&style=none&taskId=u796af875-a533-4b82-86f4-7d952a46849&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091708853-c352cfeb-60c6-4ff4-b864-a205ce035efe.png#averageHue=%238792a7&clientId=u2eebfe3c-d48e-4&from=paste&id=u44ec3e48&originHeight=1148&originWidth=1836&originalType=url&ratio=1&rotation=0&showTitle=false&size=1726881&status=done&style=none&taskId=u02f7625f-9744-4821-b3dc-7f016d62323&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091708701-4fc2aed9-b806-4bf6-9bed-68846403c61a.png#averageHue=%23c9d0dd&clientId=u2eebfe3c-d48e-4&from=paste&id=uc4efe3bd&originHeight=1071&originWidth=1715&originalType=url&ratio=1&rotation=0&showTitle=false&size=1529471&status=done&style=none&taskId=u3078b7ac-2365-46e7-86e7-5c9c1b774e6&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091708475-98aae629-f733-4c69-bc11-c9c67ad4fcee.png#averageHue=%23b3b8c5&clientId=u2eebfe3c-d48e-4&from=paste&id=ub6b90d60&originHeight=922&originWidth=1726&originalType=url&ratio=1&rotation=0&showTitle=false&size=1331156&status=done&style=none&taskId=u1a5900d0-2135-4b03-93ad-05dd2783a4e&title=)<br />比就是总结, 简化, 抽象, 可以帮助我们创造思维模型 |\n| --- |\n\n\n<a name=\"PiShK\"></a>\n## 呈现\n\n<a name=\"aYxaT\"></a>\n# 应用篇\n<a name=\"tVAhx\"></a>\n## 5W2H 清楚描述问题, 确定表达方向\n| <a name=\"EECbj\"></a>\n# <br />\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091962945-5b7656d0-b923-41d4-bd28-fd1ab4e80ddb.png#averageHue=%23e0dde1&clientId=u2eebfe3c-d48e-4&from=paste&id=u0c26de92&originHeight=1169&originWidth=2082&originalType=url&ratio=1&rotation=0&showTitle=false&size=1225172&status=done&style=none&taskId=u1f7f581b-5c95-437d-ba2c-9038ca010ca&title=)<br />把问题描述清楚了就解决了一半了<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091962965-b5599a8d-b591-4a03-9857-36caa2c1d9e2.png#averageHue=%23ebe7ec&clientId=u2eebfe3c-d48e-4&from=paste&id=uad42d1e8&originHeight=1112&originWidth=1987&originalType=url&ratio=1&rotation=0&showTitle=false&size=1165741&status=done&style=none&taskId=ub382fcc0-c00b-4803-b3fa-83f60ce3db6&title=)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091962904-99ed9561-90ed-46ae-a951-3bc8d25beb66.png#averageHue=%23eae7ea&clientId=u2eebfe3c-d48e-4&from=paste&id=u050bd177&originHeight=1112&originWidth=1961&originalType=url&ratio=1&rotation=0&showTitle=false&size=1133957&status=done&style=none&taskId=u86dbffc1-b791-4579-8c83-755d067ae59&title=)<br />how是怎么做, 战术, why是为什么这么做, 战略, 道<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668091962433-61b01e5a-bfdf-473d-ba47-d0cfa331af6a.png#averageHue=%23ebe9f6&clientId=u2eebfe3c-d48e-4&from=paste&id=ued634326&originHeight=677&originWidth=1577&originalType=url&ratio=1&rotation=0&showTitle=false&size=739035&status=done&style=none&taskId=u13418bc3-e2a8-4ada-be63-29321ce26c5&title=)<br /> |\n| --- |\n\n<a name=\"HQpKD\"></a>\n## 基于目标定主题\n| 表达首先要有目标, 明确这次表达的受众, 和我期待对方有什么行为<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668092072624-795f2a0c-a35a-43e0-9639-f08d5e79aadf.png#averageHue=%23aebde4&clientId=u2eebfe3c-d48e-4&from=paste&height=445&id=u2404b7a7&originHeight=1090&originWidth=1278&originalType=url&ratio=1&rotation=0&showTitle=false&size=1019576&status=done&style=none&taskId=u44fd5f36-262c-4452-9aaa-22033417ff5&title=&width=522)<br /><br />有了目标再确定主题, 主题要简单, 准确, 利益, 比如打土豪, 分田地 (毛泽东)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668092072964-39401b58-3852-4b1c-b5f2-2a9a83de9e42.png#averageHue=%23e4e9f2&clientId=u2eebfe3c-d48e-4&from=paste&height=406&id=uf1144e88&originHeight=1104&originWidth=1825&originalType=url&ratio=1&rotation=0&showTitle=false&size=1441370&status=done&style=none&taskId=ub6f718cf-d6bc-4651-a929-6b65f5e5fe2&title=&width=671)<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668092072943-093a1e16-462b-4481-ac05-3e8f1a504675.png#averageHue=%23c0c6e0&clientId=u2eebfe3c-d48e-4&from=paste&id=u26fae80c&originHeight=1068&originWidth=1652&originalType=url&ratio=1&rotation=0&showTitle=false&size=1357710&status=done&style=none&taskId=u6ed89a5e-3f0c-4e75-ad86-354d9756525&title=)<br />修改后可以作为副标题 |\n| --- |\n\n<a name=\"m1FUg\"></a>\n## 序言的四要素 SCQA\n| SCQA <br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668092395980-74b4ef13-45d3-42a9-badf-e02e9cb5b554.png#averageHue=%23f2f0f3&clientId=u75446fc6-976f-4&from=paste&id=u2dddeaab&originHeight=1146&originWidth=1348&originalType=url&ratio=1&rotation=0&showTitle=false&size=1200404&status=done&style=none&taskId=u71577e8e-4a12-44fb-b143-d61741b575a&title=)<br />讲故事的能力特别重要, 在人类进化史上, 人只会说一些基本信息的时候只能形成人数较少的群体, <br />会讲故事之后宗教, 信仰等就出现了, 开始形成人数更多的部落, 可以调动大量人力做事<br /><br />**在结论先行之前, 先来一段序言 / 开场白, 几句话讲清楚, 在什么情况下, 遇到了什么问题, 要干什么事**<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668092395709-18db7394-aa4d-4d88-a8aa-6e1b29699f46.png#averageHue=%23a9add2&clientId=u75446fc6-976f-4&from=paste&id=u79f4b09a&originHeight=1083&originWidth=1599&originalType=url&ratio=1&rotation=0&showTitle=false&size=845804&status=done&style=none&taskId=ub4c82ef2-9651-49be-a902-62476821252&title=)<br /><br />A就是结论<br /><br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1668092396028-30be07b0-3a22-4777-a08f-384012eb2a46.png#averageHue=%239fa6dc&clientId=u75446fc6-976f-4&from=paste&id=u8518373e&originHeight=1099&originWidth=1743&originalType=url&ratio=1&rotation=0&showTitle=false&size=1299399&status=done&style=none&taskId=ua5762448-b405-4701-a0a4-1cfc221a39a&title=)<br /><br />通过物理上的对SCQA调换顺序可以突出不同的情绪<br /> |\n| --- |\n\n<a name=\"SGafI\"></a>\n## 自上而下, 疑问回答搭建框架\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1670298563294-c735156e-79ca-4f31-a0c7-f5620f9d83f7.png#averageHue=%23b5c7e0&clientId=ubc224bea-f279-4&from=paste&height=521&id=u7af186d6&originHeight=1174&originWidth=2104&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1755473&status=done&style=none&taskId=u2763c631-0ecb-4000-af3b-6cdc41c0909&title=&width=934.4000244140625)<br />自上而下的叙述, 先抛出结论, 然会对方会有疑问, 然后解答疑问, 同时会产生新的疑问<br />本质是换位思考, 提前想好对方会有什么疑问, 就不会无聊<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1670299051645-54555be6-87e0-434c-86ac-5c2e7e2bf218.png#averageHue=%2352c683&clientId=ubc224bea-f279-4&from=paste&height=489&id=u4bacc2dd&originHeight=1115&originWidth=1382&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1070859&status=done&style=none&taskId=ud4fad827-79ef-4dff-af42-8f6cdd5ffae&title=&width=605.5999755859375)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1670299073524-4a5fec65-37fd-4e80-9e00-6bbee6afd227.png#averageHue=%23576255&clientId=ubc224bea-f279-4&from=paste&height=488&id=u56faad62&originHeight=1150&originWidth=1379&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1384863&status=done&style=none&taskId=u68948ebd-ebfc-4591-8049-0c9d73bcea9&title=&width=585.2000122070312)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1670299210252-44f8ae71-2878-4d4c-8732-700a6cf97575.png#averageHue=%2352c482&clientId=ubc224bea-f279-4&from=paste&height=466&id=u262cbab1&originHeight=1118&originWidth=1433&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1123471&status=done&style=none&taskId=u4b4ad670-9ec3-42ee-adcb-050c4162c60&title=&width=597.4000244140625)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1670299236834-46e1fd3e-ed70-42e0-a9b1-1367b952243d.png#averageHue=%2398be87&clientId=ubc224bea-f279-4&from=paste&height=522&id=u519dcbf8&originHeight=1120&originWidth=1303&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1224010&status=done&style=none&taskId=ud8c068c9-ce2e-48b9-b857-265434e36e3&title=&width=607.4000244140625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1670299262935-3abb332d-626d-4faf-89c1-3686ccc09be2.png#averageHue=%2396a88e&clientId=ubc224bea-f279-4&from=paste&height=749&id=uc75dd32c&originHeight=1107&originWidth=1513&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1681577&status=done&style=none&taskId=u2bbbd4f2-67a2-4b91-99f5-3b0c7311a8d&title=&width=1023.4000244140625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1670299176965-9801ddcc-7560-4ec7-bcaf-a5ee223216d6.png#averageHue=%23f7f6f8&clientId=ubc224bea-f279-4&from=paste&height=390&id=ucb0d265e&originHeight=901&originWidth=1604&originalType=binary&ratio=1&rotation=0&showTitle=false&size=438198&status=done&style=none&taskId=u989e7837-ac55-414d-b59e-bc689c2709c&title=&width=694.4000244140625)\n\n1. 先提出一个要表达的结论\n2. 站在受众的角度, 看看受众到底关心什么问题\n3. 针对每个问题给出解答, 解答过程中又会出现新问题\n4. 不断疑问-回答, 直至穷尽\n\n这个方法的好处是既有吸引力, 又有说服力\n\n<a name=\"YhItG\"></a>\n## 自下而上, 概括总结做聚合\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671010700930-b1b49097-666d-42e3-9020-9a94c19f55f8.png#averageHue=%23e6e4ea&clientId=ub15f6388-a51a-4&from=paste&height=459&id=u778ede0a&originHeight=1135&originWidth=1699&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1531076&status=done&style=none&taskId=u34856d1c-1237-4095-92ab-9dd94c0b72a&title=&width=686.4000244140625)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671010731329-2f1f8bae-f836-4fac-b62d-c17322a133f6.png#averageHue=%23c4cee2&clientId=ub15f6388-a51a-4&from=paste&height=471&id=u9f3d015f&originHeight=1108&originWidth=1604&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1334156&status=done&style=none&taskId=u9145d579-57c1-4fca-b655-bdbf3e476bd&title=&width=681.4000244140625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671010745305-92cdf69c-d9cc-43a8-82ba-0d776675f7b6.png#averageHue=%23ced3e4&clientId=ub15f6388-a51a-4&from=paste&height=545&id=u027b8163&originHeight=1143&originWidth=1865&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1386545&status=done&style=none&taskId=u26b5a11f-c57f-4b1e-a488-6280118e4c8&title=&width=889.4000244140625)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671010770127-0e02f200-2462-4611-942d-b2403ce267f9.png#averageHue=%23f6f5f6&clientId=ub15f6388-a51a-4&from=paste&height=467&id=u00ef8de4&originHeight=1105&originWidth=1536&originalType=binary&ratio=1&rotation=0&showTitle=false&size=502830&status=done&style=none&taskId=u70b69fcc-2f32-47c6-9b1c-d307aa7fff0&title=&width=649.7999877929688) ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671011039013-43afd83c-8798-4167-8125-58b7e445ae31.png#averageHue=%23acb9d8&clientId=ub15f6388-a51a-4&from=paste&height=524&id=u1fbf2927&originHeight=1098&originWidth=1802&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1403462&status=done&style=none&taskId=u3729747b-9283-431c-8307-3efc17b9912&title=&width=860.4000244140625)\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671011074387-fcd31b5b-6e34-4d02-b254-acc3165c1a53.png#averageHue=%23bababe&clientId=ub15f6388-a51a-4&from=paste&height=286&id=ua085a524&originHeight=836&originWidth=1482&originalType=binary&ratio=1&rotation=0&showTitle=false&size=896152&status=done&style=none&taskId=u6090f48a-ec06-4f99-a872-42ee35c2efc&title=&width=507.60003662109375)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671011291661-c0091533-6274-4c5f-a9ed-f962750761f5.png#averageHue=%2391d2ae&clientId=ub15f6388-a51a-4&from=paste&height=511&id=u4e9611a7&originHeight=1083&originWidth=1273&originalType=binary&ratio=1&rotation=0&showTitle=false&size=885432&status=done&style=none&taskId=ucf227b33-28fd-4acf-9af0-2e23b5a33f6&title=&width=600.4000244140625)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1671011320696-857107b8-65a7-49d3-b939-1cf874d8c53f.png#averageHue=%239f9ca1&clientId=ub15f6388-a51a-4&from=paste&height=351&id=u0e96414f&originHeight=1097&originWidth=1351&originalType=binary&ratio=1&rotation=0&showTitle=false&size=698217&status=done&style=none&taskId=u41ba10de-9995-4a8e-941b-314a6a7f60c&title=&width=431.8000183105469)<br />数据, 或者现象, 可以有很多描述的角度, 同一件事可以总结出相反的结论, 取决于表达者的目标, 所以定结论对与自下而上很重要\n\n自上而下和自下而上两种方法没有优劣之分, 目标特别明确的时候用自上而下, 不是特别明确时用自下而上, 看看目前有什么<br />现实中两种方法随时结合着用\n\n<a name=\"l1e3E\"></a>\n## 横向结构选顺序, 让表达更有逻辑\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343261190-42363cd4-53e1-4e5b-aceb-7b7cadd6dfed.png#averageHue=%23c7d3e4&clientId=u3eabe0e7-2e85-4&from=paste&height=467&id=ubc6036cd&originHeight=970&originWidth=1724&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1453866&status=done&style=none&taskId=ubec0f03d-cf1c-4ea7-a6bf-9c366eca4b2&title=&width=830)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343287541-4860f34c-ffda-4a94-a478-8fe2e972f7a2.png#averageHue=%23f8f8fa&clientId=u3eabe0e7-2e85-4&from=paste&height=453&id=ua521bc3b&originHeight=970&originWidth=1776&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1523497&status=done&style=none&taskId=uefed07fd-d2a2-456b-abd7-b04df0d5e56&title=&width=829)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343565463-8df717e4-9d3e-4131-90a3-17d41bc151d7.png#averageHue=%23f6f5f6&clientId=u3eabe0e7-2e85-4&from=paste&height=253&id=u97eb025a&originHeight=845&originWidth=1368&originalType=binary&ratio=1&rotation=0&showTitle=false&size=312992&status=done&style=none&taskId=ud43c509d-dd63-4997-9ae4-eb7235b168c&title=&width=410.3999938964844)<br />归纳和演绎是人类理性思考的两种模式, 属于逻辑学范畴.\n\n<a name=\"BYDNP\"></a>\n## 选择演绎, 让说服更有力\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343712708-857691fd-af3f-4145-b3ad-98080f90f61e.png#averageHue=%23f8f9fb&clientId=u3eabe0e7-2e85-4&from=paste&height=326&id=u35aece28&originHeight=722&originWidth=1551&originalType=binary&ratio=1&rotation=0&showTitle=false&size=822885&status=done&style=none&taskId=uecb7baeb-3e46-4c19-ba55-645fa9a2863&title=&width=701)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343789137-a82aede5-fd9f-45d6-85ad-2b733eb14c1d.png#averageHue=%23e6e4e6&clientId=u3eabe0e7-2e85-4&from=paste&height=449&id=u27550594&originHeight=958&originWidth=1829&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1626578&status=done&style=none&taskId=u9d0ffdd2-b233-48fe-9ac0-0d0398c0b3c&title=&width=858)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343809526-522bbf96-5b9b-4f76-ad62-c933f9a122a1.png#averageHue=%23e2e2e4&clientId=u3eabe0e7-2e85-4&from=paste&height=434&id=uebd7329f&originHeight=923&originWidth=1716&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1193477&status=done&style=none&taskId=u2530349b-8b52-4ad2-ad2d-051877f4ee3&title=&width=806)\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343738297-8d47e92b-c623-4346-9738-18053b5d4371.png#averageHue=%23e8eaf3&clientId=u3eabe0e7-2e85-4&from=paste&height=335&id=axBUB&originHeight=747&originWidth=1567&originalType=binary&ratio=1&rotation=0&showTitle=false&size=918046&status=done&style=none&taskId=uc5f03658-307d-45b9-be68-47990670c03&title=&width=703)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673343940286-cf5b9db2-d8cd-4b76-8458-f68b880bebce.png#averageHue=%23f1f0f3&clientId=u3eabe0e7-2e85-4&from=paste&height=460&id=uaaee4d38&originHeight=962&originWidth=1694&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1104383&status=done&style=none&taskId=ufe1a9aa0-f4fe-4262-8840-d70e3d11a1a&title=&width=810)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673344061308-cfe37c3e-e30d-4624-ad6d-0526147a0ae0.png#averageHue=%23bfc9dd&clientId=u3eabe0e7-2e85-4&from=paste&height=544&id=uc1575304&originHeight=994&originWidth=1688&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1469164&status=done&style=none&taskId=u42fae817-977f-4035-8e26-c6c41b29c04&title=&width=924)<br />常见式的原因和方案最好一一对应, 比较清晰\n<a name=\"xRzEa\"></a>\n## 选择归纳, 让要点更清晰\n横向关系:\n<a name=\"J5o80\"></a>\n### 类\n\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673349591203-fd5724fd-718a-42fa-924c-2294764636ae.png#averageHue=%23f3f2f3&clientId=u3eabe0e7-2e85-4&from=paste&height=510&id=ube5d3e5c&originHeight=994&originWidth=1686&originalType=binary&ratio=1&rotation=0&showTitle=false&size=810699&status=done&style=none&taskId=u626cc5eb-2bf4-43c3-9342-2d464486561&title=&width=865)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673349631011-4cb2352e-1e3a-4eab-b12f-42cef1d5299c.png#averageHue=%23d2dbe9&clientId=u3eabe0e7-2e85-4&from=paste&height=561&id=ua365d34c&originHeight=1003&originWidth=1533&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1043432&status=done&style=none&taskId=u9b13a42b-94bd-46e7-b04d-7034707a921&title=&width=857)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673349752575-12f820ca-5aba-4183-9256-b401b4b7533d.png#averageHue=%23f4f2f5&clientId=u3eabe0e7-2e85-4&from=paste&height=340&id=ubbb62c24&originHeight=989&originWidth=1371&originalType=binary&ratio=1&rotation=0&showTitle=false&size=902185&status=done&style=none&taskId=ud9ae4899-8b7a-43f2-884b-cbd6c917529&title=&width=471.79998779296875)<br />二维矩阵是一个很好的工具去帮助我们做MECE的分类\n<a name=\"XXmNu\"></a>\n### 比\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673349739922-90ed703f-3172-4735-82b6-66bd7115c331.png#averageHue=%23d2d5e1&clientId=u3eabe0e7-2e85-4&from=paste&height=422&id=u024cb2b4&originHeight=1003&originWidth=1776&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1342650&status=done&style=none&taskId=ub882508e-e59a-4cbe-a328-b4044a0ee81&title=&width=748)\n\n<a name=\"o47o5\"></a>\n## 配关系得图示, 让输出更生动形象\n<a name=\"bTCgb\"></a>\n### 流动\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673355902478-c39421b6-40bc-42d0-89d4-0246c6739b61.png#averageHue=%23f6f4f7&clientId=u3eabe0e7-2e85-4&from=paste&height=385&id=udbea1bb6&originHeight=908&originWidth=1416&originalType=binary&ratio=1&rotation=0&showTitle=false&size=539163&status=done&style=none&taskId=ueeb911a6-6742-4884-8ec4-d1435edbc25&title=&width=600)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673355911562-dfb96597-56a7-46d9-b59b-3dd346503236.png#averageHue=%23f4f3f5&clientId=u3eabe0e7-2e85-4&from=paste&height=468&id=u70e77439&originHeight=838&originWidth=1609&originalType=binary&ratio=1&rotation=0&showTitle=false&size=820990&status=done&style=none&taskId=u63809f54-9d1b-46cc-8df4-3e883cff7a8&title=&width=898)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673355930606-63036f28-fd16-49dc-92a3-18c1f975766a.png#averageHue=%23f6f5f7&clientId=u3eabe0e7-2e85-4&from=paste&height=463&id=u1a2a8aa1&originHeight=873&originWidth=1694&originalType=binary&ratio=1&rotation=0&showTitle=false&size=891170&status=done&style=none&taskId=u71fcf184-f30e-498f-88be-eef66d74fa4&title=&width=899)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673355949497-b42fbe98-bb73-4e21-a312-12ba55ada633.png#averageHue=%23f5f4f6&clientId=u3eabe0e7-2e85-4&from=paste&height=504&id=u3d04a08b&originHeight=907&originWidth=1631&originalType=binary&ratio=1&rotation=0&showTitle=false&size=945346&status=done&style=none&taskId=u67961460-ce7f-4da5-b810-3cfce68c2c9&title=&width=907)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673355961841-ff58b000-434a-4374-8a41-415fee5b9134.png#averageHue=%23f8f7f8&clientId=u3eabe0e7-2e85-4&from=paste&height=468&id=u8205c902&originHeight=872&originWidth=1695&originalType=binary&ratio=1&rotation=0&showTitle=false&size=859034&status=done&style=none&taskId=u433036b9-1406-47ef-be1c-34b3f180e02&title=&width=910)\n\n<a name=\"dcQo9\"></a>\n### 作用\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356016409-c2d84c4c-5f85-45bb-b48c-72559ff7be20.png#averageHue=%23f0eff1&clientId=u3eabe0e7-2e85-4&from=paste&height=396&id=ue50004cf&originHeight=927&originWidth=1417&originalType=binary&ratio=1&rotation=0&showTitle=false&size=668997&status=done&style=none&taskId=u0b4084fb-9d86-4976-b85a-d6ed56f2778&title=&width=605)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356038594-2370c929-2969-459f-8157-3966780ca8d9.png#averageHue=%23f1f1f5&clientId=u3eabe0e7-2e85-4&from=paste&height=455&id=u4bc68075&originHeight=888&originWidth=1638&originalType=binary&ratio=1&rotation=0&showTitle=false&size=880675&status=done&style=none&taskId=ub4d92c3b-3474-4277-afe2-b7b52214c88&title=&width=839)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356048654-91206318-da0e-493b-97de-e3da012cab24.png#averageHue=%23f3f2f5&clientId=u3eabe0e7-2e85-4&from=paste&height=454&id=u7ef2e3e2&originHeight=876&originWidth=1613&originalType=binary&ratio=1&rotation=0&showTitle=false&size=880796&status=done&style=none&taskId=uda4407bb-4354-4478-82f5-ce619afdb03&title=&width=836)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356054044-a4295d64-4b3e-4d8c-b047-89944e79ef7a.png#averageHue=%23f6f5f7&clientId=u3eabe0e7-2e85-4&from=paste&height=431&id=u0ce6b200&originHeight=848&originWidth=1651&originalType=binary&ratio=1&rotation=0&showTitle=false&size=775385&status=done&style=none&taskId=u93a10d48-3120-42d1-b9ea-37e1a2de794&title=&width=839)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356066969-df34d11e-a9f9-453b-959a-5130f8f37aa4.png#averageHue=%23f8f6f8&clientId=u3eabe0e7-2e85-4&from=paste&height=443&id=ue9ffd0bd&originHeight=889&originWidth=1685&originalType=binary&ratio=1&rotation=0&showTitle=false&size=881805&status=done&style=none&taskId=u72e1ad63-7548-4a33-ae90-ae1528c7c49&title=&width=839)\n<a name=\"x3gRL\"></a>\n### 关系\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356122069-e0c0f9ad-18a9-4e59-bf3e-902a89013ef8.png#averageHue=%23f5f4f5&clientId=u3eabe0e7-2e85-4&from=paste&height=342&id=u5c91567d&originHeight=789&originWidth=1362&originalType=binary&ratio=1&rotation=0&showTitle=false&size=481932&status=done&style=none&taskId=u861be0a4-a084-4fe1-a9a9-0e015be1518&title=&width=590.6000366210938)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356139776-089b6694-0417-41d6-9eff-49c81061f7c4.png#averageHue=%23f6f5f6&clientId=u3eabe0e7-2e85-4&from=paste&height=444&id=ud3311fdb&originHeight=867&originWidth=1646&originalType=binary&ratio=1&rotation=0&showTitle=false&size=771170&status=done&style=none&taskId=ue04ec1ed-3843-4e85-ade8-876dca27c65&title=&width=843)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356149552-f1d25a92-a6bf-41e4-83a4-55808a426fb8.png#averageHue=%23cfced4&clientId=u3eabe0e7-2e85-4&from=paste&height=432&id=u073a10c5&originHeight=842&originWidth=1643&originalType=binary&ratio=1&rotation=0&showTitle=false&size=755016&status=done&style=none&taskId=ubd7e6263-e43b-4c08-af48-131f79076b9&title=&width=843)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356168112-e1ca5e17-47a6-41f2-9a69-292f6d37be98.png#averageHue=%23f8f7f9&clientId=u3eabe0e7-2e85-4&from=paste&height=438&id=u4673d343&originHeight=826&originWidth=1590&originalType=binary&ratio=1&rotation=0&showTitle=false&size=647994&status=done&style=none&taskId=u9536c5de-4b34-4eba-a5c5-c7be56a2956&title=&width=843)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356174031-14be633c-80cf-4d4a-aadc-62ff0763a12d.png#averageHue=%23f6f5f7&clientId=u3eabe0e7-2e85-4&from=paste&height=432&id=u23fc0e6b&originHeight=828&originWidth=1621&originalType=binary&ratio=1&rotation=0&showTitle=false&size=684076&status=done&style=none&taskId=u84f0000f-52ef-4d2e-8227-b060c76a251&title=&width=846)\n\n<a name=\"iU0cI\"></a>\n### 比较\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356207978-cd171a14-cc80-4163-b37f-263966420817.png#averageHue=%23f4f3f6&clientId=u3eabe0e7-2e85-4&from=paste&height=355&id=uf27e6ca1&originHeight=826&originWidth=1385&originalType=binary&ratio=1&rotation=0&showTitle=false&size=541663&status=done&style=none&taskId=u0b83d74b-c851-4a55-b57b-225a5240136&title=&width=595)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356236982-58da1ca5-df62-4326-8a7e-eaa4854bdd98.png#averageHue=%2398c9d8&clientId=u3eabe0e7-2e85-4&from=paste&height=448&id=ua4ee0c15&originHeight=863&originWidth=1579&originalType=binary&ratio=1&rotation=0&showTitle=false&size=857269&status=done&style=none&taskId=u60b4a637-d8c2-4690-a67b-03ff6dc1543&title=&width=820)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356244669-1d0b912f-7e93-4b58-b6f2-4a281b82380e.png#averageHue=%23d7d6da&clientId=u3eabe0e7-2e85-4&from=paste&height=433&id=u2fffd855&originHeight=830&originWidth=1574&originalType=binary&ratio=1&rotation=0&showTitle=false&size=771275&status=done&style=none&taskId=u7735dade-d838-40e3-9ad4-1dc01b7c188&title=&width=822)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356251839-262df9a8-8558-4df5-aa5b-91a61f4dcb1b.png#averageHue=%23f8f7f8&clientId=u3eabe0e7-2e85-4&from=paste&height=417&id=u4d613c95&originHeight=806&originWidth=1589&originalType=binary&ratio=1&rotation=0&showTitle=false&size=673667&status=done&style=none&taskId=u0e396dc1-8847-4771-93c5-2cde4434c2d&title=&width=823)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356287516-2d95be15-391b-4022-b65a-0da3a6618ded.png#averageHue=%23f5f3f5&clientId=u3eabe0e7-2e85-4&from=paste&height=478&id=u9beefa97&originHeight=944&originWidth=1617&originalType=binary&ratio=1&rotation=0&showTitle=false&size=739514&status=done&style=none&taskId=u1c6dc920-d844-4e89-841e-6584c6344e6&title=&width=819)\n<a name=\"SjIez\"></a>\n## 上包装, 让观点更吸引人, 更容易记\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356580514-2237eb69-6eb3-4b3a-a71d-a3f577c9885b.png#averageHue=%23eeebef&clientId=u3eabe0e7-2e85-4&from=paste&height=416&id=u1895f7a8&originHeight=808&originWidth=1250&originalType=binary&ratio=1&rotation=0&showTitle=false&size=709517&status=done&style=none&taskId=u0457e8f1-6405-46bf-8239-8cf4ed7744c&title=&width=643)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356618074-42715fe7-db39-4af8-8d2d-69ba06bf7f8f.png#averageHue=%23cfccd4&clientId=u3eabe0e7-2e85-4&from=paste&height=683&id=u7d1e848b&originHeight=985&originWidth=1119&originalType=binary&ratio=1&rotation=0&showTitle=false&size=791104&status=done&style=none&taskId=u661d452e-e1d4-49a3-9bb8-be1ecf2036e&title=&width=776.2000122070312)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356678492-ff7c059f-aec9-40d0-b56e-6098fb1fc566.png#averageHue=%23f5f3f5&clientId=u3eabe0e7-2e85-4&from=paste&height=518&id=u6470849c&originHeight=957&originWidth=1708&originalType=binary&ratio=1&rotation=0&showTitle=false&size=833268&status=done&style=none&taskId=u6a08b9b6-f8d3-4169-a639-24d2927a386&title=&width=925)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356726974-197af749-78f0-451a-ac49-973d1056f97c.png#averageHue=%23bbd1e7&clientId=u3eabe0e7-2e85-4&from=paste&height=531&id=u5639ed55&originHeight=1005&originWidth=1746&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1419578&status=done&style=none&taskId=u5e7cd724-6bb9-43b6-816b-5092ee31403&title=&width=922)![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673356770721-f12c0150-f755-43cb-b373-d040efd2781e.png#averageHue=%23f0e9f1&clientId=u3eabe0e7-2e85-4&from=paste&height=595&id=uae782c2b&originHeight=989&originWidth=1535&originalType=binary&ratio=1&rotation=0&showTitle=false&size=904831&status=done&style=none&taskId=u7b0c6ff1-26ba-4fa4-a172-f4cfafa69f0&title=&width=923)<br />要根据具体的企业文化和场景去上不同风格的包装\n<a name=\"gipMs\"></a>\n## 如何将结构思考力运用于个人, 组织和社会\n![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1673357363860-b853ce5a-dc53-4c08-81a4-e416f4c68712.png#averageHue=%23edecf4&clientId=u3eabe0e7-2e85-4&from=paste&height=408&id=u5c3fe33b&originHeight=851&originWidth=1075&originalType=binary&ratio=1&rotation=0&showTitle=false&size=338273&status=done&style=none&taskId=ufbd48931-cc70-46cc-bfda-8c7efc0435e&title=&width=516)\n\n<a name=\"v1tSf\"></a>\n# \n",
      "properties": {
        "title": "李忠秋 结构化思维",
        "urlname": "gwh0hz7p5kwkvfuz",
        "author": "Jason Ma",
        "date": "2022-11-10 22:23:54",
        "updated": "2023-07-16 22:59:16"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "gwh0hz7p5kwkvfuz"
        }
      ],
      "body": ""
    },
    {
      "id": 72013186,
      "doc_id": "mz2vt4",
      "title": "mz2vt4",
      "updated": 1686756210000,
      "body_original": "[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1FT4y1E74V&p=61&page=61)\n<a name=\"woqdw\"></a>\n# 2.1 Mini-Batch梯度下降\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648885068639-555df7e8-e2a7-4d36-8ac9-ea3e8a8eb878.png#averageHue=%23dddddd&clientId=ua432f800-c5ab-4&from=paste&height=869&id=u6bcbc725&originHeight=1245&originWidth=1965&originalType=binary&ratio=1&rotation=0&showTitle=false&size=898882&status=done&style=none&taskId=ucfba0d55-bca8-4e31-b5b2-5a042439c1d&title=&width=1371.9271966038266)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648885232808-38115b3f-5d47-4222-9fec-18884bae0110.png#averageHue=%23e0e0df&clientId=ua432f800-c5ab-4&from=paste&height=869&id=u0773e4db&originHeight=1245&originWidth=1969&originalType=binary&ratio=1&rotation=0&showTitle=false&size=744165&status=done&style=none&taskId=u54398083-32fb-4640-b4ce-f3971f70d85&title=&width=1374.7199237215953)<br />把巨大的数据集分割成很多小的进行训练\n<a name=\"Iu5At\"></a>\n# 2.2 理解mini-batch梯度下降\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648885629231-8145df68-42d1-4aaf-9eb0-cc52535a46e1.png#averageHue=%23e9e8e8&clientId=ua432f800-c5ab-4&from=paste&height=566&id=ua54ab886&originHeight=811&originWidth=1462&originalType=binary&ratio=1&rotation=0&showTitle=false&size=401408&status=done&style=none&taskId=ub38ef623-7e72-416f-90bc-cb87aaf8d27&title=&width=1020.7417615444247)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648885613810-f5f1d221-fb22-4b1a-b863-e29ec69ac1f8.png#averageHue=%23eae9e7&clientId=ua432f800-c5ab-4&from=paste&height=570&id=u18c2a3c9&originHeight=817&originWidth=1471&originalType=binary&ratio=1&rotation=0&showTitle=false&size=597110&status=done&style=none&taskId=u5cc01003-5969-4b19-b36d-8849fcdbf2f&title=&width=1027.025397559404)<br />每次迭代随机选择mini-batch，所以会有noise<br />但随着不断训练，整体cost会下降，选择适中的mini-batch大小比较重要<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648885863071-d2d33906-0af7-4cbd-a3b8-de63a0e11837.png#averageHue=%23f7f7f7&clientId=ua432f800-c5ab-4&from=paste&height=563&id=u3ca6a65a&originHeight=806&originWidth=1472&originalType=binary&ratio=1&rotation=0&showTitle=false&size=282461&status=done&style=none&taskId=u8ac29ed4-4362-4c0d-95c0-d938566e6ea&title=&width=1027.723579338846)<br />大小应该是2的倍数，并且数据量小于内存容量\n<a name=\"yRs3e\"></a>\n# 2.3 指数加权平均\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648886050588-8fc91ba0-701d-48ed-aa9a-32267bb66559.png#averageHue=%23e0dfdf&clientId=ua432f800-c5ab-4&from=paste&height=866&id=u3b582af3&originHeight=1241&originWidth=1970&originalType=binary&ratio=1&rotation=0&showTitle=false&size=533659&status=done&style=none&taskId=u2bac2a27-21ef-41c8-a859-60226840c56&title=&width=1375.4181055010372)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648886187174-362cd724-de25-4eea-a4cf-2acbc9bd5388.png#averageHue=%23e0e0dc&clientId=ua432f800-c5ab-4&from=paste&height=866&id=u88321afa&originHeight=1241&originWidth=1970&originalType=binary&ratio=1&rotation=0&showTitle=false&size=659446&status=done&style=none&taskId=u4e8f0a3f-7de4-4c13-9b51-1dedd14877c&title=&width=1375.4181055010372)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648886290484-5de6e434-6bec-425d-9409-b487b409737f.png#averageHue=%23eff1ef&clientId=ua432f800-c5ab-4&from=paste&height=50&id=ub9b28b2a&originHeight=102&originWidth=622&originalType=binary&ratio=1&rotation=0&showTitle=false&size=34146&status=done&style=none&taskId=u7d0fccfc-b787-4cb5-863e-54f945ad50b&title=&width=305.2690734863281)<br />类似lerp，太快会抖动，太慢有延迟<br />β=0.5时是两天数据的平均，0.98时是50天数据的平均\n<a name=\"HNpqW\"></a>\n# 2.4 理解指数加权平均\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648886309017-6f53bff3-f5ef-4b19-9074-7c4aafcf7962.png#averageHue=%23f7fcf7&clientId=ua432f800-c5ab-4&from=paste&height=870&id=udff0ce93&originHeight=1246&originWidth=1967&originalType=binary&ratio=1&rotation=0&showTitle=false&size=795321&status=done&style=none&taskId=u81768b45-be87-411c-a2bd-aacee3150d6&title=&width=1373.323560162711)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648886565455-ba951145-c634-44e6-93d6-7a8ea352ed92.png#averageHue=%23f7fbf7&clientId=ua432f800-c5ab-4&from=paste&height=862&id=u411550d3&originHeight=1234&originWidth=1977&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1020235&status=done&style=none&taskId=u9a067100-2070-4a2c-9d25-dbac25bdc09&title=&width=1380.3053779571324)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648886693968-fd822a2f-ac4e-422f-a1a7-22b1ac7490b5.png#averageHue=%23f5f8f5&clientId=ua432f800-c5ab-4&from=paste&height=879&id=u754a009b&originHeight=1259&originWidth=1968&originalType=binary&ratio=1&rotation=0&showTitle=false&size=676636&status=done&style=none&taskId=uf9a48685-656a-4df9-89ca-b815dddb06c&title=&width=1374.021741942153)\n<a name=\"wI3Aw\"></a>\n# 2.5 指数加权平均的偏差修正\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648888060195-b5de9d0e-2773-46af-8019-4ee3f4d17998.png#averageHue=%23dfdede&clientId=ua432f800-c5ab-4&from=paste&height=867&id=u108eaa7e&originHeight=1242&originWidth=1973&originalType=binary&ratio=1&rotation=0&showTitle=false&size=705061&status=done&style=none&taskId=uc2d191e4-0f05-4808-a943-0dc1dd4e012&title=&width=1377.5126508393637)<br />Vt / (1- bate^t)帮助曲线在开始阶段更符合平均值\n<a name=\"CazZJ\"></a>\n# 2.6 Gradient Descent with Momentum\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648892078041-8b98531d-c4d4-47c5-aad9-15df96d047ff.png#averageHue=%23dedede&clientId=ua432f800-c5ab-4&from=paste&height=873&id=u882a914d&originHeight=1251&originWidth=1975&originalType=binary&ratio=1&rotation=0&showTitle=false&size=699200&status=done&style=none&taskId=u325b4b4b-e4b9-4365-b6ee-787b50ff077&title=&width=1378.909014398248)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648892260530-e863ebaa-2e34-4598-9f29-12cc65a03c79.png#averageHue=%23dddddd&clientId=ua432f800-c5ab-4&from=paste&height=871&id=u9e8ef0b9&originHeight=1248&originWidth=1961&originalType=binary&ratio=1&rotation=0&showTitle=false&size=620407&status=done&style=none&taskId=u04c95b51-d811-4a5f-858f-8098a659c30&title=&width=1369.134469486058)<br />Momentum：矩<br />因为考虑了之前的梯度，不容易陷入局部最优解。从效果看，相当于保留了冲量<br />还有一个版本删去了1-β，相当于除以1-β，相应的α要缩小\n<a name=\"NKkBw\"></a>\n# 2.7 RMSprop（Root Mean Square Prop）\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648893162317-f479da29-5e08-486c-ab91-dd32760ff5ba.png#averageHue=%23dddddd&clientId=ua432f800-c5ab-4&from=paste&height=863&id=u734b3deb&originHeight=1236&originWidth=1963&originalType=binary&ratio=1&rotation=0&showTitle=false&size=709356&status=done&style=none&taskId=u573ce2a8-3e7a-418d-993d-66a0d87d30d&title=&width=1370.5308330449423)<br />RMSprop结合Momentum可以消除梯度下降过程中的摆动，允许提高学习率，从而加快学习速度<br />RMSprop的诞生在coursera的课程里\n<a name=\"eDxCn\"></a>\n# 2.8 Adam优化算法\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648893767291-49e03300-7e5d-4194-9f90-a24baee5cbc1.png#averageHue=%23dedede&clientId=ua432f800-c5ab-4&from=paste&height=864&id=u964e9f82&originHeight=1237&originWidth=1973&originalType=binary&ratio=1&rotation=0&showTitle=false&size=757090&status=done&style=none&taskId=uf0d56fda-c704-4873-97cb-5d8457be9a3&title=&width=1377.5126508393637)<br />Adam：Adaptive Moment Estimation 自适应矩估计\n<a name=\"biIPp\"></a>\n# 2.9 学习率衰减\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648894294961-c4723566-326e-4973-b4d9-c880afaa321c.png#averageHue=%23e0e0e0&clientId=ua432f800-c5ab-4&from=paste&height=862&id=u7a8c6d7c&originHeight=1235&originWidth=1972&originalType=binary&ratio=1&rotation=0&showTitle=false&size=495324&status=done&style=none&taskId=u1741467f-8b6f-42ef-9741-28a29fd5630&title=&width=1376.8144690599215)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648894361255-78920510-938e-4bfa-9654-aca148aad671.png#averageHue=%23e0e0e0&clientId=ua432f800-c5ab-4&from=paste&height=855&id=u696e4a0b&originHeight=1225&originWidth=1940&originalType=binary&ratio=1&rotation=0&showTitle=false&size=427944&status=done&style=none&taskId=u2c21444b-9d6b-4d6c-b8bc-6c9d0268a0f&title=&width=1354.4726521177727)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648894434953-d3393a63-ee77-4a8a-ae13-69f6a895e977.png#averageHue=%23e1e1e0&clientId=ua432f800-c5ab-4&from=paste&height=864&id=uf532980f&originHeight=1238&originWidth=1953&originalType=binary&ratio=1&rotation=0&showTitle=false&size=396638&status=done&style=none&taskId=u8c453e30-2ee9-4cac-94ac-2d6e89bef27&title=&width=1363.5490152505208)\n<a name=\"X5AAV\"></a>\n# 2.10 局部最优问题\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648894640944-ac67fa56-cd8a-4bb8-aacc-7a1dd3dee1a4.png#averageHue=%23ddd9d6&clientId=ua432f800-c5ab-4&from=paste&height=869&id=u2757a56c&originHeight=1244&originWidth=1976&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1047593&status=done&style=none&taskId=u9a6dfddd-f15c-4770-9dcf-14615482cf6&title=&width=1379.6071961776902)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648894726939-f3d1c57c-d588-4db3-9bc4-45a53ad1e87d.png#averageHue=%23dcd9d5&clientId=ua432f800-c5ab-4&from=paste&height=872&id=u5d7e5c88&originHeight=1249&originWidth=1979&originalType=binary&ratio=1&rotation=0&showTitle=false&size=892515&status=done&style=none&taskId=uaa145f3b-8416-4389-a2d6-e2e6f7e8672&title=&width=1381.7017415160167)<br />低维图像中的局部最优问题误导了我们，实际上在高维中更有可能遇到的问题是鞍点<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648921923270-ceda7d30-02a0-42b8-9d8f-74efc3f39a89.png#averageHue=%23dcd9d5&clientId=ua432f800-c5ab-4&from=paste&height=871&id=ua13cb0fa&originHeight=1248&originWidth=1978&originalType=binary&ratio=1&rotation=0&showTitle=false&size=891288&status=done&style=none&taskId=u0651fc79-3e66-45e9-b676-4c047ad81b0&title=&width=1381.0035597365745)<br />遇到高维平缓段没有太好的办法，Adam等优化算法可以尽可能提高速度\n<a name=\"umzaA\"></a>\n## 补充：梯度下降法局部最优解和鞍点的问题\n陷入局部最优并不是神经网络的问题，在一个高维空间中做梯度下降，很难收敛到局部最优，因为局部最小值要求函数在所有维度上都是局部最小值。若一个维度收敛到局部最小值的概率是0.5，则n维度收敛到局部最小值的概率是0.5^n，因此若n足够大，则收敛到局部最小值得概率接近于0。\n\n实际情况，在高维平面，函数会落在鞍点上。鞍点是函数在某一维度或多个维度上梯度不为0的点。因此，落在鞍点上的概率为1-0.5^n。也就是说，当模型最后收敛到一个导数接近0的点，那这个点几乎可以肯定是鞍点。\n\n我们使用的小批量梯度下降法(mini-batch SGD)，其本身是有噪声的梯度估计；因此即使位于梯度为0的点，也经常在某个mini-batch下将其估计偏了，导致往前或往后挪一步摔下马鞍。即使用小批量梯度下降法使得模型很容易逃离特征空间中的鞍点。\n\n那么，神经网络难以踩到局部最优点，也很容易逃离鞍点，为什么最后模型会收敛呢？在高维空间中，真正可怕的不是局部最优点也不是鞍点，而是一些特殊地形，如大面积的平坦区域。在平坦区域，虽然导数不为0但也不大，但是其梯度下降的路程却非常的远。它需要走很多步才能走出这一片平台区域；在特殊情况下，使用一阶优化算法甚至走无穷步也走不出去。\n\n因此，相比于局部最优和鞍点，优化算法更可能载到这种类似的平坦区域中；一旦陷入这些危险地形，几乎是无解的。\n\n我们应该考虑的是如何设计一个没有类似平坦区域的loss空间，以及深度学习模型的设计。\n\n参考：[http://www.360doc.com/content/17/1122/08/7669533_706045736.shtml](http://www.360doc.com/content/17/1122/08/7669533_706045736.shtml)<br />————————————————<br />版权声明：本文为CSDN博主「BingLZg」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br />原文链接：[https://blog.csdn.net/Bing_bing_bing_/article/details/95327020](https://blog.csdn.net/Bing_bing_bing_/article/details/95327020)\n<a name=\"jSNFz\"></a>\n# 3.1 调试处理\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648922160174-759debfe-0212-42a0-88f5-956a501f7c81.png#clientId=u7d09d749-b7d7-4&from=paste&height=394&id=uf2a224fd&originHeight=986&originWidth=1032&originalType=binary&ratio=1&rotation=0&showTitle=false&size=273705&status=done&style=none&taskId=uf5269783-ca6a-4fca-aabe-a0b3229c69c&title=&width=412.52362060546875)<br />红色 alpha最重要<br />黄色其次<br />紫色更次<br />剩下的几乎不需要调试<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648922370319-da02decb-954b-4d55-9918-4d2a3a3c9f64.png#clientId=u7d09d749-b7d7-4&from=paste&height=856&id=u7cf41a7f&originHeight=1226&originWidth=1963&originalType=binary&ratio=1&rotation=0&showTitle=false&size=452490&status=done&style=none&taskId=u90530df5-e625-4873-b3ca-acacd65ed37&title=&width=1370.5308330449423)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648922414814-95df5f60-698a-4020-9d5e-f7058194a449.png#clientId=u7d09d749-b7d7-4&from=paste&height=869&id=u7a2fd3bc&originHeight=1245&originWidth=1959&originalType=binary&ratio=1&rotation=0&showTitle=false&size=460570&status=done&style=none&taskId=u96b7bf54-83be-4939-9a24-7de109072e3&title=&width=1367.7381059271736)<br />在所有维度上随机取值<br />精确搜索，不断缩小取值范围\n<a name=\"SmAmZ\"></a>\n# 3.2 为超参数选择合适的范围\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648922579383-8dd743bb-427b-480b-a6f0-f27738de2812.png#clientId=u7d09d749-b7d7-4&from=paste&height=865&id=u88fb9acf&originHeight=1239&originWidth=1971&originalType=binary&ratio=1&rotation=0&showTitle=false&size=326342&status=done&style=none&taskId=u9702c05f-a5ab-40a2-ac63-9e4583a3306&title=&width=1376.1162872804794)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648922768710-6bfa792a-3ac4-4658-b28a-1b17a14e69eb.png#clientId=u7d09d749-b7d7-4&from=paste&height=864&id=uc9b0a4bf&originHeight=1238&originWidth=1949&originalType=binary&ratio=1&rotation=0&showTitle=false&size=594031&status=done&style=none&taskId=u242e87bc-b1de-4a7c-9685-fa06e93606b&title=&width=1360.7562881327522)<br />学习率取值0.0001-1，需要在对数轴上随机<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648922946029-85f1abe5-ed72-4467-9846-85143fc93207.png#clientId=u7d09d749-b7d7-4&from=paste&height=857&id=u3b3ebdda&originHeight=1227&originWidth=1962&originalType=binary&ratio=1&rotation=0&showTitle=false&size=595301&status=done&style=none&taskId=ud593b6f7-cea6-4a3f-8f57-4a545eb086c&title=&width=1369.8326512655)\n<a name=\"iVdBV\"></a>\n# 3.3 实践中的超参数训练: 熊猫 vs. 鱼子酱\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648971734972-c1b1f3f5-6466-4fac-a6f6-6818754d0c9d.png#clientId=ua8766371-f46e-4&from=paste&height=848&id=u2196fb97&originHeight=1214&originWidth=1844&originalType=binary&ratio=1&rotation=0&showTitle=false&size=493148&status=done&style=none&taskId=ua4f8b839-81b7-441e-9606-2fdc70c5ce4&title=&width=1287.4472012913263)<br />定时更新超参数<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648971935302-02ca923d-0f35-458e-9016-075eff6a5d40.png#clientId=ua8766371-f46e-4&from=paste&height=847&id=u11166880&originHeight=1213&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=888666&status=done&style=none&taskId=u8cf8cfff-692a-466e-9a3d-406d4b86b7d&title=&width=1288.1453830707685)<br />如果训练足够快，可以尝试大量随机的超参数，看哪一个更好\n<a name=\"txWGo\"></a>\n# 3.4 归一化网络的激活函数\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648973612997-ff2ca65f-0e14-4260-be4f-9439063f0fd7.png#clientId=ua8766371-f46e-4&from=paste&height=844&id=uab86c5af&originHeight=1209&originWidth=1837&originalType=binary&ratio=1&rotation=0&showTitle=false&size=649951&status=done&style=none&taskId=u0cda88c9-0461-467a-a701-4c731d14771&title=&width=1282.5599288352312)<br />Logistic Regression中可以用均值归一化加快训练<br />神经网络中可以用Batch归一化Z加快训练<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648973997206-752b993a-9cfa-451d-8097-ead9bce87808.png#clientId=ua8766371-f46e-4&from=paste&height=836&id=u173d0089&originHeight=1197&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=605511&status=done&style=none&taskId=ub6c7d34f-40b6-48ca-97f8-7c0fb4b4ce5&title=&width=1288.1453830707685)<br />Batch Norm引入了两个学习参数γ和β，通过学习这两个参数可以使z有任意的均值和方差\n<a name=\"ppPZ1\"></a>\n# 3.5 Fitting Batch Norm into a Neural Network\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648974376239-34a241cb-3226-46eb-bb8a-d7e1356cd7ed.png#clientId=ua8766371-f46e-4&from=paste&height=838&id=u10378a40&originHeight=1200&originWidth=1851&originalType=binary&ratio=1&rotation=0&showTitle=false&size=753339&status=done&style=none&taskId=u039c25f8-a07f-445b-a225-631d7e1d707&title=&width=1292.3344737474213)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648974563680-8799cb4e-f15c-4c05-b819-110d159e7f38.png#clientId=ua8766371-f46e-4&from=paste&height=856&id=u6931d8c7&originHeight=1226&originWidth=1858&originalType=binary&ratio=1&rotation=0&showTitle=false&size=625349&status=done&style=none&taskId=u1d801ca1-5078-40ff-9560-ebf356145c0&title=&width=1297.2217462035164)<br />原来的b的作用被β替代了<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648974700993-87761579-d684-4784-9094-ed9e5f3252d9.png#clientId=ua8766371-f46e-4&from=paste&height=843&id=u56161e56&originHeight=1207&originWidth=1829&originalType=binary&ratio=1&rotation=0&showTitle=false&size=583468&status=done&style=none&taskId=u5f8454a7-0c10-4fa8-b5f8-bdfef7ded6c&title=&width=1276.974474599694)\n<a name=\"YXReV\"></a>\n# 3.6 Batch Norm为什么奏效\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648975035976-bb1a61ca-a149-4895-a619-44e63f8c6185.png#clientId=ua8766371-f46e-4&from=paste&height=839&id=u52d19430&originHeight=1202&originWidth=1831&originalType=binary&ratio=1&rotation=0&showTitle=false&size=946775&status=done&style=none&taskId=ua2894c22-ea5d-4bef-9ad4-b9078e571d2&title=&width=1278.3708381585784)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648975293066-11aff11e-b637-4425-9395-1302a14d23ce.png#clientId=ua8766371-f46e-4&from=paste&height=845&id=u5066bfbf&originHeight=1211&originWidth=1831&originalType=binary&ratio=1&rotation=0&showTitle=false&size=902700&status=done&style=none&taskId=u00930a40-4d71-4952-a416-e8fb4588b8b&title=&width=1278.3708381585784)<br />Batch Norm通过限制均值和方差让每一层网络之间更独立，更少受到前层的影响，减少了协变量转变（Covariate Shift）的问题<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648975406266-9d08d490-2416-4e39-ad4e-0d3ffb99c29c.png#clientId=ua8766371-f46e-4&from=paste&height=840&id=ua5085669&originHeight=1203&originWidth=1833&originalType=binary&ratio=1&rotation=0&showTitle=false&size=659777&status=done&style=none&taskId=ufb5ec05d-f4f7-4952-928d-18024624ee2&title=&width=1279.7672017174625)<br />配合mini-batch使用可以起到轻微的正则化作用，因为每个mini-batch相互独立\n<a name=\"pToY2\"></a>\n# 3.7 Batch Norm at Test Time\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648976190412-e114a2cb-d4ff-4b6c-b260-5f0172635d25.png#clientId=ua8766371-f46e-4&from=paste&height=850&id=uc3318b78&originHeight=1217&originWidth=1858&originalType=binary&ratio=1&rotation=0&showTitle=false&size=688176&status=done&style=none&taskId=u63b2fa59-845a-4659-bc7e-61657aae555&title=&width=1297.2217462035164)<br />归一化测试数据集不能依赖测试数据集本身，而是必须依赖训练数据集，这样才能验证模型的泛化性能\n\n重点就是在训练时我们是用整个最小批 比如说64个或者128个或者其他数量的训练实例 来计算mu和sigma平方 但是在测试时 我们可能会需要处理单个测试实例 那么 处理的方式就是通过训练集来估算mu和sigma平方 我们有很多方式来做估算 理论上 我们可以用我们最后的网络运行整个训练集 来得到mu和sigma平方 但是实际上 人们通常会实现某种指数加权平均 来记住在训练时见到的mu和sigma平方的值 然后用这个指数加权平均数 有时也被称作移动均值 来得到mu和sigma平方的粗略的估算 然后我们用这些mu和sigma平方的估算值 在测试时进行比例缩放来获取隐藏神经元的Z值\n<a name=\"e6Szy\"></a>\n# 3.8 softmax回归\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648976415143-1d979881-b7b6-42c2-9951-6572cbae1323.png#clientId=ua8766371-f46e-4&from=paste&height=848&id=uc4159608&originHeight=1214&originWidth=1857&originalType=binary&ratio=1&rotation=0&showTitle=false&size=991278&status=done&style=none&taskId=ub4437dfc-ecf3-40dc-8a94-a14abd11cc6&title=&width=1296.5235644240743)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648976750580-58c9141a-645d-49a7-9f2e-58cdebcd554a.png#clientId=ua8766371-f46e-4&from=paste&height=848&id=u24ba7e35&originHeight=1214&originWidth=1843&originalType=binary&ratio=1&rotation=0&showTitle=false&size=697900&status=done&style=none&taskId=uc1d9c0f3-9cce-4abc-8f5b-edf841710d9&title=&width=1286.7490195118842)<br />softmax用玻尔兹曼分布并归一化求出不同分类的概率<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648976938752-426007d5-1205-41d0-9d94-b06a26ca592d.png#clientId=ua8766371-f46e-4&from=paste&height=841&id=ud509ef73&originHeight=1204&originWidth=1840&originalType=binary&ratio=1&rotation=0&showTitle=false&size=827606&status=done&style=none&taskId=uc233d05e-1ff1-4a89-b5b4-4139abf6aee&title=&width=1284.6544741735577)<br />单层神经网络解决多线性分类，深层神经网络可以解决更复杂的非线性决策边界\n<a name=\"XZKF6\"></a>\n# 3.9 训练一个softmax分类器\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648978720239-22ab2fa4-6f5c-4346-8afb-dba552ae5707.png#clientId=ua8766371-f46e-4&from=paste&height=845&id=u9bd607d8&originHeight=1211&originWidth=1832&originalType=binary&ratio=1&rotation=0&showTitle=false&size=531889&status=done&style=none&taskId=u150e69db-74ac-490d-b0da-97105b36152&title=&width=1279.0690199380206)<br />Softmax是对Logistic Regression的推广<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648978972825-0be429a5-d5ef-4107-bf44-895cdcb6ea41.png#clientId=ua8766371-f46e-4&from=paste&height=842&id=uaed23a7d&originHeight=1206&originWidth=1843&originalType=binary&ratio=1&rotation=0&showTitle=false&size=566410&status=done&style=none&taskId=u36759f17-4b2f-48e5-a801-4fc68b5f809&title=&width=1286.7490195118842)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648979066489-7b6052c0-7564-4bdc-b17c-8c4d96ace2f4.png#clientId=ua8766371-f46e-4&from=paste&height=825&id=u4f99a889&originHeight=1181&originWidth=1837&originalType=binary&ratio=1&rotation=0&showTitle=false&size=479313&status=done&style=none&taskId=u11c95002-8f5b-492e-ba80-06f73d77fad&title=&width=1282.5599288352312)<br />导数计算和logistic regression的a-y类似\n<a name=\"VTb1Q\"></a>\n# 3.10 深度学习框架\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648979285986-75a38670-814e-41ca-9a77-62feccf80f3b.png#clientId=ua8766371-f46e-4&from=paste&height=848&id=u88faa7b6&originHeight=1214&originWidth=1843&originalType=binary&ratio=1&rotation=0&showTitle=false&size=529911&status=done&style=none&taskId=u702130d9-7cbe-4b91-a67c-d74491b2b83&title=&width=1286.7490195118842)\n<a name=\"mJRuW\"></a>\n# 3.11 TensorFlow\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648981047676-ec76b713-fca9-4fdc-8853-3728a295615a.png#clientId=ua8766371-f46e-4&from=paste&height=841&id=u2ea46de4&originHeight=1205&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=238261&status=done&style=none&taskId=u2e433925-0580-40d0-9e93-4696be05236&title=&width=1288.1453830707685)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648981540666-826f4e88-8fc3-447a-b1a4-f0633f9e24e9.png#clientId=ua8766371-f46e-4&from=paste&height=845&id=ucc712b4b&originHeight=1211&originWidth=1844&originalType=binary&ratio=1&rotation=0&showTitle=false&size=843255&status=done&style=none&taskId=u77cfc2e5-6d1a-4460-bc84-e303502a7b4&title=&width=1287.4472012913263)\n",
      "properties": {
        "title": "吴恩达 Improving Deep Neural Networks",
        "urlname": "mz2vt4",
        "author": "Jason Ma",
        "date": "2022-04-02 15:33:12",
        "updated": "2023-06-14 23:23:30"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "mz2vt4"
        }
      ],
      "body": ""
    },
    {
      "id": 91383592,
      "doc_id": "meh35f",
      "title": "meh35f",
      "updated": 1697380897000,
      "body_original": "---<br />tags:\n\n- GPGPU\n- VFX\n\n---<br />一篇面向美术和TA的Niagara科普.\n<a name=\"c5azR\"></a>\n# Niagara是什么\n> Niagara是虚幻引擎的下一代视觉特效处理系统。技术美术师无需程序员的任何帮助，就能使用Niagara创建出丰富多彩的效果。此系统适应性强，灵活多变。\n> <a name=\"Sgk2j\"></a>\n### 为何要重新塑造虚幻引擎的视觉效果系统？\n> 虚幻引擎的用户群体在不断扩大，虚幻引擎广泛应于游戏开发领域以外的众多行业。例如：\n> - 建筑视觉表现\n> - 工业设计（如汽车设计）\n> - 虚拟影视制作\n> \n用户更加多样化——有设计专业的学生、独立开发者、大型专业工作室团队，以及非游戏领域的个人和公司。随着不断发展，Epic开发人员无法全面了解虚幻引擎介入的所有行业。因此我们希望创建适用于各行业所有用户的视觉效果（VFX）系统。\n> <a name=\"j5bDh\"></a>\n### 新VFX系统的目标\n> 我们要创建新系统，取Cascade之精华，去其糟粕。因此，新VFX系统的目标是：\n> - 美术师可全权掌控效果。\n> - 各轴均可编程、可自定义。\n> - 提供更好的调试、显示和性能工具。\n> - 支持来自虚幻引擎4其他部分或外部源的数据。\n> - 不妨碍用户操作。\n\n\nUE4.26开始测试，UE5正式取代Cascade成为默认的粒子系统。<br />简单来说，Niagara就是一个处理粒子行为的系统，通过控制每个粒子不同的发射、轨迹、颜色、死亡、环境交互等一系列参数，最终再以统一的口径喂给渲染器得出你想要的各种特效。<br />同时Niagara的本质是可视化编程的Compute Shader, 这意味着它亦可处理部分通用并行计算, 去实现如实时物理模拟, 鸟群算法等骚操作. <br />Niagara虽然强大, 但对使用者提出了更高要求. 想要漂亮的效果离不开优秀的艺术审美, 想要实现各种各样的功能离不开对Niagara乃至渲染管线的技术积累, 想要处理各种突发恶疾或扩展功能离不开阅读修改源码.<br />总之, 学了不亏.\n<a name=\"SxZpk\"></a>\n# Niagara能干什么\n下载官方示例工程<br />[在UE功能示例创建的内容示例 - 虚幻引擎商城](https://www.unrealengine.com/marketplace/zh-CN/product/content-examples)\n<a name=\"dOpUu\"></a>\n## 基本粒子\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662045238244-048941b7-6c72-4b3b-95e8-08479554f4a2.png#averageHue=%2351473e&clientId=u0e74199c-f023-4&from=paste&height=372&id=u01c57c42&originHeight=582&originWidth=722&originalType=binary&ratio=1&rotation=0&showTitle=false&size=483414&status=done&style=none&taskId=u5aa03951-980e-4f9f-8d1e-8b2fad8a582&title=&width=462.08)<br />简单位移+旋转+缩放\n\n<a name=\"MN1NE\"></a>\n## GPU粒子\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662045559021-ade83ca5-891c-43e5-9c70-3c386def3363.png#averageHue=%23453e34&clientId=u0e74199c-f023-4&from=paste&height=390&id=u8cdea2e5&originHeight=609&originWidth=862&originalType=binary&ratio=1&rotation=0&showTitle=false&size=705607&status=done&style=none&taskId=u851e04fd-1005-4147-b17d-658871998b9&title=&width=551.68)<br />相比CPU粒子可以轻松做到数十万的量级，实现更加华丽的效果<br />缺点是不支持事件，类似雨滴落到地上再发射水花无法实现<br />也不支持自动Bounding Box，必须手动设置BBox，如果BBox小于特效本身就可能导致过早Culling的问题\n<a name=\"vuFPP\"></a>\n## 渲染器类型\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662045879152-53c7b83f-d10d-4c1a-b584-dbcc2c1a9fe7.png#averageHue=%233e342c&clientId=u0e74199c-f023-4&from=paste&height=406&id=uc3db2f72&originHeight=635&originWidth=886&originalType=binary&ratio=1&rotation=0&showTitle=false&size=555211&status=done&style=none&taskId=ua06e8d2b-fc10-4367-9ede-a9877372f07&title=&width=567.04)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662048553247-5d9ffbe7-9cac-4bed-889b-a27527c8f72b.png#averageHue=%23766c61&clientId=u0e74199c-f023-4&from=paste&height=493&id=u7b630c8d&originHeight=771&originWidth=851&originalType=binary&ratio=1&rotation=0&showTitle=false&size=772692&status=done&style=none&taskId=u44d60039-e3c3-4925-bf15-ea7e3ca496a&title=&width=544.64)<br />Niagara原生支持将每个粒子用以下类型渲染：\n\n1. Sprite，最常见的Billboard面片\n2. Static Mesh\n3. Light，无阴影点光源，CPU Only\n4. Ribbon，条带，CPU Only\n5. Geometry Cache，也就是ABC，Static Mesh的序列，CPU Only\n6. Component，发射任意Blueprint Component，比如Niagara、Skeletal Mesh等等，CPU Only\n\n无论什么类型最终到GPU上渲染的仍然是Mesh+Material\n\n<a name=\"V4otM\"></a>\n## 场景碰撞\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662048920161-66d8c7cb-4fb6-4a61-8360-8b15e8fb274c.png#averageHue=%235f564d&clientId=u0e74199c-f023-4&from=paste&height=454&id=udfa0a456&originHeight=710&originWidth=878&originalType=binary&ratio=1&rotation=0&showTitle=false&size=694445&status=done&style=none&taskId=u4eb16e7d-8763-4b86-85af-ebb9ea94ffe&title=&width=561.92)<br />Niagara原生提供以下类型的**粒子**与**场景**碰撞：\n\n1. CPU Ray Cast，也就是和模型的碰撞体求交，可能会遇到碰撞体丢失、不准、性能低等问题\n2. GPU Depth，通过现有的相机方向深度图计算碰撞，非常快速，但是无法处理视线范围之外的粒子\n3. GPU SDF，通过现有的场景Global Distance Field求交，可以提供完整场景碰撞，准确度一般，性能一般\n4. GPU Ray Tracing，通过光线追踪的加速结构直接与场景求交，最为准确、易用，但性能最为昂贵\n\n注意，以上不包含粒子间碰撞\n<a name=\"kqdKK\"></a>\n## Mesh, Gbuffer交互\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662377954075-5517cc4b-9363-4e9d-8e1b-9c73604dcd56.png#averageHue=%2381746a&clientId=uee132cb4-5ebb-4&from=paste&height=489&id=u7b0aacd2&originHeight=764&originWidth=759&originalType=binary&ratio=1&rotation=0&showTitle=false&size=668102&status=done&style=none&taskId=u6b19f2c3-c344-4774-b03b-7e1ec659e1c&title=&width=485.76)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662378025082-9c18874f-f030-4ca1-9855-c47cd0a2dffd.png#averageHue=%238b796a&clientId=uee132cb4-5ebb-4&from=paste&height=540&id=uea3889a1&originHeight=843&originWidth=1012&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1049147&status=done&style=none&taskId=u98714a59-d005-4586-805f-bd5c3d0da06&title=&width=647.68)<br />Niagara原生支持采样Mesh, 可以获得任意顶点或三角形的位置和法线等信息, 这意味着粒子和Mesh的精确实时交互成为可能.<br />同时Niagara支持在GPU模式采样Gbuffer, 可以获得Base Color, Roughness, Metallic, Depth等信息, 使得与场景的精确交互成为可能, 比如发射Decal到墙上, 地上, 并且随场景更改颜色.\n<a name=\"oheJ7\"></a>\n## 临近搜索\n![图一, 2 * 2 * 2的Neighbor Grid 3D](https://cdn.nlark.com/yuque/0/2022/png/504873/1662381745055-9b098112-5dbe-42c0-8a3f-2db34aad958b.png#averageHue=%23807566&clientId=uee132cb4-5ebb-4&from=paste&height=580&id=u0db36918&originHeight=906&originWidth=825&originalType=binary&ratio=1&rotation=0&showTitle=true&size=937926&status=done&style=none&taskId=u442b794e-c367-4899-a01a-f4b8de799dd&title=%E5%9B%BE%E4%B8%80%2C%202%20%2A%202%20%2A%202%E7%9A%84Neighbor%20Grid%203D&width=528 \"图一, 2 * 2 * 2的Neighbor Grid 3D\")![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662381827893-6146c6fe-a49b-44b8-8949-ff9515e701f7.png#averageHue=%23766d63&clientId=uee132cb4-5ebb-4&from=paste&height=583&id=ua63335d1&originHeight=911&originWidth=1065&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1231115&status=done&style=none&taskId=u387d923f-d5e1-4503-8f6e-71d7851d7bc&title=&width=681.6)<br />**Simulation Stage**和**Data Interface**是可以说是Niagara最重磅的新功能, 并且只支持GPU模式.\n<a name=\"BMNg0\"></a>\n### Neighbor Grid 3D\nNeighbor Grid 3D (图一) 是众多Data Interface中的一种, 如其名是一种3D数据结构, 其中每个Cell存储有若干粒子的Index, 通过Index可以访问粒子的各项属性. <br />其专为临近搜索设计, 支持原子操作, 通过遍历粒子周围的Cell可以找到一定范围内最近的粒子.\n<a name=\"FQPHO\"></a>\n### Simulation Stage\n一个Stage可以理解为一个多线程的for循环, 循环内容由用户定义, 循环次数可动态修改.<br />Stage的线程可以运行在每个粒子上也可以运行在Grid中每个Cell上.<br />用户可以添加任意数量的Stage, 一个Stage的计算全部完成后才会执行下一个, 执行顺序由用户定义.\n\n这两个功能组合到一起便实现了上图中的效果, 首先大粒子在Simulation Stage中向Neighbor Grid写入, 然后每个小粒子分别查找最近的大粒子, 并读取其颜色.<br />接下来看看更多例子.\n<a name=\"J3wLE\"></a>\n## 通用并行计算\n![左: 2D火焰模拟, 渲染到Billboard  右: 3D火焰模拟](https://cdn.nlark.com/yuque/0/2022/png/504873/1662382067933-ce30e2a7-0f96-444c-bbe3-e0ab20997df1.png#averageHue=%237a685b&clientId=uee132cb4-5ebb-4&from=paste&height=529&id=u68daa9db&originHeight=826&originWidth=1063&originalType=binary&ratio=1&rotation=0&showTitle=true&size=1210645&status=done&style=none&taskId=ub6e9cdcb-b461-4d27-bc41-425ba53226b&title=%E5%B7%A6%3A%202D%E7%81%AB%E7%84%B0%E6%A8%A1%E6%8B%9F%2C%20%E6%B8%B2%E6%9F%93%E5%88%B0Billboard%C2%A0%20%E5%8F%B3%3A%203D%E7%81%AB%E7%84%B0%E6%A8%A1%E6%8B%9F&width=680.32 \"左: 2D火焰模拟, 渲染到Billboard  右: 3D火焰模拟\")![Flip流体模拟](https://cdn.nlark.com/yuque/0/2022/png/504873/1662382292969-d0b5da93-5ae2-4462-828b-df006b0d8903.png#averageHue=%2320201d&clientId=uee132cb4-5ebb-4&from=paste&height=531&id=u4fa100e9&originHeight=830&originWidth=1271&originalType=binary&ratio=1&rotation=0&showTitle=true&size=1495405&status=done&style=none&taskId=uacb21889-f7ff-41cd-bcc4-b4262af9622&title=Flip%E6%B5%81%E4%BD%93%E6%A8%A1%E6%8B%9F&width=813.44 \"Flip流体模拟\")![烟雾](https://cdn.nlark.com/yuque/0/2022/png/504873/1662382231463-49be2928-41f4-44d4-a25c-eefbe9866e00.png#averageHue=%23586d37&clientId=uee132cb4-5ebb-4&from=paste&height=445&id=u711e39ee&originHeight=696&originWidth=1013&originalType=binary&ratio=1&rotation=0&showTitle=true&size=838807&status=done&style=none&taskId=u7f465e95-5704-4a87-a087-36382cc3baf&title=%E7%83%9F%E9%9B%BE&width=648.32 \"烟雾\")![带碰撞的2D烟雾](https://cdn.nlark.com/yuque/0/2022/png/504873/1662382268394-cf287b94-f8bb-4c76-a3b8-a4e0b92f973a.png#averageHue=%23554d45&clientId=uee132cb4-5ebb-4&from=paste&height=543&id=u3c03d353&originHeight=849&originWidth=988&originalType=binary&ratio=1&rotation=0&showTitle=true&size=965179&status=done&style=none&taskId=uf98620ae-dc8e-4cc8-84b5-bcc2cd5119c&title=%E5%B8%A6%E7%A2%B0%E6%92%9E%E7%9A%842D%E7%83%9F%E9%9B%BE&width=632.32 \"带碰撞的2D烟雾\")![Boids鸟群算法](https://cdn.nlark.com/yuque/0/2022/png/504873/1662434783462-3bbb0152-417e-42b3-b659-b322044ced19.png#averageHue=%23564d44&clientId=uee132cb4-5ebb-4&from=paste&height=602&id=uc0ec3928&originHeight=941&originWidth=1195&originalType=binary&ratio=1&rotation=0&showTitle=true&size=1270273&status=done&style=none&taskId=u3e5a5e7c-c34a-4679-a183-0eceb14eb3d&title=Boids%E9%B8%9F%E7%BE%A4%E7%AE%97%E6%B3%95&width=764.8 \"Boids鸟群算法\")\n<a name=\"lhqe8\"></a>\n### Grid 2/3D Collection\n也是Data Interface的一种, 更接近于Texture2D / TextureArray / VolumeTexture, 用户可以在其中每个像素(Cell)中读写一些基本类型的自定义数据, 但不支持原子操作, 多个线程读写同一个像素可能导致数据丢失.\n<a name=\"kVQA4\"></a>\n### Rasterization Grid 3D\nData Interface的一种, 专门用于光栅化粒子, 支持Add / Max / Min等原子操作, 这是将模拟好的粒子表面化的关键功能, 可以用来实现2/3D的深度图和SDF生成.\n<a name=\"BbWGG\"></a>\n### 流体模拟\n以上功能结合在一起为通用并行计算提供了很好的环境, 比如[流体模拟](https://www.zhihu.com/question/26129680):<br />基于每粒子执行的Simulation Stage可以完成拉格朗日视角的模拟<br />基于每像素(Cell)执行的Simulation Stage可以完成欧拉视角的模拟<br />并且灵活多变, 同时支持2/3D的模拟和渲染.\n\nUE5相比UE4新增了很多Data Interface, 包括一个Rasterization Grid3D, 还没仔细研究其作用, 希望可以改善粒子软光栅效率.\n<a name=\"sV7zn\"></a>\n### Boids鸟群算法, 复杂系统, 涌现\n![](https://cdn.nlark.com/yuque/0/2022/jpeg/504873/1662445527490-91f004b2-d773-4f20-b2ea-e57de8241dbf.jpeg#averageHue=%238698ce&clientId=uee132cb4-5ebb-4&from=paste&id=u220a5e78&originHeight=338&originWidth=500&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=ud1777278-5967-4999-b10a-a18935e9405&title=)<br />涌现 (emergence), 指一种现象，许多小实体交互作用后产生了大实体，而这个大实体展现了组成它的小实体所不具有的特性, 也就是所谓的**整体大于部分之和**, 量变产生质变. 比如蚁群, 鸟群, 鱼群, 人群, 甚至意识.<br />Niagara的GPU粒子能够支撑的数量级恰好适合模拟这种复杂系统, 比如[Boids鸟群算法](https://zhuanlan.zhihu.com/p/46361646).<br />每个粒子模拟一只鸟, 鸟群按照以下简单规则运动:<br />![分离：移动以避免过于拥挤](https://cdn.nlark.com/yuque/0/2022/png/504873/1662447083531-4a8a7daf-517d-48e0-96aa-eda7f4deff85.png#averageHue=%23dbe7dc&clientId=uee132cb4-5ebb-4&from=paste&id=uf8a7cad2&originHeight=145&originWidth=217&originalType=url&ratio=1&rotation=0&showTitle=true&size=40575&status=done&style=none&taskId=u02764455-6f6b-4c17-b328-417c33e7288&title=%E5%88%86%E7%A6%BB%EF%BC%9A%E7%A7%BB%E5%8A%A8%E4%BB%A5%E9%81%BF%E5%85%8D%E8%BF%87%E4%BA%8E%E6%8B%A5%E6%8C%A4 \"分离：移动以避免过于拥挤\")<br />![对齐：向群体的平均航向移动](https://cdn.nlark.com/yuque/0/2022/png/504873/1662447096318-b9f4cb8c-d5a3-4cce-9624-b8c8e00c95bc.png#averageHue=%23c8f4f3&clientId=uee132cb4-5ebb-4&from=paste&id=u28b10f0d&originHeight=145&originWidth=217&originalType=url&ratio=1&rotation=0&showTitle=true&size=45914&status=done&style=none&taskId=u47083dcc-05c6-483e-b05d-8e3fd1d2205&title=%E5%AF%B9%E9%BD%90%EF%BC%9A%E5%90%91%E7%BE%A4%E4%BD%93%E7%9A%84%E5%B9%B3%E5%9D%87%E8%88%AA%E5%90%91%E7%A7%BB%E5%8A%A8 \"对齐：向群体的平均航向移动\")<br />![一致性：向群体的平均位置移动](https://cdn.nlark.com/yuque/0/2022/png/504873/1662447108868-d44527f2-627b-4195-8f02-8f0863163fd3.png#averageHue=%23d6e6db&clientId=uee132cb4-5ebb-4&from=paste&id=ueb36c06b&originHeight=145&originWidth=217&originalType=url&ratio=1&rotation=0&showTitle=true&size=43883&status=done&style=none&taskId=u16ea13cc-2588-4a0a-9cd2-c4f347ccd18&title=%E4%B8%80%E8%87%B4%E6%80%A7%EF%BC%9A%E5%90%91%E7%BE%A4%E4%BD%93%E7%9A%84%E5%B9%B3%E5%9D%87%E4%BD%8D%E7%BD%AE%E7%A7%BB%E5%8A%A8 \"一致性：向群体的平均位置移动\")<br />每个粒子可以通过Neighbor Grid 3D查找附近的粒子, 同时还要采样SDF躲避障碍物.<br />运动轨迹解算完成后将粒子渲染为鸟的Alembic或者Skeletal Mesh.<br />当数量足够多之后, 简单个体的组合便会涌现出复杂系统的美.\n<a name=\"zYg5R\"></a>\n### Outline\n很长一段时间UE内的描边只有后处理和背面法两种选择, 而背面法只能处理轮廓边, Niagara的出现提供了新的可能.<br />[High-Quality Real-Time Outline Rendering 描边学习记录 一](https://zhuanlan.zhihu.com/p/318769754)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662449327991-5fe4aa71-6bde-40f6-8c03-cc006b809e9b.png#averageHue=%23f6f6f6&clientId=uee132cb4-5ebb-4&from=paste&id=u68e738c4&originHeight=492&originWidth=804&originalType=url&ratio=1&rotation=0&showTitle=false&size=308462&status=done&style=none&taskId=u2640a66c-b067-4673-912f-54e22b21808&title=)<br />Niagara目前支持根据Index访问Vertex / Triangle属性, 根据这些可以做到与背面法相同的效果.<br />UE5还新增了获取临近三角形的节点, 但还没有仔细研究.<br />基于退化四边形的方法可以处理更多边缘类型, 但需要获取Triangle三个VertexID, 目前Niagara还不支持.<br />希望未来Niagara加入更多几何节点, 实现更多骚操作.\n<a name=\"eKbG2\"></a>\n# Niagara怎么用\n<a name=\"WiJVC\"></a>\n## 快速入门\n[Niagara快速入门](https://docs.unrealengine.com/5.0/zh-CN/quick-start-for-niagara-effects-in-unreal-engine/)<br />[Niagara概述](https://docs.unrealengine.com/5.0/zh-CN/overview-of-niagara-effects-for-unreal-engine/)<br />[Niagara编辑器UI参考](https://docs.unrealengine.com/5.0/zh-CN/editor-ui-reference-for-niagara-effects-in-unreal-engine/)\n<a name=\"t2DmT\"></a>\n## 生命周期\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1662452562371-dab7e251-2b52-4115-b31d-6469ebd0b203.png#averageHue=%232f2e2d&clientId=uee132cb4-5ebb-4&from=paste&height=611&id=u4771c8cd&originHeight=955&originWidth=1384&originalType=binary&ratio=1&rotation=0&showTitle=false&size=132116&status=done&style=none&taskId=u4793f9cb-2e91-4ee9-a83d-fbc246a7a71&title=&width=885.76)<br />Niagara System的执行顺序如图所示\n\n1. System命名空间的Parameters初始化\n2. System Spawn运行一次\n3. System Update每帧运行一次\n   1. Emitter Spawn运行一次\n   2. Emitter Update每帧运行一次, 一般在这里生成Particle\n   3. Particle Spawn每个Particle生成时运行一次\n   4. Particle Update每个Particle每帧运行一次\n   5. Simulation Stage逐Particle / Data Interface运行N次\n   6. 渲染\n\n不同Emitter之间随机先后运行, 如果有数据依赖关系, Niagara会自动处理依赖并按顺序执行.\n<a name=\"gbda7\"></a>\n## 基本操作\n[发射器设置](https://docs.unrealengine.com/5.0/zh-CN/emitter-settings-reference-for-niagara-effects-in-unreal-engine/)<br />[事件和事件处理器概述](https://docs.unrealengine.com/5.0/zh-CN/events-and-event-handlers-in-niagara-effects-for-unreal-engine/)<br />[创建自定义模块](https://docs.unrealengine.com/5.0/zh-CN/creating-custom-modules-in-niagara-effects-for-unreal-engine/)<br />[Niagara调试器](https://docs.unrealengine.com/5.0/zh-CN/niagara-debugger-for-unreal-engine/)\n<a name=\"mwI5n\"></a>\n## 物理模拟\n[Niagara流体快速入门指南](https://docs.unrealengine.com/5.0/zh-CN/niagara-fluids-quick-start-guide-for-unreal-engine/)<br />[流体模拟介绍](https://docs.unrealengine.com/5.0/zh-CN/fluid-simulation-in-unreal-engine---overview/)<br />[Niagara流体参考指南](https://docs.unrealengine.com/5.0/zh-CN/niagara-fluids-reference-in-unreal-engine/)<br />[NiagaraFluids代码分析：3DLiquidDamBreak | 胡莱峦镐](http://82.156.182.226/2022/05/13/NiagaraFluids%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%901/)\n\n\n\n",
      "properties": {
        "title": "UE Niagara科普",
        "urlname": "meh35f",
        "date": "2022-08-31 14:14:42",
        "updated": "2023-10-15 14:41:37",
        "author": "Jason Ma"
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "meh35f"
        },
        {
          "title": "UE",
          "doc_id": "meh35f"
        }
      ],
      "body": "",
      "realName": "UE Niagara科普",
      "relativePath": "/TA/UE/UE Niagara科普.md"
    },
    {
      "id": 71307307,
      "doc_id": "sopcnn",
      "title": "sopcnn",
      "updated": 1689502728000,
      "body_original": "[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1FT4y1E74V&p=84&page=84)\n\n\n<a name=\"XKLuh\"></a>\n# 1.1 Why ML Strategy\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648478785396-6d862bc0-9757-4b34-95ca-7de3cdf5098a.png#averageHue=%23cecccb&clientId=uee2caf12-812f-4&from=paste&height=852&id=u5ebfc6db&originHeight=1220&originWidth=1822&originalType=binary&ratio=1&rotation=0&showTitle=false&size=793422&status=done&style=none&taskId=u414a5fb8-ab26-46c0-86c6-287be6a9db4&title=&width=1272.087202143599)<br />用在优化模型时往往有很多选择，一旦选错了可能白白浪费几个月时间，做出合理的判断、明智的选择非常重要，本课将会传授一些策略，向着最有希望的方向前进\n<a name=\"fbS28\"></a>\n# 1.2 正交化 Orthogonalization\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648479221518-da7fd46d-8929-4c26-ab5a-1960bc8ed491.png#averageHue=%23efece8&clientId=uee2caf12-812f-4&from=paste&height=712&id=uf36cecbf&originHeight=1020&originWidth=1821&originalType=binary&ratio=1&rotation=0&showTitle=false&size=684564&status=done&style=none&taskId=uecc42d07-cf3c-4396-8487-9a0cc7741a2&title=&width=1271.3890203641567)<br />这里的正交化指的是参数的解耦，和shader参数解耦一个道理，如果每个参数对效果的影响互相独立不干扰，那么美术跳起来就比较容易达到想要的效果，如果大量参数之间互相有影响，就非常难以调整<br />正交指的是函数图像正交，两个参数互不影响<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648480113032-a9fca116-d634-4087-9fae-2b127165fb98.png#averageHue=%23d7d7d6&clientId=uee2caf12-812f-4&from=paste&height=829&id=u6953fbf2&originHeight=1187&originWidth=1790&originalType=binary&ratio=1&rotation=0&showTitle=false&size=638774&status=done&style=none&taskId=u9e11b346-843e-4eb2-8457-23004395a67&title=&width=1249.74538520145)<br />我们希望有几个互相正交的参数能够分别调整模型在不同训练集的性能，调整这些参数依次让训练集、开发集、测试集以及用户端表现得足够好，如果一个参数同时影响多个集合的性能，会非常难以调试\n<a name=\"cu5OO\"></a>\n# 1.3 单一数字评估指标 Single Number Evaluation Metric\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648480843119-784d82fd-1f84-48b0-8565-48a087781ad7.png#averageHue=%23cfcfce&clientId=uee2caf12-812f-4&from=paste&height=841&id=ub6c6df36&originHeight=1205&originWidth=1823&originalType=binary&ratio=1&rotation=0&showTitle=false&size=672851&status=done&style=none&taskId=ucc6f3292-e144-44df-9f16-53fbe33822a&title=&width=1272.785383923041)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648481283895-b4d0a7b2-d3d6-4aee-8e9f-f3a715077654.png#averageHue=%23ceccc8&clientId=uee2caf12-812f-4&from=paste&height=844&id=u6b2337a2&originHeight=1209&originWidth=1831&originalType=binary&ratio=1&rotation=0&showTitle=false&size=408880&status=done&style=none&taskId=ud3f56564-b1b5-4a8f-b349-4d2aea508ba&title=&width=1278.3708381585784)<br />单个性能指标有助于快速选择使用哪个模型，对于多个指标（正确率 Precision、回归率 Recall）则可以用一些算法将它们合并为一个指标（F1 Score）\n<a name=\"XD5fs\"></a>\n# 1.4 满足和优化指标 Satisficing and Optimizing Metric\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648481642322-851fe369-ca8d-4ace-82e1-7be3ee8e249f.png#averageHue=%23e8e6e3&clientId=uee2caf12-812f-4&from=paste&height=859&id=u7e3be9df&originHeight=1231&originWidth=1835&originalType=binary&ratio=1&rotation=0&showTitle=false&size=818010&status=done&style=none&taskId=ubcdfed98-a063-4ff0-bdaa-995f9a52bc4&title=&width=1281.1635652763468)<br />通过将某个参数设定为优化目标（不断迭代提高数值），其他参数设定为满足目标（达到阈值即可），可以保证有一个明确的迭代方向，可以自动选出更好的模型，进而提高开发效率\n<a name=\"zdjRl\"></a>\n# 1.5 划分训练/开发/测试集 Train/Dev/Test Distributions\n划分数据集的策略直接影响着团队开发效率<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648537855445-0a3f04eb-0712-4562-a152-412dfddbcba0.png#averageHue=%23f1f1ee&clientId=u712497df-d071-4&from=paste&height=889&id=uf6e9dc89&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1136243&status=done&style=none&taskId=ud1816986-9ee9-4d55-aa00-ccdd71e173b&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648538111855-b2efd670-6380-42fa-b676-3392f91bef25.png#averageHue=%23f5f5f5&clientId=u712497df-d071-4&from=paste&height=889&id=ud9c56fc4&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=662582&status=done&style=none&taskId=u15c49d40-6986-4ad7-86d3-a4b6c95ed6e&title=&width=1600)<br />在开发集上进行快速迭代，在测试集上进行验证，并且他们数据的分布应该一致，避免做无用功<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648538222240-3c05062f-1d3a-4065-9346-e76884f0dea1.png#averageHue=%23f6f6f6&clientId=u712497df-d071-4&from=paste&height=889&id=u9ff1a209&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=661506&status=done&style=none&taskId=u13d3e4b3-b905-4c48-bdbc-d31ef1446dd&title=&width=1600)\n<a name=\"Z8W7e\"></a>\n# 1.6 开发集和测试集的大小\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648538406248-8cebbc20-5efd-477d-b4e9-4468bbf049f3.png#averageHue=%23f7f7f7&clientId=u712497df-d071-4&from=paste&height=889&id=u74c98f24&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=621077&status=done&style=none&taskId=u52f5a1d6-bd5f-4ecc-8dd0-919ccc0cf57&title=&width=1600)<br />以万为单位的样本量可以用6：2：2分配，百万量级可以98：1：1，保持DT集的数量在万级足够用即可<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648538669944-58d75221-2cbf-4d14-ae08-1bdc75245a86.png#averageHue=%23f7f7f7&clientId=u712497df-d071-4&from=paste&height=889&id=u234b43cd&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=626792&status=done&style=none&taskId=ubcc0d2df-2c4d-4ad7-b18e-1be7bddccf4&title=&width=1600)<br />测试集需要有足够的无偏差的样本量来评估模型的性能，一般会远小于训练集\n<a name=\"BnRNm\"></a>\n# 1.7 什么时候该改变DT集和目标\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648539172780-248bc385-aa32-4d14-a5dc-349faba2c749.png#averageHue=%23f4f3f3&clientId=u712497df-d071-4&from=paste&height=889&id=u49f77c04&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1007204&status=done&style=none&taskId=uafdb624e-2c98-48e7-89df-5507a2803f5&title=&width=1600)<br />错误率更低的模型容易推送色情图像，这时候就需要调整错误率的算法，对色情图像施加更重的惩罚<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648539896721-71b56c0e-3274-4442-959c-ecb02577c916.png#averageHue=%23edede9&clientId=u712497df-d071-4&from=paste&height=889&id=u2568c80d&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1138122&status=done&style=none&taskId=u86eff44e-6cd8-470e-b743-0ff205d818f&title=&width=1600)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648540061497-54a0e877-5d4b-4647-8dca-69ea1ad85eb3.png#averageHue=%23efedeb&clientId=u712497df-d071-4&from=paste&height=889&id=ube33a06a&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1036983&status=done&style=none&taskId=uefd56186-4dcd-4a3b-a624-eb02dd028ae&title=&width=1600)<br />当DT集和实际应用场景的数据有偏差时应该及时修改DT集\n<a name=\"ZsvIf\"></a>\n# 1.8 Why Human-level Performance\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648540537548-95c50293-a344-4168-bc16-62920a5550a5.png#averageHue=%23f5f5f5&clientId=u712497df-d071-4&from=paste&height=889&id=uabed83cc&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=614084&status=done&style=none&taskId=u770d678f-edaa-4d69-8390-d4ec727f2c2&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648541120815-ef0a7211-aa5c-4483-8d59-c3b8df402e81.png#averageHue=%23d8d8d8&clientId=u712497df-d071-4&from=paste&height=889&id=u93e7d3ee&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=862905&status=done&style=none&taskId=u65416ebd-737f-49a1-9d12-dd28e60b05f&title=&width=1600)<br />在性能不及人类时尚可用人工帮助提高性能，超越人类后性能就很难再提升了，并且不会超过贝叶斯极限\n<a name=\"ylrrX\"></a>\n# 1.9 可避免偏差 Avoidable Bias\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648543581170-8accf3b8-d373-45f7-8d04-d8c1c7c14f0c.png#averageHue=%23dadada&clientId=u712497df-d071-4&from=paste&height=889&id=u7aa845d0&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=750233&status=done&style=none&taskId=u43abb54e-abad-4fd2-a189-c85752d9e9c&title=&width=1600)<br />当模型的错误率接近人类水平（或贝叶斯偏差），此时专注于减小方差（训练集和开发集错误率之差，泛化能力）更有效<br />当模型的错误率离人类或贝叶斯偏差还很远，那么专注减小偏差（或可避免偏差，Avoidable Bias）更有效\n<a name=\"BIRS4\"></a>\n## 补充：偏差与方差\n| 真实模型：获得所有可能的数据集合，并在这个数据集合上将loss最小化，这样学习到的模型就是真实模型 |\n| --- |\n| Bias： “用所有可能的训练数据集训练出的所有模型的输出的平均值” 与 “真实模型”的输出值之间的差异 |\n| Variance：“不同的训练数据集训练出的模型”的输出值之间的差异 |\n\nBias反映的是模型的拟合能力，Variance反映的是模型的数据扰动所造成的影响。偏差大，说明模型拟合能力差，Variance大说明模型数据扰动所造成的影响大即泛化能力差。\n\n| Bias(偏差)大：增加特征数量，增加网络规模，增加多项式特征和交互特征，减少正则化参数值 |\n| --- |\n| Variance(方差)大：与Bias(偏差)大采取相反的措施，获取更多地训练样本 |\n\n<a name=\"CXLDI\"></a>\n# 1.10 理解人类表现\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648543950025-f4b5939b-be57-4b23-a415-19ba75986276.png#averageHue=%2362677a&clientId=u712497df-d071-4&from=paste&height=331&id=u276eea47&originHeight=1162&originWidth=1374&originalType=binary&ratio=1&rotation=0&showTitle=false&size=820214&status=done&style=none&taskId=uea50a11e-aafc-45aa-93c8-46918619d5d&title=&width=391)<br />冷知识：这个手势是双引号的意思<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648544236924-b3d622bd-9a85-4924-af10-605e3d5fd8d6.png#averageHue=%23ececec&clientId=u712497df-d071-4&from=paste&height=889&id=ucec5b9a2&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1112887&status=done&style=none&taskId=u8a83ce0a-524d-42c7-83cd-970b9d81ce9&title=&width=1600)<br />不同人群的表现不一，一群专业人士》专业人士》普通人，为模型的实际情况选择合适的目标很重要，如果模型的要求很严格，要使用人类水平替代贝叶斯误差，那么应该使用人类的最高水平为目标<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648544632697-f5f77009-6d5b-49b3-86b6-7b9968a136dd.png#averageHue=%23f5f3f3&clientId=u712497df-d071-4&from=paste&height=889&id=u924360c0&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1059900&status=done&style=none&taskId=u7a9a73ee-db6a-450b-ab5a-7785177d591&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648544800968-a4f18938-b960-4079-9dc6-4bc2fd6722ca.png#averageHue=%23f4f4f3&clientId=u712497df-d071-4&from=paste&height=889&id=uc55f91be&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=692648&status=done&style=none&taskId=u45a94025-db66-4ed6-b478-9322a4b90ca&title=&width=1600)<br />偏差大，优化偏差（比如用更大训练集）<br />方差大，优化方差（正则化等）<br />最后偏差方差都很小的时候很难判断谁更大，以及贝叶斯偏差究竟有多小<br />对于比较清晰的训练集（猫图），人类和贝叶斯的误差都接近0，此时用0近似贝叶斯误差是可行的，但是对于有很多noise的训练集，更准确地评估贝叶斯误差很重要，可以更好地估计偏差和方差\n<a name=\"iRBHe\"></a>\n# 1.11 超越人类水平\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648545427429-7bd647ee-14a1-48ad-b107-b23a2634ed59.png#averageHue=%23f6f6f6&clientId=u712497df-d071-4&from=paste&height=889&id=uda5cabe2&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=748088&status=done&style=none&taskId=ua530bc4e-4c8d-43de-90a6-f71ef0ed0c0&title=&width=1600)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648545548453-300816f9-0b2b-4d1a-8225-8572cc29d831.png#averageHue=%23f4f4f4&clientId=u712497df-d071-4&from=paste&height=889&id=u44397288&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=959863&status=done&style=none&taskId=u517c161b-5eb4-4c1f-8bba-97976419184&title=&width=1600)<br />人类很擅长自然感知，但对于单个问题有足够数据的情况下，机器学习仍然能够超越人类\n<a name=\"wzw4l\"></a>\n# 1.12 改善你的模型的表现\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648546105535-d1ac1caa-2afe-4475-b13c-aca523d975f3.png#averageHue=%23f3f3f3&clientId=u712497df-d071-4&from=paste&height=889&id=ua7a5c512&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=755549&status=done&style=none&taskId=uf156f3c2-69af-4f47-bb89-2efaba0efd4&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648546155683-8099d524-00d2-43e3-9f19-4f8a5b7511a7.png#averageHue=%23cbcbca&clientId=u712497df-d071-4&from=paste&height=145&id=u04e017c7&originHeight=227&originWidth=1909&originalType=binary&ratio=1&rotation=0&showTitle=false&size=148998&status=done&style=none&taskId=ufdd0b92b-c39b-44a5-a33f-65c7a8708e4&title=&width=1221.76)<br />改善偏差：\n\n- 更大的网络\n- 训练更久\n- 更优化的算法\n   - 加入Momentum\n   - RMSprop\n   - Adam\n- 更好的神经网络架构（CNN、RNN）\n- 更好的超参数\n- 改变激活函数\n- 改变层数/神经元数\n\n改善方差：\n\n- 正则化\n   - L2\n   - Dropout\n   - 数据扩增（Data Augmentation）\n- 更好的架构\n- 更好的超参数\n- 更多的数据\n<a name=\"Ymv1b\"></a>\n# 测试：Bird Recognition in the City of Peacetopia (Case Study)\n<a name=\"XcVCr\"></a>\n# 2.1 进行误差分析\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648551938953-d56083c9-d1df-438c-b33e-73845cff52d2.png#clientId=ua83bf739-66f7-4&from=paste&height=889&id=u7c92e411&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1236959&status=done&style=none&taskId=u30f1e93c-1c3d-49c3-a9de-b52462abfd1&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648552357461-5a90c7c0-82ec-416e-b551-ef80ca433bdf.png#clientId=ua83bf739-66f7-4&from=paste&height=889&id=u2bcfda8e&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=888068&status=done&style=none&taskId=u5d2bd5d3-65c9-40b1-809c-73aa8dfef39&title=&width=1600)<br />做优化之前评估一下性能上限（Ceiling），如果错误率有10%，其中有一半是狗，那么可以考虑针对狗进行专项训练，如果只有5%是狗，那么针对性研究收益很小<br />分析预测错误的样本，通过表格标记错误原因，统计哪些问题的价值更大，排优先级\n<a name=\"jOUtF\"></a>\n# 2.2 清除标注错误的数据\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648636735435-3715cbb3-7ee6-44e0-b174-36729dcd797a.png#clientId=u1c3a13e6-128f-4&from=paste&height=707&id=u7cd2070c&originHeight=1013&originWidth=1853&originalType=binary&ratio=1&rotation=0&showTitle=false&size=689798&status=done&style=none&taskId=u5502b472-6511-4f8b-99dd-26965294ba3&title=&width=1293.7308373063056)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648637114004-e855fb7f-7037-4a02-8f8c-6b157acff005.png#clientId=u1c3a13e6-128f-4&from=paste&height=818&id=uf3ca479d&originHeight=1172&originWidth=1865&originalType=binary&ratio=1&rotation=0&showTitle=false&size=647966&status=done&style=none&taskId=u411d3440-4c65-4eca-bf9c-63eb19d44f7&title=&width=1302.1090186596114)<br />大部分情况下机器学习对样本中的随机错误有很好的鲁棒性，但是对于系统性错误无能为力，比如所有白色狗都被标记为猫，那么模型就会认为白色狗==猫<br />通常只有在这些错误数据严重影响了在开发集上评估模型才会花时间去纠正错误，比如预测错误的样本中有很大一部分是样本标记错误，这时候修复样本更有价值<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648639178848-0cf6a9be-36e8-4f36-8878-edaaa6d1996c.png#clientId=u1c3a13e6-128f-4&from=paste&height=667&id=u56317efb&originHeight=955&originWidth=1786&originalType=binary&ratio=1&rotation=0&showTitle=false&size=814191&status=done&style=none&taskId=ucc3f0987-0100-47e8-a7ff-5fd469b2aa7&title=&width=1246.9526580836816)\n\n- 修正数据需要同时在开发集和测试集上进行，以保证DT拥有相同的分布\n- 考虑检验数据标记错误时，模型预测正确的情况。这种情况检验成本比较大，但有时不处理会导致模型出现偏差\n<a name=\"bQMge\"></a>\n## 设置开发集的意义\n通过开发集上的测试结果来选择用哪个模型，当数据错误占比太大的时候，就无法分辨哪个模型更好了\n<a name=\"ajzf6\"></a>\n## 训练集/开发集/测试集\n[1. 训练集、开发集、测试集（Train/Dev/Test sets）_luoying_1993的博客-CSDN博客_开发集](https://blog.csdn.net/luoying_1993/article/details/87178165)<br />对DT做的修正不一定要应用到训练集，因为训练集大得多，并且不是那么重要\n<a name=\"yKERS\"></a>\n# 2.3 快速搭建你的第一个系统并快速迭代\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648640838190-04040b96-9c02-4553-a958-b08c442955b4.png#clientId=u1c3a13e6-128f-4&from=paste&height=805&id=u40d77475&originHeight=1153&originWidth=1767&originalType=binary&ratio=1&rotation=0&showTitle=false&size=730619&status=done&style=none&taskId=u7b389b5f-6213-403a-98fc-b8788c584ca&title=&width=1233.6872042742807)<br />如果要搭建一个全新领域的机器学习项目，最好快速设置目标，搭建DT，然后训练一下，利用学到的错误分析方法找到优先要解决的问题进行快速迭代<br />如果这个领域已经有很多研究了，可以参考论文从一些比较复杂的系统开始搭建\n<a name=\"Lat1w\"></a>\n# 2.4 在不同的分布上进行训练和测试\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648642730987-d201ddf6-fa26-455d-b744-57132f1a317e.png#clientId=u1c3a13e6-128f-4&from=paste&height=848&id=u8a52c6b2&originHeight=1214&originWidth=1858&originalType=binary&ratio=1&rotation=0&showTitle=false&size=977518&status=done&style=none&taskId=u0d308b1b-83c3-4dd8-8144-8f423adc645&title=&width=1297.2217462035164)<br />现有数据：网络高清猫图，实际数据：用户上传低清图<br />对于这种情况，更好的方法是将少量的用户上传数据作为DT，长期来看比平均分配有更好的性能<br />之后会介绍针对不同分布的训练测试集的技巧<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648643038613-29997e51-7bb7-49e9-b82c-db9c4bfc26bf.png#clientId=u1c3a13e6-128f-4&from=paste&height=837&id=u53ed414c&originHeight=1199&originWidth=1831&originalType=binary&ratio=1&rotation=0&showTitle=false&size=714119&status=done&style=none&taskId=u1bd1f11f-11f3-4b62-a2aa-4c3504622de&title=&width=1278.3708381585784)<br />通过不同分布的训练测试集，可以获得大得多的训练集，将很多相关性不大的数据放入训练集<br />**不论数据来自哪里，target都必须设置为你的实际应用场景**\n<a name=\"c5oTj\"></a>\n# 2.5 不匹配数据划分的偏差和方差\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648715920301-f43679ec-6d11-4203-88ab-0855e3c0359c.png#clientId=u7673b16a-4147-4&from=paste&height=741&id=uf30196a8&originHeight=1062&originWidth=1838&originalType=binary&ratio=1&rotation=0&showTitle=false&size=698666&status=done&style=none&taskId=u8bfe9a54-eee9-4955-a315-68f8382ea03&title=&width=1283.2581106146733)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648716041518-4d6484ae-7771-453d-a16e-561fc59f13cf.png#clientId=u7673b16a-4147-4&from=paste&height=726&id=u98a266b3&originHeight=1040&originWidth=1805&originalType=binary&ratio=1&rotation=0&showTitle=false&size=446611&status=done&style=none&taskId=ub4481b98-f0d4-4b54-8313-abd57774060&title=&width=1260.2181118930823)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648716372337-f31a5339-d0db-4bb2-95f5-9ad0097e3734.png#clientId=u7673b16a-4147-4&from=paste&height=700&id=u276b16a2&originHeight=1003&originWidth=1822&originalType=binary&ratio=1&rotation=0&showTitle=false&size=465325&status=done&style=none&taskId=u4288c340-0624-4942-9ca9-c1bc0c6092e&title=&width=1272.087202143599)<br />对于数据分布不匹配的训练和测试集，从训练集中分出一小部分作为训练-测试集<br />贝叶斯错误率 与 训练集错误率 之间为可避免偏差<br />训练集 与 训练-测试集 之间错误率差为方差<br />训练-测试集 与 开发/测试集 之间错误率差为数据不匹配\n<a name=\"co7qX\"></a>\n# 2.6 解决数据不匹配\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648717945763-1d4d6c71-9246-480d-b14b-02b9c2dc460f.png#clientId=u7673b16a-4147-4&from=paste&height=846&id=u2e1c0379&originHeight=1212&originWidth=1836&originalType=binary&ratio=1&rotation=0&showTitle=false&size=479978&status=done&style=none&taskId=ua29fc52b-f64d-4cb0-b79a-43e7aa32f30&title=&width=1281.861747055789)<br />人工去判断数据之间的差异，尝试减小差异<br />比如测试集中有很多噪音，可以尝试在训练集中加入生成的噪音<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648718139798-62ac4159-7ec9-4060-8168-a3beaf8180d4.png#clientId=u7673b16a-4147-4&from=paste&height=832&id=u2cdf9d64&originHeight=1192&originWidth=1804&originalType=binary&ratio=1&rotation=0&showTitle=false&size=474972&status=done&style=none&taskId=u7ddcd69c-5c73-4604-b041-d5639b052b9&title=&width=1259.5199301136402)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648718215650-e7cd5ea6-b8d3-4d16-9ac7-4b38889dc3c9.png#clientId=u7673b16a-4147-4&from=paste&height=827&id=uaf325cc7&originHeight=1185&originWidth=1818&originalType=binary&ratio=1&rotation=0&showTitle=false&size=804994&status=done&style=none&taskId=u0ee390fc-8e75-4376-8bcd-7ee2d5b1f57&title=&width=1269.2944750258303)<br />潜在的风险是取得的noise数据量太小，导致过拟合\n<a name=\"W3Lmw\"></a>\n# 2.7 迁移学习\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648718696117-abdaca63-adb0-4929-8ded-30592b38f5ad.png#clientId=u7673b16a-4147-4&from=paste&height=710&id=u4c8f02c8&originHeight=1017&originWidth=1794&originalType=binary&ratio=1&rotation=0&showTitle=false&size=628171&status=done&style=none&taskId=ufcf68bc1-fee4-49ae-b586-f8a5f2771da&title=&width=1252.5381123192187)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648718966511-dc127959-e8ca-442b-9e94-bd6ce4b1ce25.png#clientId=u7673b16a-4147-4&from=paste&height=822&id=u0ade327b&originHeight=1177&originWidth=1789&originalType=binary&ratio=1&rotation=0&showTitle=false&size=451965&status=done&style=none&taskId=uf0b70a52-42bf-4a8d-a8e2-71c72a955cb&title=&width=1249.047203422008)<br />如果一个新的模型，比如智能音箱的触发词，只能使用很有限的数据，而之前刚好用大量数据训练过语音识别相关的模型，那么可以将之前的模型迁移过来。<br />将之前的神经网络去掉output层，加上新模型需要的层，然后进行训练。\n\n通常，当旧任务的数据量远超新任务，或者旧的模型的底层知识有助于新模型时，迁移学习的帮助更大\n<a name=\"KcroZ\"></a>\n# 2.8 多任务学习\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648719449537-18b5126c-9ae0-4d7f-a2ee-15824fb418ee.png#clientId=u7673b16a-4147-4&from=paste&height=825&id=uaed16aae&originHeight=1181&originWidth=1775&originalType=binary&ratio=1&rotation=0&showTitle=false&size=652800&status=done&style=none&taskId=u1b99b48b-4340-44e8-aee9-f64ae40e43d&title=&width=1239.2726585098178)<br />多任务学习（比如识别图中多个物体）和之前的神经网络类似，只是输出变成向量，代价函数要对向量求和。<br />有时样本没有标记所有物体，那么损失函数中跳过未标记的求和<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648719985383-518fb9f8-abf4-4185-9d88-a5c5a1426329.png#clientId=u7673b16a-4147-4&from=paste&height=560&id=ue170cfc5&originHeight=802&originWidth=1607&originalType=binary&ratio=1&rotation=0&showTitle=false&size=571169&status=done&style=none&taskId=u4d9a023f-96eb-4954-9862-d83cbbd0fff&title=&width=1121.9781195635364)<br />当：\n\n- 多个任务之间可以复用低层次特征（自动驾驶中同时识别汽车、交通灯、牌）\n- 如果任务特别多（单独训练每个任务的数据会很少，同时训练的性能相对会更好）\n- 神经网络足够大\n\n时多任务学习收益大\n<a name=\"E3v4C\"></a>\n# 2.9 端到端深度学习 End-to-End DL\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648721308883-54ffdbe5-8d31-4a94-97a7-ae4bc3d5aa65.png#clientId=u7673b16a-4147-4&from=paste&height=681&id=u8d28ec6e&originHeight=975&originWidth=1794&originalType=binary&ratio=1&rotation=0&showTitle=false&size=358919&status=done&style=none&taskId=u5195f75c-3120-4859-bfad-5862af9bc93&title=&width=1252.5381123192187)<br />传统领域，比如语音识别，X和Y之间有很多人工设计的步骤，端到端直接跳过这些步骤，依旧可以取得很好的结果，前提是数据足够多<br />在数据量比较少的情况下，端到端可以替代传统流水线的一部分<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648721722552-e775a62a-e671-48be-a42d-a4d52ebb302e.png#clientId=u7673b16a-4147-4&from=paste&height=834&id=u8f952ec4&originHeight=1194&originWidth=1819&originalType=binary&ratio=1&rotation=0&showTitle=false&size=920333&status=done&style=none&taskId=u51115352-a31f-44b2-b2e4-17138087099&title=&width=1269.9926568052724)<br />将一个复杂的身份识别问题转换成两个简单问题：识别人脸、识别两张脸是不是同一人，更简单，数据更多，性能更好<br />端到端的局限性导致数据太少难以训练<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648722016923-9a15f1ee-9087-44a2-89f7-78af11992dc1.png#clientId=u7673b16a-4147-4&from=paste&height=823&id=u5b5d9755&originHeight=1179&originWidth=1812&originalType=binary&ratio=1&rotation=0&showTitle=false&size=413172&status=done&style=none&taskId=u11d96ace-37e3-43e7-9330-71c5240de42&title=&width=1265.1053843491775)<br />关键还是看端到端的数据量，X和已标记的Y，足够多的情况下，端到端会简单、性能好\n<a name=\"gzHD2\"></a>\n# 2.10 是否需要用端到端深度学习\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648722224364-b8ce4907-0917-4c76-bcef-03ee3879b00c.png#clientId=u7673b16a-4147-4&from=paste&height=829&id=uf91654ef&originHeight=1187&originWidth=1818&originalType=binary&ratio=1&rotation=0&showTitle=false&size=577695&status=done&style=none&taskId=u5915aa31-57aa-4ad2-bce0-7ebe67f1e05&title=&width=1269.2944750258303)<br />优点：\n\n- 让数据说话\n- 简化流程设计\n\n缺点：\n\n- 需要大量数据\n- 排除了可能有用的人工设计组件\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648724662250-cc780e1a-4dea-4105-86c5-41e46a41fc60.png#clientId=u7673b16a-4147-4&from=paste&height=828&id=uc3147e17&originHeight=1186&originWidth=1812&originalType=binary&ratio=1&rotation=0&showTitle=false&size=641037&status=done&style=none&taskId=ub970851a-5f20-4b67-8409-13b4b9966b0&title=&width=1265.1053843491775)<br />在过于复杂的问题上，目前来说不太可行\n\n",
      "properties": {
        "title": "吴恩达 Structuring ML Projects",
        "urlname": "sopcnn",
        "author": "Jason Ma",
        "date": "2022-03-28 17:00:27",
        "updated": "2023-07-16 18:18:48"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "sopcnn"
        }
      ],
      "body": ""
    },
    {
      "id": 68677792,
      "doc_id": "zev6pi",
      "title": "zev6pi",
      "updated": 1689519399000,
      "body_original": "\n[![](https://cdn.nlark.com/yuque/0/2022/jpeg/504873/1646757415481-0beb2050-ff33-4c5d-927c-2b6699397682.jpeg#averageHue=%23decec3&clientId=u8ab70979-555a-4&from=paste&id=u626e2918&originHeight=392&originWidth=270&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u42105db3-4335-4805-9364-9d43eed4669&title=)](https://img1.doubanio.com/view/subject/l/public/s32644567.jpg)<br />作者: [【比利时】埃内斯特·曼德尔](https://book.douban.com/search/%E5%9F%83%E5%86%85%E6%96%AF%E7%89%B9%C2%B7%E6%9B%BC%E5%BE%B7%E5%B0%94)<br />出版社: [光明日报出版社](https://book.douban.com/press/2858)<br />副标题: 从1843年到《资本论》<br />译者: [吕佳翼](https://book.douban.com/search/%E5%90%95%E4%BD%B3%E7%BF%BC)<br />出版年: 2018-6<br />页数: 218<br />定价: 26元<br />装帧: 平装<br />ISBN: 9787519430030\n\n现已几乎全网绝版，没有PDF资源，买不到实体书，不过在B站UP：瞄一瞄中了的专栏中发现了电子版，在此保存一版便于阅读。\n<a name=\"gIM2T\"></a>\n# 第一章：从批判私有财产到批判资本主义\n马克思和恩格斯并没有走同一条道路来获得他们所共有的观点。“他们有共同的哲学出发点，即黑格尔的辩证法，布鲁诺鲍威尔的‘自我意识’，以及费尔巴哈的人道主义;他们后来认识了英法两国的社会主义，但对于马克思来说，这成为了他对他那个时代的斗争和抱负进行思考的方式，而对于恩格斯来说，英国工业也扮演了同样的角色。”\n\n毫无疑问，这种差异是由性格和气质上的差异造成的——马克思具有更强的思辨性，恩格斯则更富于激情。然而，机遇和物质环境也起了一定作用。当马克思从德国流亡到法国时，恩格斯则被派往英国学习经商，在那里接触到了大规模资本主义工业的现实。正是这种与资产阶级社会（市民社会）的矛盾的交锋所带来的冲击，决定了他余生的思考方向。\n\n如果说马克思几乎独立地发展了马克思主义理论的整个经济“面板”，那么这应该首先归功于恩格斯的发现促使马克思从事政治经济学的研究，并创作了“杰出的草稿”,以及发现了这门科学对共产主义学说的核心重要性。这份“草稿”写于1843年底，是这两位杰出伟人思想生涯过程中所创作的第一部经济学著作。梁赞诺夫正确地将其称为“在马克思主义[开端]的发展史上具有非常重要的意义”。必须强调的是，虽然恩格斯比马克思小两岁，但他却是第一个公开宣称自己是共产主义者，并认为一场彻底废除私有财产的革命是必要的、不可避免的。\n\n早在1842年底，年仅22岁的恩格斯就在一篇关于普鲁士君主制的文章的结尾预言了一场资产阶级革命，并在一篇关于英国的文章的开头就宣布了一场社会革命的来临。与此同时，在《莱茵报》上发表的一篇文章（指《共产主义和奥格斯堡“总汇报”》一文）中，马克思仍然拒绝共产主义，同时强调需要彻底研究它，以便能够对其进行充分的批判。尽管如此，科学社会主义的两位创始人已经从相似的角度来试图解决这个问题：通过批判新黑格尔主义的国家概念，通过发现社会阶级的存在，并通过分析私有财产和竞争的非人道影响。\n\n我们可以在这双重背景下逐步地去找寻他们的思想轨迹：从对宗教的批判到对哲学的批判；从对哲学的批判到对国家的批判；从对国家的批判到对社会的批判——即从对政治的批判到对政治经济学的批判，进而导致对私有财产的批判。\n\n然而，对于马克思来说，纯粹的理论研究在这一时期仍然占主导地位，他思想的演变最终诞生了《<黑格尔法哲学批判>导言》（1843年底和1844年初）这本著作。对于恩格斯来说，则是对实践领域的研究占据主导。在《德法年鉴》上发表的《国民经济学批判大纲》和《英国状况：评托马斯·卡莱尔的〈过去和现在〉》中，主要对英国资产阶级社会进行批判，这些批判与马克思著名的批判同时进行。\n\n普遍观点认为，马克思在大学期间对政治经济学兴趣不大。已知的他在柏林大学学习的书籍清单中没有一本专门讨论这个主题。在1892年9月28日恩格斯写给弗朗茨·梅林的一封信中，他讨论了马克思在柏林大学的岁月。他写道：“对政治经济学，他还一无所知……”\n\n尽管如此，皮埃尔·纳维尔(Pierre Naville)试图缓和这种过分生硬的观点的努力是正确的。事实上，黑格尔本人在青年时期就深受经济学研究的影响，尤其是亚当·斯密的著作；马克思将黑格尔体系视为名副其实的劳动哲学。“当马克思阅读《精神现象学》，《法哲学》甚至《逻辑学》时，他不仅发现了黑格尔，而且通过他意识到古典政治经济学的一部分在黑格尔的著作中被吸收并翻译成哲学术语；因此，如果他还没有在黑格尔的著作中发现某些仍然存在的要素，例如需求理论（the theory of needs）、占有理论（the theory of appropriation）或劳动分工理论（the analysis of the division of labor），马克思就不会对黑格尔关于市民社会和国家的观点进行系统的批判。”\n\n马克思在1842年成为《莱茵报》（Rbeinische Zeitung）的编辑时，已经从哲学研究转向政治研究，这是他思想发展的第一步。他的基本立场仍然是为“人”的国家（human state）而斗争；总体而言，他仍然坚持“人权”的立场，坚持反对封建残余的斗争。与黑格尔一样，他认为国家应该是“自由的实现”（the realization of freedom.）。但即使在这个阶段，他也发现了这种理想的国家概念与Stände（等级/国会）在莱茵兰省议会中的代表试图“把国家贬低到私人利益的思想水平”这一事实之间存在矛盾。换言之，当他解决了一个当前的政治问题——即新的林木盗窃法——时，他又遇到了社会阶层的问题。本应体现“普遍利益”的国家，似乎只是为了私有财产而行事，而为了做到这一点，为此不仅违反了法律逻辑，甚至违反了一些明显的人性原则。\n\n马克思已经认识到，国家似乎为了保护私有财产制度可以付出一切，这源于对公共资产的私有性与垄断性占有。并且他在一项将窃贼的劳动指派给木材所有者以补偿他的损失的刑法条款中认识到，他未来的剩余价值理论的主要关键点：无偿强迫劳动是剩余价值“百分比”的来源，即利息和利润。\n\n从第一次进入这个主题开始，政治批判就将青年马克思引向了批判“市民社会”与政治经济学的门槛。然而，在跨过这道门槛前，即沉浸在作为一名学者的生活中首要关注的主题之前，他似乎觉得需要不断地回头看，回溯他的脚步，以确保他没有错过任何替代解决方案，并最终安放他刚刚诞生的所有意识形态。从1842年10月开始撰写关于林木盗窃法的辩论的文章，到他在巴黎开始学习政治经济学的两年间，年轻的马克思要为这两个运动——黑格尔哲学和乌托邦社会主义——绘制一个平衡的研究图景，他必须首先超越这两个运动，然后才能给自己的思想以一个明确的形式。（“超越”一词在此必须以其黑格尔的辩证意义来理解，它意味着所有在被超越的立场中有效的东西都保留在新的立场中。）\n\n为了帮助理解青年马克思的经济思想是如何演变的，追溯他对社会问题的关注的起源是很有趣的。他最初是通过摩塞尔葡萄种植者的贫困和关于林木盗窃的争论发现了它们的存在，当他开始详细批判黑格尔的哲学时，他所进行的每一步批判都伴随着这类社会问题的影响。他发现“直接劳动的财产”（the estate of direct labor）——即一无所有的群众——实际上构成了资产阶级社会存在的前提。而对于这种“人为造成的贫困”，他把享受作为人类的真正目的。他在写给《德法年鉴》的出版商卢格的信中宣称：“从这种政治国家与自身的冲突中，人们可以处处推导出社会的真相。”然而，尽管他宣称自己已经是一个私有财产的反对者，在他对法律理论和实践的批评中，他将私有财产描述为一切不公正的根源，但他仍然拒绝称自己是一个共产主义者。\n\n马克思对国家哲学问题的研究让他阅读了卢梭、孟德斯鸠、马基雅维利，尤其是一些研究法国大革命的历史学家，他们对他产生了深刻的影响，并引导他研究法国社会主义，这是大革命解放趋势的产物。\n\n他最后一次拒绝共产主义是在上面引用的1843年9月写给卢格的信中，而他作为共产主义者的第一次信仰告白是在1844年3月。在这两个日期之间他的政治立场发生了巨大转变，这对他的余生是决定性的。\n\n这种演变的决定性因素是什么？很难在许多影响中分离出一个因素。但是，无论他对像莫泽斯·赫斯（Moses Hess）这样的作家的阅读有多么重要——其影响是不可否认的——或者他对法国大革命的研究有多么重要，这是由于路易·菲利普统治下法国社会的整体氛围，进步思想的沸腾，各种社会主义派别的活动，同时他在现实生活中第一次接触工人阶级和无产阶级的状况等多重因素决定的，这使他的文学影响得以具体化。\n\n在他关于犹太人问题的第一篇文章中，马克思已经给自己设定了一个任务，即考察政治解放和人类解放之间的关系，这是他对政治宪政理论的批判的逻辑结论。顺便说一句，他把货币与私有财产联系起来，认为这是人类异化的根源。但与此同时，他将劳动、工人与无产者视作必须被解放的人类异化的化身。在他的《<黑格尔法哲学批判>导言》中，他要使无产阶级实现其自我解放，从而实现全人类的解放。\n\n马克思已经意识到“工业以至于整个经济界和政治界的关系是现代主要问题之一。”然而，这种关系虽然在理论上得到了把握和批判，但只有通过实践才能得到改变。“批判的武器不能代替武器的批判，”“理论一经掌握群众，也会变成物质力量。”这些群众指的是无产阶级群众，他们的出现使德国革命成为可能。这样一场革命只能是一场激进的革命;它不能局限于政治(资产阶级)领域。“德国解放的实际可能性”恰恰取决于在“彻底的锁链”中阶级的形成，这个阶级在努力摆脱这些链条时将通过废除私有财产来拒绝所有的社会枷锁：“无产阶级要求否定私有财产，只不过是把社会已经提升为无产阶级的原则的东西，把未经无产阶级的协助，作为社会的否定结果而体现在它的身上，即无产阶级身上的东西提升为社会的原则。”\n\n诚然，这种对无产阶级作为私有财产否定者的革命作用的发现，仍然局限在哲学的范围内，还没有摆脱某种感性的人道主义——费尔巴哈的人类学原则。恩格斯后来说，费尔巴哈的人道主义以一个处于历史范畴之外的抽象的人作为出发点，因为这个人所生活的世界(具体的社会条件)从来没有被讨论过。无产阶级的处境仅仅被谴责为“不公正的”和“不道德的”。继费尔巴哈之后，马克思仍然宣称，虽然无产阶级是人类解放的心脏，但哲学是它的头脑。他还没有认识到，无产阶级在生产过程中所占据的位置是其解放力量的基础。他还没有认识到，要实现共产主义，必须有一定程度的生产力发展，必须有一定的物质条件的实现。他的共产主义概念本质上仍然是哲学的。\n\n尽管如此，这种哲学上的共产主义和无产阶级之间的联系现在已经牢固地建立起来了。 从这里到研究无产阶级的“真正的解放运动”——法国、英国和德国的社会主义和共产主义——只需要迈出一步，马克思在他流亡巴黎的最初阶段就已经迈出了这一步。从哲学上的共产主义到无产阶级的共产主义的过渡没有遇到太大的困难。\n\n正如前面说过的，恩格斯在马克思之前成为了一名共产主义者。但他的共产主义起初本质上也很明显是哲学的。这是首先针对开明的资产阶级和知识分子的共产主义思潮，从恩格斯在1843年底到1844年初在罗伯特·欧文创办的《新道德世界》（The New Moral World）周刊上为欧洲大陆的共产主义运动撰写的许多文章中可以看出这一点。他宣称，“我们（德国共产主义者）只能从那些受过良好教育的阶级中招募扩大我们的队伍，”并且他将哲学上的共产主义与魏特林所体现的“劳苦大众”的共产主义对立起来。\n\n然而，恩格斯明白，共产主义是现代文明创造的社会条件的必然结果。这就是他为什么平行地描述了英国、法国和德国（包括瑞士）的共产主义运动：“于是，欧洲三个文明大国，英国、法国和德国，都得出了这样的结论：在财产共有的基础上进行社会制度的彻底革命，现在已经成为一种急不可待和不可避免的必然……英国人达到这个结论是通过实践，即由于自己国内贫穷、道德败坏和赤贫现象迅速加剧，法国人达到这个结论是通过政治，即他们起初要求政治自由和平等，继而发现这还不够，就在政治要求之外又加上社会自由和社会平等的要求;德国人则通过哲学，即通过对基本原理的思考而成为共产主义者。”\n\n必须强调的是，马克思和恩格斯实际上同时制定了无产阶级社会革命的基本纲领，即消灭私有制——马克思在《<黑格尔法哲学批判>导言》里，恩格斯在他为《新道德世界》写的文章中——写于1843年11月至1844年1月之间的著作，并且无疑是相互独立的文本。同样值得强调的是，年轻的恩格斯以杰出洞察力，用一句话概括了西欧三大国家各自对十九世纪世界劳工运动的贡献：在英国，诞生了第一批群众组织并取得了一些成绩（宪章派和工联主义）；在法国，为夺取政权而进行的革命斗争（这场斗争始于法国大革命奠定的传统，经过巴贝夫、布朗基和1848年6月（巴黎六月起义，译者注），并在巴黎公社达到高潮，这是无产阶级第一次有效地夺取政权）；在德国，在理论上完善了第一个科学的社会主义纲领。当然，当他写下最后这句话时，他并没有意识到他自己在德国的理论贡献方面将发挥决定性的作用。无产阶级运动将通过他为《共产党宣言》所做的准备工作和他参与撰写的《共产党宣言》而进入一个新的篇章。\n\n正如我们所说，恩格斯震惊于英国的伴随着大工业生产而诞生的无产阶级的贫困与士气低落的现状，但他们也有强大的集体力量和组织能力（恩格斯钦佩地指出宪章派能够每周收集一百万便士的资金），它们的战斗精神，以及一旦组织起来就在精神和道德上超越其物质苦难的力量，这些因素使得恩格斯能够从哲学上的共产主义前进到无产阶级的共产主义。梁赞诺夫曾回忆恩格斯与第一批真正的无产阶级共产主义者——移民到伦敦的德国人沙佩尔、鲍尔和摩尔——的会面给他留下了深刻的印象。事实上，他本人在对马克思所著的《揭露科隆共产党人案件》所写的序言中描述了这一点。我们在标志着这一转变的三部著作中感受到了这种实践经验的影响：《国民经济学批判大纲》（1843年底）、《英国状况》（1844年1月）和《英国工人阶级状况》（1844年底和1845年初）。\n\n这三部著作中的第一部，即《国民经济学批判大纲》，正如我们所指出的，是两位伟人思想生涯中第一部严格意义上的经济学著作。恩格斯在其中并没有说什么实质性的新内容。他批评经济自由主义——亚当·斯密、李嘉图和麦克库洛赫的学说——通过直面工业革命时代英国的经济和社会现实。这种批判在很大程度上受到欧文、傅立叶和蒲鲁东等社会主义作家的启发，但在将黑格尔辩证法卓有成效地应用于社会现实方面，它超越了这些作家。虽然它仍然被一些道德主义和理想主义的观念所支配，谴责贸易造成“相互不信任”和使用“不道德的手段达到不道德的目的”，但他仍然有一些非凡的见解，这些见解后来在马克思的著作，如《共产党宣言》甚至《政治经济学批判大纲》中找到了回响：例如，资本主义经济是向前迈出的必要的一步，“所有这些琐碎的、地方的和民族的考虑都被抛在脑后，这样我们这个时代的斗争就可以成为一场普遍的全人类的斗争。”\n\n《大纲》的出发点是对贸易——对重商主义学说和自由贸易理论的批判。恩格斯从“纯粹人的、普遍的基础”出发，得出了正确的结论，即两种学说必须一起批判。他特别揭露了自由主义反垄断学说的虚伪，这种学说假装不知道自由贸易本身是建立在垄断基础上的，即私有财产垄断在社会少数阶级手中，而且自由竞争必然导致垄断。\n\n文章的第二部分讨论价值概念；这是最薄弱的部分，可以看出恩格斯既没有理解李嘉图，也没有比李嘉图深入。恩格斯从“抽象或真实”的价值与交换价值的区别开始讨论价值。然后他考察了将“抽象价值”分别降低为“生产费用”和“效用”的两个学派。他得出的结论是，一个物体的“内在价值”“包括两个因素”，即生产成本和效用成本。在一段不太清楚的文字中，他似乎对价值的存在本身产生了怀疑。当他批评作为“纯粹自然法则”运作的“竞争法则”的作用时，他的观点更接近于正确，并且他精确地从这一法则的作用，也就是从竞争中，推断出生产过剩危机的出现。\n\n文章的最后对马尔萨斯的“人口论”进行了激烈的辩论，并描述了大规模工业对相当一部分人口的灾难性后果。这是最令人印象深刻的部分；他进一步继承了傅立叶对资本主义的批判，而恩格斯的第一本书《英国工人阶级状况》的内容对其进行了扩展和支持。\n\n诚然，在文章的最后部分，我们仍然发现了一些错误，例如认为工人的工资减少到仅够维持生计的水平。但对马尔萨斯的批评是清晰的，并提出了一个至今仍然有效的与新马尔萨斯主义的争论的基本论点，即，将人口的增长与土壤自然产量的增加相比较是错误的；相反，它应该与现代科学技术有效应用于农业而带来的农业生产力的潜在提高相比较。将生产过剩危机分析为资本主义矛盾的基本表现，其简明扼要的文风和这位年轻作家深究事物真相的能力是引人注目的。这暴露了一种毫无意义且荒谬的现状:人们在富足的环境中饿死。\n\n最重要的是，在这篇文章中，恩格斯把对私有财产的批判（它们占据了这两位未来的朋友两年之久）和对资本主义的批判（它们将成为他们余生的关注点）结合在一起，他指出资本和劳动之间的分工不可避免地诞生于私有财产，这种分工导致资产阶级社会分裂为两个对立的阶级，即资产阶级与无产阶级。\n\n资本主义与大工业所导致的不道德和不人道的后果——它破坏家庭并导致犯罪的增加——在《大纲》中的几个引人注目的词句中都有提到，《共产党宣言》用一幅残酷的、令人难忘的文字描述了这些后果，在这部作品中进行了更全面的分析，该作品至今仍是对工业革命的社会后果的最触动人的描绘。《英国工人阶级状况》并不是严格意义上的历史唯物主义著作。激励那些年轻社会评论家的仍然是道德上的愤慨，而不是对社会现实的理解。但这种道德上的愤慨已经是革命性的，已经与对被资本剥削和压榨的这个阶级的支持联系在一起，这个阶级创造了所有财富，而这些财富的享受权却留给了资本它自己。最重要的是，这本书已经使人们认识到，无产阶级的实际斗争是实现社会主义的唯一可能的载体。从这个意义上说，它标志着恩格斯与空想社会主义的彻底决裂，同时也是反对它的重要武器。\n\n近年来，由于社会主义并没有在西方工业发达国家取得胜利，这一概念受到了批判性的审视。一些批评者——要么明确地，如弗朗茨·法农（Frantz Fanon），要么含蓄地，如中国共产党的理论家——努力表明第三世界各国人民的革命潜力大于西方无产阶级的革命潜力。此外，在第三世界的人民中，他们将革命中的主要角色设定给农民和革命知识分子，并认为在这些国家，工业无产阶级在某种程度上相对于无地农民来说是一个享有特权的社会阶级。\n\n另一些批评者为的不是比较西方无产阶级与第三世界人民革命能力的高低，而是质疑西方无产阶级本身的革命能力。他们认为西方无产阶级实际上已经融入资本主义社会，特别表现为西方无产阶级更加原子化（在半自动化工业中）、其消费能力的增长以及其意识形态和需求被操纵。他们不否认那些被迫出卖劳动力的人数在绝对数量和占总劳动人口比例方面都在继续增加。他们否认的是这种数量的增长直接或间接地加强了其对西方资本主义的挑战，甚至否认西方资本主义制度被西方无产阶级推翻的可能性。\n\n这两种类型的批评者都倾向于更多地参考马克思和恩格斯年轻的作品，而不是他们成熟时期的作品。在这些年轻的作品中，特别是在《<黑格尔法哲学批判>导言》中，无产阶级的革命作用基本上是从资产阶级社会中这个阶级的消极特征中推导出来的。这个过程以黑格尔三一体的顶峰的方式呈现出来，是名副其实的“否定的否定”。正是因为无产阶级的枷锁是以激进的面目出现的，所以只有通过激进的革命才能摆脱它。这导致当代批评家得出这样的结论：既然无产阶级的锁链今天已经变得不那么激进了，这个阶级进行激进革命的希望在很大程度上变成了乌托邦式的幻想。\n\n然而，对马克思和恩格斯青年时著作的批判性分析——尤其是他们关于社会革命思想的起源——表明，在那辉煌的风格背后，他们仍然缺乏经验知识。四十年后，恩格斯发表的关于《德意志意识形态》的一句评论同样适用于“彻底的锁链”这句著名的短语：“已写好的一部分是解释唯物主义历史观的；这个解释只是表明当时我们在经济史方面的知识还多么不够。”事实上，现代无产阶级并不是世界历史上背负最沉重锁链的社会阶级。这个定义更适用于公元前1世纪到公元3世纪的罗马奴隶。历史已经证明，这样一个阶级没有什么可失去的，因为他们没有私有财产，并且他们有能力进行一场废除所有私有财产的社会革命。后来，马克思和恩格斯将他们的判断更加精确化，并赋予无产阶级在社会主义成为现实的进程的关键地位，这与其说是因为它所遭受的苦难，不如说是因为他们在生产过程中占据的位置及其所拥有的能力获得了比过去任何受压迫阶级都无法比拟的组织才能和行动凝聚力。\n\n没有理由否认第三世界国家无地农民的革命能力，也没有理由怀疑这些国家在过去二十年中在世界范围内带来了最多数量的革命斗争的参与者。但是，如果不想将这一事实转化为对整体现实的错误描述，那么需要说明两点。首先，正如马克思主义者所预见的，这个农民阶级本身是无法夺取政权并建立新的国家的；为此，它需要一个从出身、组成和灵感上都具有无产阶级性质的阶级的领导。此外，仅靠这些贫苦的农民是无法建设一个马克思所理解的社会主义社会——即确保人类社会所有的潜力都得到充分和完全绽放的社会。正是因为这样一个社会的基础只能是现代大规模工业发展到最高水平的产物，所以社会主义革命被认为是一个世界性的过程，尽管它可能是在不发达国家开始的，即使革命没有成功，那么如果假设革命的条件得到了充分发展，它便会在工业最先进的国家发生。\n\n此外，当各种社会学家和经济学家对无产阶级在西方资本主义国家推动实现社会主义过程中的作用表示怀疑时，他们通常会犯两个错误：他们要么假设马克思声称工业发展程度与阶级意识程度之间存在某种自动的关系，或者他们认为这种阶级意识（以及推翻资本主义所需的主观条件）的发展是直线进行的。\n\n显然，马克思和恩格斯在他们的思想成熟时后，清楚地把握了生产力发展水平与阶级意识发展水平之间的辩证关系。恩格斯所写的关于十九世纪英国无产阶级的内容，同样适用于二十世纪的美国无产阶级。为了表明后者将无法完成其革命使命，仅仅描述目前的阶级整合机制、意识形态操纵等是不够的。有必要表明这样一种事实，从长远来看，国际竞争的加剧，侵蚀了美国对高生产率的垄断，以及美国工人因这种垄断而享有的工资优势。这种现象不会改变美国无产阶级的行为。更重要的是，自动化只是资本依照历史趋势以死劳动代替活劳动所采用的最激进形式，从长远来看，这将伴随着充分就业，并且不会导致经济衰退，但通货膨胀将可能会不受控制，只是这种风险现在并没有被人们所察觉。\n\n当人们希望看到“未融合的少数群体”（激进组织、学生、底层无产阶级，甚至是明显带有反社会特征的群体）发挥无产阶级的解放作用时，他们遇到了古罗马奴隶起义所遭遇的同样的障碍。这些团体充其量只能进行绝望的爆发。他们既不具备客观的社会力量（要么使整个生产秩序停顿），也不具备将集体持久地组织起来的能力——如果他们要改变当今社会，这两个特征是必不可少的。\n\n随着时间的推移，马克思和恩格斯很快就明白有利于推翻资本主义的客观条件和主观条件并不是直线发展的，而是明显受工业波动的周期（七年或更长）影响的。重要的不是知道特定国家或其他国家的工人阶级是否处于暂时被动的状况，而是要知道其生存的客观和主观条件是否能推动它们周期性地走上那条对资本主义秩序存在普遍挑战的道路。\n\n这种挑战的客观条件是资本主义本身运作过程中所产生的——特别是产业后备军（industrial reserve army）对工资的变动所产生的不安全感，工资不足导致社会需求不足，以及工作的异化性质等等。造成这种挑战的主观条件归根结底意义上是工人对自己的生存与工作条件的不满。 最近的大量出版物表明，这种现象在被称为“消费者社会”的社会中也是如此，并且丝毫不逊于十九世纪。 作者：瞄一瞄中了 [https://www.bilibili.com/read/cv15052530](https://www.bilibili.com/read/cv15052530) 出处：bilibili\n\n<a name=\"vFJun\"></a>\n# 第二章：从谴责资本主义到为共产主义提供社会经济论证\n\n正是在他流亡巴黎期间，马克思热切地致力于研究政治经济学，并在布鲁塞尔流亡期间继续研究，在回到德国后中断了这一进程，最终在他流亡伦敦期间，也就是在大英博物馆内完成了这项研究。“阅读恩格斯的《大纲》使他明白，仅仅以否定国家为出发点，仅仅通过批判黑格尔的法哲学来制定可能“吸引”工人阶级群众的激进社会理论是不够的，也不可能使他们意识到需要一场结束他们这种异化状况的社会革命……因此，为了找到这些问题的答案，马克思决定自己研究‘剖析资产阶级社会’的方法，因为这些方法可以在伟大的经济学家的著作中找到……”我们可以通过他留下的大量阅读笔记来观察其经济学研究的范围和多样性，其中部分已经出版。（不知道马克思的所有阅读笔记是否已经找到。）\n\n1844年9月，马克思开始了对政治经济学的研究，并与恩格斯进行了越来越密切的合作。这一研究促使马克思阐明了他对于他的哲学导师和他的一些老朋友——黑格尔、费尔巴哈和年轻的以布鲁诺·鲍威尔为代表的青年黑格尔派——的看法。这场论战产生了三部作品，这三部作品既是一种内心的独白，也是两个刚刚成为朋友的人试图了解他们的思维演变方式的尝试：《1844年经济学哲学手稿》、《神圣家族》和《德意志意识形态》。其中第一部作品标志着马克思经济思想的转折点。\n\n在阅读了一系列一流的经济学家的作品，甚至还包括了亚当·斯密、贝魁尔、劳登、布雷特、西斯蒙第、詹姆斯·穆勒和米歇尔·谢瓦利埃的长篇引文的一部分之后，这三本经济和哲学手稿构成了这位《资本论》未来作者笔下的第一部严格意义上的经济学著作（对黑格尔法哲学的批判构成了第四部分）。它们依次涉及工资、利润、地租、与私有财产相关的异化劳动、与劳动和共产主义相关的私有财产、需求、生产、劳动分工与货币。\n\n马克思从黑格尔、谢林和费尔巴哈那里借用的哲学异化概念在《1844年经济学哲学手稿》中被赋予了彻底的社会经济性质的内容。这一概念甚至在《<黑格尔法哲学批判>导言》中也不再具有完全的哲学内涵：“马克思从费尔巴哈那里得到了非人化、异化或残缺的人的概念……但马克思现在正以一种新的形式使用这种表达方式。在政治关系中，他将……非人化的人等同于被鄙视和可鄙的人，他认为法国大革命重新构建了人的概念，也就是说，将其提升到了自由公民的水平，这是法国大革命的功劳。\n\n然而，在这样做的过程中，我们会发现我们已经进入了一个全新的概念，其中的问题是政治问题，或者至少是社会问题。被异化的人突然不再是依附于宗教或思辨的梦幻世界的个体，而是一个不完美社会中缺乏人性尊严的成员。非人化世界中的人现在变成了非人化社会中的人……”\n\n在《1844年经济学哲学手稿》中，这个非人化社会的秘密被揭开了。社会是非人的，因为这个社会中的劳动是异化的劳动。马克思发现将社会和社会中的人简化还原为劳动更加容易，因为黑格尔已经将劳动描述为人类实践的本质核心。当他研究古典经济学家时，马克思发现他们把劳动作为价值的最终来源。几乎是在一瞬间，这两个想法被结合在一起，当我们查看马克思的阅读笔记时，我们有一种真正身临其境的感觉，尤其是他对詹姆斯·穆勒的笔记所作的的著名评论。在那篇评论中，他从货币的性质——交换手段和异化工具——出发，以得出取代人际关系的异化关系。\n\n与此同时，哲学意义上的共产主义变成了社会学意义上的共产主义，即基于对社会演变及其逻辑的分析为基础的共产主义。诚然，在《1844年经济学哲学手稿》中，马克思仍然宣称自己是费尔巴哈“实证的、人道主义的和自然主义的批判”的支持者。但是，这种人道主义现在也被赋予了明确的社会经济内容：它被上升到了共产主义的层面，并扬弃了私有制、劳动分工与异化劳动的概念。\n\n马克思并没有把恩格斯在《新道德世界》中关于共产主义的文章中的“劳苦大众的共产主义”与“哲学的共产主义”的概念进行对比，而是在《1844年经济学哲学手稿》中把“粗陋的共产主义”与“作为私有财产的扬弃的共产主义”区分开来。前者源于粗鄙的嫉妒，只会导致异化劳动的普遍化，即“想象的最低限度出发的平均化的顶点”。而后者意味着“一切异化的积极的扬弃，从而是人从宗教、家庭、国家等等向自己的人的即社会的存在的复归。”马克思已经指出，这一方面是以生产资料的社会化与私有财产的废除为前提的，另一方面是以生产力的高度发展为前提的。与马克思和恩格斯以前的所有共产主义著作以及空想社会主义者的著作相比，这一思想标志着他们向前迈进了一步。并将在《德意志意识形态》中进一步发展。\n\n《1844年经济学哲学手稿》遵循批判私有财产和资本主义的逻辑，而不是对资本主义生产方式发展规律的一般性阐述，并从分析私有财产所造成的贫困开始，而不是分析商品生产所创造的财富（这是所有经典政治经济学著作的出发点，也是马克思本人将在《资本论》中采用的出发点）。私有财产造成的贫困完全体现在工资和工资的演变规律中。工资水平的波动分析是以亚当·斯密和李嘉图的经典理论为基础的，并深受马尔萨斯观点的影响。同时，工资水平也受工人之间竞争的影响，工资往往趋向于仅维持在工人最低生活水平的地步。然而，与马尔萨斯和李嘉图相反的是，马克思指出，这不是某种“人口增长规律”的必然结果，而是工人与其生产资料相分离的结果。\n\n与此同时，马克思已经通过区分经济周期的三个连续阶段——萧条阶段、繁荣阶段和经资本积累达到最大扩张阶段——的三种不同形式的工资变动状况，来改变这一工资“定律”。\n\n在第一阶段，工资在失业的压力下下降，一部分工人阶级陷入潦倒和最深的悲惨境地。 在第三阶段，工资保持在相对较低的水平（马克思在这里逐字引用了李嘉图的论点）。因此第二阶段对工人最有利，因为劳动力供不应求，导致资本家之间的竞争加剧，所以工资可以上涨。\n\n那么，在“繁荣”时期会发生什么呢？扩张加剧了资本的积累和集中。资本家的人数在减少，而工人的人数却在迅速增加。机器的使用越来越普及，将工人变成“有生命的机器”，机器因此与工人直接竞争。此外，“繁荣”必然会导致生产过剩，进而导致失业和工资下降。从资本主义运作方式的这张初始图表中可以看出，工资的增加只能是暂时的，而且注定会被这个体系的逻辑无情地抹去。马克思要到十年后才会修改这个图表。\n\n尽管如此，他还是暗示了“相对贫困化”（relative impoverishment）的理论，他宣称即使在经济繁荣时期，“工资的提高对资本家说来，可以由劳动时间总量的减少而绰绰有余地得到补偿。”这里的措辞是仍然晦涩难懂的，但马克思在这里凭直觉表达的是，那些用工资购买的商品的价值可能会由于生产力的提高而迅速贬值；或者，换句话来说，工资的“反价值”可以在一天中越来越少的时间里产生。马克思引用了一位现已被遗忘的瑞士经济学家威廉·舒尔茨 (Die Bewegung der Produktion) 的著作中的一段话，其中对“相对贫困化”的规律进行了值得注意的论述。\n\n同样，马克思还没有像他在古典经济学著作中所做的那样准确区分不变资本和可变资本，而是像亚当·斯密那样区分“固定资本”和“流通资本”。在地租领域，他遵循李嘉图的理论，强调资本最终将土地财产纳入自身，并将土地所有者转变为资本家。\n\n在一段引人注目的段落中，马克思正沿着哲学和政治经济学之间的边界前进，他宣布土地财产必须完全纳入“私有财产运动”，在农业上，地主和雇农之间的关系必须简化为剥削者和被剥削者的简单关系，如果要有效地进行反对私有财产的斗争，地主与其财产之间的所有个人联系都必须停止存在。在这一方面，《德意志意识形态》也标志着他的推理迈出了重要的一步，他的推理完全脱离了其哲学和道德化的先例。\n\n《1844年经济学哲学手稿》最著名的部分是对异化的社会经济根源的分析。在恩格斯和莫泽斯·赫斯的影响下，马克思将资本主义条件下的异化劳动与宗教异化的人进行了比较。 工人工作得越多，他就越创造出一个充满敌意并想要碾碎他的物质世界。与他之前把异化与私有财产等同起来的观点相反，马克思现在力图深入挖掘，在异化劳动中，即在劳动分工和商品生产中找到人类异化的最终根源。商品生产、劳动分工、私有财产之间存在着不断的相互作用，这种相互作用产生了异化，但劳动分工才是异化的历史起点。\n\n马克思指出，异化这种压垮生产者的敌对性的外部力量绝不仅限于是劳动产品和生产资料的异化。他对竞争制度下商品生产在需求异化方面产生的影响进行了特别清晰的分析。这段话是一个宏伟的预想，因为马克思在一百二十年前所发现的大多数趋势，在十九世纪还只是萌芽，直到我们这个时代才大规模的成为现实。这里有一段似乎是对万斯·帕卡德的直接评论：“……每个人都力图创造出一种支配他人的、异己的本质力量，以便从这里面找到他自己的利己需要的满足……随着对象的数量的增长，奴役人的异己存在物也在扩展，而每一个新产品都是产生相互欺骗和相互掠夺的新的潜在力量。人作为人越来越贫穷，他为了占有敌对的本质越来越需要货币，而他的货币的力量恰恰同产品数量成反比，也就是说，他的贫穷随着货币的权力的增加而日益增长……甚至从主观方面来说，这一点部份地表现在：产品和需要的范围的扩大，成为非人的、过分精致的、非自然的和臆想出来的欲望的机敏的和总是精打细算的奴隶……”\n\n对劳动分工的非人性方面的简要讨论，在《德意志意识形态》中的一个著名段落中得到了回应（“……而在共产主义社会里，任何人都没有特殊的活动范围，而是都可以在任何部门内发展，社会调节着整个生产，因而使我有可能随自己的兴趣今天干这事，明天干那事，上午打猎，下午捕鱼，傍晚从事畜牧，晚饭后从事批判，这样就不会使我老是一个猎人、渔夫、牧人或批判者。”），再次提出了最初的观点，即在劳动分工中才能找到异化劳动的真正起源。\n\n诚然，《1844年经济学哲学手稿》并没有成为一部成熟的经济学著作。马克思对政治经济学的批判的把握是片面的。这种批判被一个根本性的绊脚石所困扰：马克思还没有解决价值和剩余价值的问题。他还没有掌握古典经济学理论中的理性概念，特别是李嘉图的，他的经济分析因此不可避免地受到影响。然而，读者仍然为马克思自信严谨的批判精神与大胆的历史视角以及他追根溯源的缜密逻辑所着迷；我们确信，从撰写《手稿》的那一刻起，马克思就已经奠定了他的社会经济理论的基石之一。\n\n \n\n严格地说，《神圣家族》其实并不关心经济问题，它对马克思和恩格斯经济思想演变的贡献是相当次要的。两位作者仍然坚持恩格斯在他的《国民经济学批判大纲》中提出的折衷主义的价值概念。正如在《大纲》中所说的，恩格斯继续断言:在资本主义制度条件下，对工人来说，试图减少他们的工作时间是乌托邦式的空想。\n\n另一方面，鉴于两年后发生的争论，《神圣家族》中有关蒲鲁东的段落显得特别有趣，那场争论使马克思能够首次对资本主义生产方式进行一般性的分析。诚然，在《神圣家族》中，马克思宣称蒲鲁东受到了他所反对的“政治经济学前提的支配。但他也称赞蒲鲁东对私有财产的批判是“第一次带有决定性的、严峻而又科学的考察。这就是蒲鲁东在科学上所完成的巨大进步，这个进步使政治经济学革命化了，并且第一次使政治经济学有可能成为真正的科学。蒲鲁东的《什么是财产？》（Qu'est-ce que la propriété？）这部著作对现代政治经济学的意义，正如西耶斯的著作《第三等级是什么?》（Qu'est-ce que le tiers-état?） 对现代政治学的意义一样。”事实上，《神圣家族》的很大一部分是在为蒲鲁东辩护，反对的只是那些粗心的阅读他，甚至自己都无法正确理解蒲鲁东思想的所谓“批判的”德国思想家。\n\n（顺便说一句，马克思超越了恩格斯在其《大纲》中关于工资和利润之间关系的错误观点，并正确地指出这两种收入形式相互之间处于“敌对”关系。工人和资本家之间在确定工资方面的“自由协议”隐藏了一种迫使工人接受提供给他的不平等的工资的关系。）\n\n《1844年经济学哲学手稿》是马克思第一次从资产阶级社会现实出发来批判政治经济学的经典立场，而《德意志意识形态》——马克思和恩格斯于1846年在布鲁塞尔完成的主要哲学著作——其基础是基于对后黑格尔德国哲学的系统超越而诞生的历史唯物主义理论。“马克思和恩格斯第一次从对历史社会发展的可以称之为‘现象学’的分析转变为‘遗传’分析。”\n\n这本书中没有多少段落的主题在严格意义上的经济学的：总的来说，这些段落重复了马克思在《1844年经济学哲学手稿》中已经发展了的内容，尽管在某些情况下进行了宝贵的改进和澄清。例如，有一段著名的段落，其中作者指出共产主义的普遍性质，并且认为共产主义需要建立在生产力和需求在世界范围内充分发展的基础上，否则“在极端贫困的情况下，必须重新开始争取必需品的斗争，全部陈腐污浊的东西又要死灰复燃……”同时，劳动分工是人类异化的根源这一思想的整个发展过程，关于这一点也得到了阐述。马克思和恩格斯在文中也提出了关于共产主义的新的战斗性的观点：“共产主义对我们来说不是应当确立的状况，不是现实应当与之相适应的理想。我们所称为共产主义的是那种消灭现存状况的现实的运动。”并且他们认为，在资本主义制度的矛盾的压力下，生产力将会成为毁灭性的力量。文中对历史唯物主义本身的第一个定义，在某些方面比《政治经济学批判》序言中的著名定义更简洁，同时也更加丰富。\n\n尽管如此，在《德意志意识形态》一书中，我们可以找到三个使马克思恩格斯经济思想向前发展的真正贡献。第一个是对资本主义和世界贸易的更加辩证的看法，其早期思想迹象虽然没有详细阐述，但已经可以在《1844年经济学哲学手稿》中看到。商品关系的普遍化不仅意味着个人存在的缺失和生活被简化为买卖关系；它还意味着人们生活得到了潜在的丰富，因为它打破了他们地方性存在的狭窄框架，在这种框架中，他们的欲望和未来的可能性因对世界其他地方的一无所知而受到狭隘的限制。“至于个人的真正的精神财富完全取决于他的现实关系的财富。”只有通过世界市场，人们才能“才能获得利用全球的这种全面的生产(人们的创造)的能力……”马克思在《政治经济学批判大纲》中又回到了这个观点，在那里他谈到了“资本的伟大历史意义”。\n\n第二个贡献涉及到人类需求的普遍发展，这是现代大规模工业已经准备好的，也是共产主义将要实现的。这与世界贸易问题密切相关。在这里，马克思和恩格斯通过使人与物之间辩证关系变得更加微妙，从而加深了他们对人与物之间关系的批判。在《1844年经济学哲学手稿》中，物质成倍的增加仍然被视为一种本质上的消极现象，而在《德意志意识形态》中，则强调人类所有潜力的发展意味着人类享受的普遍发展。这观点也将在《政治经济学批判大纲》中得到广泛的发展。\n\n第三个贡献涉及未来社会的分配模式：“……基于现有情况，‘各尽所能’这种错误信条必须改变，如果它涉及狭义意义上的享受，就必须改变为‘按劳分配’这一信条；换句话说，一种不同形式的劳动，占有和享受方面并没有赋予任何特权。”这一警告后来再次出现在《哥达纲领批判》中：如今在所谓的马克思主义宣传中却很少引用。\n\n马克思恩格斯经济思想中的这三个新要素之间存在着显然的联系。需求的普遍性被认为是由世界贸易和大规模工业创造的了人类发展的普遍性的一个组成部分。而在共产主义社会中拒绝任何“按劳分配”或“按能力分配”的口号与要求，正是基于确保所有人的这种普遍发展的需要。\n\n从《德意志意识形态》开始，马克思和恩格斯就明确地确立了废除商品生产与共产主义社会的到来之间的联系。他们的余生都不会改变这种观点。那些认为在共产主义社会中还需要商品生产存在的观点，是完全不符合马克思主义的理论的。 作者：瞄一瞄中了 [https://www.bilibili.com/read/cv15091386](https://www.bilibili.com/read/cv15091386) 出处：bilibili\n\n<a name=\"brhSE\"></a>\n# 第三章：从拒绝到接受劳动价值论\n\n理解某事的最好方法是从不理解它开始。这句由来已久的流行语，反映在青年马克思对劳动价值论的态度上，劳动价值论是英国古典政治经济学派提出的，后来由马克思本人加以完善。\n\n在马克思对政治经济学的第一次系统研究中，他明确地拒绝将劳动作为价值的基础。在《哲学的贫困》中，他同样明确地这么认为。从1844年初到1847年初，这两部著作间隔了三年。马克思在这一时期的经济问题思想是如何演变的? 是否可以界定马克思接受劳动价值论的大致时期？这是我们将努力回答的两个问题。\n\n这一分析的起点是马克思在他流亡巴黎期间所做的阅读笔记，这些笔记持续了整整一年（从1844年初到1845年初）。人们普遍认为这些笔记是按时间顺序排列的，这种假设是非常可信的，我认识的所有评论家都接受了这种假设。因此，对这些笔记的仔细研究使我们能够观察到马克思对劳动价值论态度的明确演变。\n\n马克思评论的经济学家按以下顺序出现在他的笔记中：让·巴蒂斯特·萨伊、亚当·斯密、李嘉图、詹姆斯·穆勒、约翰·雷姆赛·麦克库洛赫和皮埃尔·布阿吉尔贝尔。在亚当·斯密的著作中，马克思第一次遇到了价值的经典定义。他抄录了《国富论》中的一段话：“世界上所有的财富最初不是用金子或银子买来的，而是用劳动买来的；而它的价值，对于那些拥有它并想用它来交换一些新产品的人来说，恰好等于它可以使他们购买或支配的劳动量。”但他没有加以评论，而是将他的批判保留到了另一段话，在这一段中，斯密从交换的需求中推导出劳动分工，交换的存在反过来又取决于先前劳动分工的存在。\n\n正是在与李嘉图的交锋中，马克思展开了对劳动价值论的辩论。他通过一步一步地遵循恩格斯在他的《国民经济学批判大纲》中就同一主题展开的论战来做到这一点。商品的价值仍然被认为与其价格相同。它由劳动本身贡献的一个要素和劳动的对象所提供的另一个要素组成。马克思赞同蒲鲁东关于地租和利润是“叠加”的说法，因此这也是导致价格上涨的一个因素。他同意萨伊指责李嘉图忽略了需求在决定价值概念过程中的作用，萨伊将供求规律简化为两种竞争现象：生产者之间的竞争决定供给，消费者之间的竞争决定需求。但马克思批评了萨伊的这种说法：后者在实践中受到为时尚风气、个人的任性和其他偶然性的影响。而且他根本不受“市场法则”影响，它假定了供需之间存在最终同一性，这使周期性危机得现象变得难以理解。\n\n然而，马克思对劳动价值论的根本不满在于，政治经济学必然不考虑竞争的影响。然而，竞争是现实。为了使这种理论更加具有凝聚力，政治经济学因此被迫将现实视为偶然，而将抽象视为真实。\n\n在马克思看来，这个反对的理由更加充分，因他指责政治经济学正是在抽象的司法解释背后隐藏了包含在私有财产制度中所包含的剥削关系。如果在私有财产的情况下，要把握“市民社会”的本质，就必须将抽象的原则归结为具体的现实，为什么同样的方法在价值领域就不适用呢?在那里，抽象概念的世界也必须被放弃，以支持“现象场”（phenomenological reality），即价格世界。\n\n马克思在对劳动价值论的批判中，对李嘉图理论中的“劳动价值”概念作了非常精辟的评论。“在本章的开头，如同慈善家一般的李嘉图将生活资料作为工人的自然价格，同样作为他劳动的唯一目的，因为他工作是为了获得工资。那么他的智力会怎样呢？但李嘉图只是为了寻求[确认]不同阶级之间的区别。这是政治经济学通常的循环论证。它的目的是达到精神自由。因此，对大多数人进行精神奴役是有必要的。生理需求不是[生活]的唯一目标。因此，它们成为大多数人的唯一目标。”\n\n在同样的背景下，马克思后来对李嘉图的声明大发雷霆，即一个国家的净收入（表现为利润和租金的总和）才是重要的，而不是它的总收入。“事实上，政治经济学否认总收入，即生产和消费量的重要性，抛开别的不谈，这就意味着否认生活本身的重要性，它的抽象简直达到了耻辱的顶峰。在这里，我们看到:（1）政治经济学一点也不关心国家利益，不关心人，而只关心由利润和地租组成的净收入，它认为这是国家的最终目标；(2)人的生命本身没有价值;(3)更具体地说，工人阶级的价值降低到其必需的生产成本，它的存在只是为资本家[生产]利润，为地主提供地租。”\n\n然而，当马克思审视萨伊和西斯蒙迪对李嘉图理论的批评时，他又向前迈进了一步。他说，这两位经济学家否认的是对经济真相的愤世嫉俗式的表达。为了对抗政治经济学的非人道后果，萨伊和西斯蒙第必须超越它的极限。因此，人道主义是政治经济学之外的东西，因此它不是人文科学。尽管争论十分的激烈，但马克思在这里开始为李嘉图辩护，反对那些反对李嘉图的批评者，他认识到看似愤世嫉俗的东西实际上是对资本主义生产方式现实的坦率承认，而其他作家试图掩盖这一点。\n\n马克思在评论詹姆斯·穆勒的著作时，他又开始抱怨“李嘉图和他的学派”。他们忽略了现实，这个现实表明了生产成本和交换价值之间的差异，并将自己局限于“抽象法则”。然而，这些笔记已经迈出了他的第二步:马克思并不完全否定“抽象规律”，而只是将其视为“真实运动的一个部分”。当供求相互平衡时，决定价格的确实是生产成本。但是，由于现实经常处于振荡和不平衡的状态，供需只能通过其他的方式以达到相互平衡。因此，政治经济学应该解释真实存在的运动，即生产成本与交换价值之间一致与不一致状态的辩证统一。\n\n马克思在巴黎笔记中对古典经济学家的评论，决定了他在1844年和1845年的著作中——特别是在《1844年经济学哲学手稿》和《神圣家族》中对劳动价值论的态度。劳动的价值和价格继续相互分离：前者被宣布为“抽象的”，而只有后者是“具体的”。此外，正如我们之前指出的，在《神圣家族》中生产一种商品所需花费的劳动时间被视为其“生产成本”的“组成部分”；后者并没有被还原为前者。\n\n但当他写完《神圣家族》时，马克思已经为另一部著作《政治经济学批判》制定了计划。1845年2月1日，他与出版商卡尔·威廉·列斯凯签订了这本书的合同。《1844年经济学哲学手稿》无疑是初稿。早在1845年1月20日，恩格斯就敦促他完成他的政治经济学著作，这表明马克思在他的工作台上已经有了一本这样的书。这份手稿似乎已经丢失；它在1847年仍然存在，因为马克思在1846年12月28日给安年科夫的信中写道：“我本来很想随信把我那本关于政治经济学的书寄给您，但是直到现在，我既未能出版这本书……”\n\n为了写这本书，马克思离开了布鲁塞尔，和恩格斯一起去英国访问了六周，在那里研究了他在曼彻斯特能找到的所有政治经济学书籍，无论是在他朋友的家里，还是在公共和私人图书馆。正是在与政治经济学的第二次系统对抗中，他发现了英国社会主义作家能够利用劳动价值论以及李嘉图所阐述的其中包含的矛盾的社会革命用途。1845年7月和8月，他在曼彻斯特学习的作家名单中有托马斯·埃德蒙兹和威廉·汤姆森，他们就是这样使用李嘉图的命题的。（8月之后，他读了另一位同类作家约翰·伯莱的作品。）马克思后来批评劳动价值的分析是在创造“工人对其劳动全部产品的权利”，但很可能通过研究这些作者，他明白了英国资产阶级政治经济学为何出于“护教学”（基督教神学的一部分，研究教条的辨证）的因素而背离了李嘉图。\n\n没有证据表明马克思读过托马斯·霍吉斯金和庇尔西•莱文斯登，这是李嘉图最优秀的两个无产阶级门徒。但是恩格斯为了写他的《英国工人阶级状况》而对英国工人阶级的骚动进行了大量研究，他至少知道这些作家对工人阶级和资产阶级的影响。\n\n罗纳德·L·米克(Ronald L.Meek) 写道：“托马斯·霍吉斯金是一个在1824年废除《联合法》之后的日子里用来吓唬孩子的名字。因此，许多较为保守的经济学家可能不可避免地认为李嘉图的价值理论不仅在逻辑上是不正确的，而且在社会上也是危险的。‘劳动是财富的唯一来源，’约翰·卡泽诺夫 (john Cazenove) 在1832年写道，‘这似乎是一种既危险又虚假的学说，因为它不情愿地为那些将所有财产都代表属于工人阶级的人提供了一个句柄，而这种共享在他人看来是抢劫或欺诈来的份额。”马克思一开始就认为李嘉图是“愤世嫉俗的”，这种为了维护社会秩序会“不择手段”的理论使他感到震惊。我相信他从曼彻斯特回到布鲁塞尔后，对劳动价值论的看法要好得多。\n\n马克思在1845年6月或7月初，也就是在他动身前往曼彻斯特的前夕，马克思在他阅读经济学家查尔斯·巴贝奇的笔记中添加了一段简短的评论，他当时对这一理论仍然保持一定的中立性。但在写于1846年春的《德意志意识形态》中包含两个明确的段落，这标志着劳动价值论被马克思所接受。一方面，我们在那里读到：“他[施蒂纳]甚至没有从竞争中学到这样一个事实……在竞争的框架内，面包的价格是由生产成本决定的，而不是由面包师的心血来潮决定的。”另一方面，马克思和恩格斯写得更清楚：“即使是硬币，它也完全取决于生产成本，即劳动力。”结论似乎是不可避免的：马克思和恩格斯在1845年7月之后，到1846年春天完成《德意志意识形态》期间，决定采用劳动价值论的观点。\n\n如果仅仅因为马克思在曼彻斯特之行中所揭示的李嘉图理论价值概念的鼓动性，就怀疑这两位朋友已经改变了对李嘉图理论的立场，这显然是不公平的。如果他们能在半年的时间里，从恩格斯在他的《国民经济学批判大纲》中所持有的折衷主义概念推进到一个更精确的劳动价值论概念——事实上，这个概念已经开始纠正李嘉图理论中的某些内在缺陷——这首先是由于马克思进行了更深入的经济学研究，以及他在分析上超越了他之前认为在劳动价值论中发现的矛盾。\n\n这种超越可以很容易地从以下几个方面来理解。马克思第一次见到李嘉图和整个古典学派时所震惊的是，竞争的效果——供求规律运行所导致的价格波动——与“交换价值”由生产所需的劳动力数量决定。然而，在他们反思这个问题的时候，他们富有辩证思维的头脑必然会问，显而易见的东西是否真的是对现实最直接的表达——以及“抽象”是否可能不包含比表象更“具体”的真理。\n\n市场上的价格不断地发生变化。然而，如果人们只关注这些波动，那么他们就有可能忽略其他经济活动的存在。但稍加思考，再加上对经济现实的实证研究，就能表明这些波动不是随机发生的，而是围绕一个确定的轴发生的。如果产品的售价低于其生产成本，那么其制造商将被排除在竞争之外。如果同一产品的售价高于生产成本太多，制造商就会获得超额利润，从而吸引更多的竞争者加入这一生产领域，并导致暂时的生产过剩，从而使价格再次下降。根据实际经验发现，生产成本是价格上下波动的轴。\n\n在这方面，值得一提的是马克思在1851年重读李嘉图时所做出的批判性评论：“可见，李嘉图在这里承认，问题不在于生产他所理解的‘价值’，而在于生产‘价值’。‘自然价格’是在与市场价格的关系中为自己开辟道路的，但这种斗争与李嘉图的简单的平均化毫无共同之处。在工业发展的初期，大部分需求是与供给相一致的，竞争是有限制的，因此，在一切工业部门中产生了垄断价格，经常发生工业所有权对土地所有权的侵吞（也以分裂为[农业和工业]国家的形式），因此，一方发财，另一方贫困，所以市场价格和实际价格之间的斗争，在现象上，在程度上，都和现代社会里的情形有所不同。当时市场价格经常超过实际价格。”\n\n在我看来，这个评论使我们更接近马克思从拒绝劳动价值论到接受它的实际路径——即通过分析资本主义生产方式中供求关系的历史演变趋势及其与李嘉图的“自然价格”，即劳动价值的联系。这一分析使他得出结论:由于工业生产的巨大增长，这种“自然价格”越来越成为规则，而与“自然价格”相差很大的垄断价格越来越成为例外。一旦这一点被接受，人们就不得不接受劳动价值论，因为那时已经确定价值不是由“市场规律”决定的，而是由生产本身的内在因素决定的。\n\n马克思在同时进行他的经济学研究（准备《政治经济学批判》，手稿已遗失）和历史哲学研究（准备《德意志意识形态》）的时候，他在大约同一时期制定了他的历史唯物主义理论，其本质上是一种社会经济决定论。研究人类的历史，必须结合工业和交换的历史。人类通过生产生活资料，开始将自己与动物王国区分开来。人究竟是什么，归根结底取决于他们生产活动的物质条件，而这又以他们之间的社会关系为前提。生产力的发展水平最明显地体现在劳动分工的发展上。\n\n换句话说，他们的历史和哲学研究的结论使马克思和恩格斯准确地到达了经典劳动价值论的起点，马克将以一种非常特殊的方式重新构建这一理论：（抽象的）劳动是交换价值的本质，因为在一个建立在分工基础上的社会中，它是唯一的连接网，它使彼此分离的个体的劳动产品之间的比较和可比性成为可能。马克思从波动的“市场价格”回归到重新发现交换价值的方式与我们这个时代的经济学家皮埃罗·斯拉法从边际主义（marginalism）演变为将生产的所有投入还原为有时期的劳动量的“还原方程”理论的方式之间存在惊人的相似之处。马克思和斯拉法以同样的方式进行，将微小的、短期的波动放在一边，而这些波动正是边际主义的开端。\n\n当他写《哲学的贫困》时，马克思已经是一个“李嘉图主义者”了，以至于他在确定了商品的价值是由其生产所需的劳动量决定后，立即引用了李嘉图的话。他引用了李嘉图理论中最薄弱的部分，即通过工人的“维持”成本来确定“劳动力”的“价值”或“自然价格”。\n\n但与此同时，马克思在一个关键问题上已经和李嘉图分道扬镳了。他在1846年12月28日写给安年科夫的信中谈到“资产阶级经济学家的错误在于，这些经济学家把这些经济范畴看做永恒的规律，而不是看做历史性的规律——只是适于一定的历史发展阶段、一定的生产力发展阶段的规律。”对历史唯物主义理论的阐述同时使他掌握了劳动价值论的“理性内核”及其具有历史局限性的性质。这种经济规律的历史局限性的概念，成为马克思主义经济理论的重要组成部分，不亚于劳动价值论。\n\n在马克思看来，这种在历史局限性精确地适用于所有“经济范畴”；归根结底上，他将这种“经济范畴”视为某种社会关系。对于“交换价值”这一范畴，早在《德意志意识形态》和《哲学的贫困》中就有明确的认识。在马克思后期的著作中，他不断重申这一原则。因此，我们不可能同意米伦蒂耶·波波维奇最近的一项努力，即宣称商品关系对整个人类历史都是有效的，一直到活劳动的完全消失，以及伴随其消失的抽象劳动现象，马克思认为这是交换价值的最终秘密。\n\n马克思本人对这个问题的看法很明确。他断然拒绝以交换价值的形式间接表达劳动时间（适用于每一个人类社会，也许除了共产主义社会的最先进阶段）的核算的必要性。他明确提出，当生产资料的私有制被相关生产者的私有制取代时，商品生产将停止，取而代之的是对劳动时间的直接核算。\n\n人们可能认为马克思是对的，或者可能试图表明他是错的，但不应将与他自己的观念相反的观念归咎于他。人们不应该断言，对马克思来说，所有活的社会劳动都必须采取创造价值的抽象劳动的形式，社会主义不是要消灭商品生产而是要消灭商品生产的“人性化”。波波维奇的这些观点与马克思的整个思想是对立的。 作者：瞄一瞄中了 [https://www.bilibili.com/read/cv15156422](https://www.bilibili.com/read/cv15156422) 出处：bilibili\n\n<a name=\"kjlYf\"></a>\n# 第四章：对资本主义生产方式的首次总的分析\n\n在1846年底到1848年初之间（换句话说，主要是在1847年），马克思和恩格斯写了四部著作，其中包含对资本主义生产方式的第一次全面的批判性分析。他们对十八和十九世纪伟大经济学家的研究，为他们提供了资本主义经济运作方式的图景，而这在他们早期的著作中是缺乏的。在马克思的《哲学的贫困》、恩格斯的《共产主义原理》、马克思的《雇佣劳动与资本》以及他们共同撰写的《共产党宣言》中，我们不再看到对资产阶级社会的片面看法，不再主要或甚至完全关注无产阶级的苦难。相反，我们看到了一幅令人印象深刻的图景，其中审视了资本主义产生的规律，分析了它的历史价值（特别是由于生产力的惊人增长，它使所有阶级分化的消除成为可能），以及其中工人运动和共产主义运动具有严格科学的分析基础，即历史唯物主义的基础。这四部著作中形成的观点实际上是相同的，至少在经济问题上是一致的，因此可以放在一起讨论。\n\n分析马克思和蒲鲁东之间的关系不是我们的任务，这方面已经有人写了很多。显然，这些关系经历了三个阶段：首先，马克思对这位法国社会主义者是由衷钦佩的，这位自学成才的工人已经声名鹊起，其大胆的作风势必会吸引马克思（他诉我们他们曾整夜在一起讨论），并在1843年和1844年从他那里借用了他对私有财产的无情批判。然后，令人深感失望的是，蒲鲁东未能步马克思的后尘，他并没有对古典政治经济学进行严肃的批判性的掌握，反而让自己陷入了“劳动集市”的乏味无趣的乌托邦之中（见恩格斯1846年9月16日和18日的信），当面对蒲鲁东的《贫困的哲学》中充斥的混乱和错误时，马克思怀着一种失望中但又夹杂着愤慨的心情。最后，在二十年后，对于他们之间的关系有了一种更冷静的判断，但从广义上讲，这种判断仍然坚持马克思对蒲鲁东错误命题的科学正确的批判。\n\n《哲学的贫困》是那种无情的论战性质写作的原型，这种写作经常激发马克思追随者们，尽管并不总是有真正的结果。在马克思主义的历史上，它构成了“对历史唯物主义解释的第一个具体而全面的描述，迄今为止在他的著作中只是顺便、粗略和间接地提及。”它也是“马克思始终将其视为其成熟科学著作的组成部分中的第一部经济著作。”从马克思经济思想演进的角度来看，它是第一部全面审视资本主义制度的起源、发展、矛盾和未来崩溃的著作，从这个意义上说，标志着对于《1844年经济学哲学手稿》的重大进步。重要的是，马克思对蒲鲁东经济概念的批判所产生的结果是，他继续沿着他迄今为止所做的所有批判工作所确定的路线前进，从他对黑格尔的法哲学的批判开始：与这种神秘化作斗争，这种神秘化是通过抽象的方式来建立不可改变的范畴，其结果是，事物的既定状态被宣布为永恒的，事物的一切根本的不幸也就这样被保留下来了。\n\n《雇佣劳动和资本》采用并扩展了相同的思想，特别是在决定工资的因素这方面。这一系列文章于1849年发表在《新莱茵报》上，内容的来源是马克思在1847年给布鲁塞尔工人协会的演讲汇编（参见1864年6月3日马克思写给恩格斯的信）。\n\n在一本名为“布鲁塞尔1847年”的练习本中，发现了一份名为《劳动的工资》的未出版手稿。它包含了马克思思想的发展，这些思想比《雇佣劳动与资本》的文本走得更远。这是一场(或多场)讲座的大纲，目的是发展已经讲过的内容，同时也包含了马克思关于十几位经济学家著作的阅读笔记。\n\n马克思在《雇佣劳动与资本》中第一次暗示了他的剩余价值理论的本质，尽管没有使用这个术语，也没有准确表达自己的意思。资本“维持和增殖……通过交换直接的、活的劳动力……工人拿自己的劳动力换到生活资料，而资本家拿他的生活资料换到劳动，即工人的生产活动，亦即创造力量。工人通过这种创造力量不仅能补偿工人所消费的东西，并且还使积累起来的劳动具有比以前更大的价值。”\n\n至于《共产主义原理》和《共产党宣言》，这是共产主义“信仰的声明”的两个大纲，第一个大纲是恩格斯于1847年10月23日至27日为“正义者同盟”的巴黎分部写的，第二部由马克思和恩格斯于1847年11月在伦敦召开的共产主义者同盟代表大会后的第二天开始的，并于1848年1月完成。两部作品都吸收了前两部作品中的思想，并赋予了它们一种更加简洁的——现在是经典的——形式。\n\n关于资本主义生产方式的起源的描述，即使在《资本论》中，也没有经过根本的改变。其先决条件之一是资本的原始积累，这是由美洲的发现和新大陆的贵金属输入欧洲而促进的。这导致工资和封建地租的普遍下降，并使利润大幅增加。与此同时，海外和殖民地贸易的发展扩大了市场，增加了商品的生产。大量的商品从奢侈品变成了更经常消费的日用品。\n\n另一方面，封建地租的下降迫使贵族解雇了他们的大部分随从。十六、十七世纪出现了大量的流浪乞讨者，工厂要为他们提供工作。这些工厂不是由工匠建立的，而是由商人建立的，他们最初将一定数量的生产者和生产工具聚集在一个屋檐下，只有通过更好的监督和确保更好地保护资本家不因偷窃而遭受损失来节省开支。后来，劳动分工导致了工厂内部生产力的提高，直到蒸汽动力的使用和工业革命催生了大规模的现代工厂。\n\n由此产生的生产方式首先代表了新的社会生产关系。“做一个资本家，这就是说，他在生产中不仅占有一种纯粹个人的地位，而且占有一种社会的地位。资本是集体的产物，它只有通过社会许多成员的共同活动，而且归根到底只有通过社会全体成员的共同活动，才能运动起来。”\n\n资本主义生产方式的诞生意味着生产力的惊人进步，没有前者，后者就不可能发生。马克思和恩格斯比他们那个时代的其他经济学家更准确、更清楚地理解了这种生产方式的深刻革命性质，尽管这些人大多是资本的辩护者。他们在《共产党宣言》中为资本主义的唱了一首真正的赞美诗，但同时也敲响了它的丧钟：“资产阶级除非对生产工具，从而对生产关系，从而对全部社会关系不断地进行革命，否则就不能生存下去……生产的不断变革，一切社会状况不停的动荡，永远的不安定和变动，这就是资产阶级时代不同于过去一切时代的地方……不断扩大产品销路的需要，驱使资产阶级奔走于全球各地。它必须到处落户，到处开发，到处建立联系。\n\n“资产阶级，由于开拓了世界市场，使一切国家的生产和消费都成为世界性的了。使反动派大为惋惜的是，资产阶级挖掉了工业脚下的民族基础……资产阶级，由于一切生产工具的迅速改进，由于交通的极其便利，把一切民族甚至最野蛮的民族都卷到文明中来了。它的商品的低廉价格，是它用来摧毁一切万里长城、征服野蛮人最顽强的仇外心理的重炮。它迫使一切民族——如果它们不想灭亡的话——采用资产阶级的生产方式；它迫使它们在自己那里推行所谓文明，即变成资产者……\n\n“资产阶级使农村屈服于城市的统治。它创立了巨大的城市，使城市人口比农村人口大大增加起来，因而使很大一部分居民脱离了农村生活的愚昧状态……资产阶级日甚一日地消灭生产资料、财产和人口的分散状态。它使人口密集起来，使生产资料集中起来，使财产聚集在少数人的手里……资产阶级在它的不到一百年的阶级统治中所创造的生产力，比过去一切世代创造的全部生产力还要多，还要大。自然力的征服，机器的采用，化学在工业和农业中的应用，轮船的行驶，铁路的通行，电报的使用，整个整个大陆的开垦，河川的通航，仿佛用法术从地下呼唤出来的大量人口，——过去哪一个世纪料想到在社会劳动里蕴藏有这样的生产力呢？”\n\n但是，这种对资本主义生产方式成就的诗意描述，只会更加突出它同时所产生的矛盾。 因为如果不同时发展壮大无产阶级，资本就不能增加。社会财富集中在一个社会阶层手中，意味着另一个社会阶层的集中贫困。为了解释这一点，我们必须从分析这种财富的基本要素开始，即商品。\n\n商品的价值是由生产它所必需的劳动时间决定的。现在，资本已经把劳动本身变成了一种商品，因为无产阶级除了为了获得生存资料而不得不出售的劳动力外，一无所有，而这一切都掌握在资本家手里。因此，这种劳动力本身将被视为一种商品，并且与任何其他商品一样，其价值（马克思在1847年仍不断使用李嘉图的术语“自然价格”）将由其生产所需的劳动力数量决定——为了生产“几乎只限于维持工人生活和延续工人后代所必需的生活资料。”\n\n通过工人之间的竞争，使得工资基本上保持在最低水平。在保留李嘉图关于工资的结论的同时，马克思和恩格斯的分析远远超出了他们的范围。他们使工资水平取决于资本积累的节奏。他们修正李嘉图理论的僵化结论，指出工资不是保持稳定的而是波动的，“最低生活保障”——劳动力再生产所必需的生活资料的价格——是由于在高危时期临时将工资提高到这一最低标准之上，而在危机和大规模失业时期则临时低于这一最低标准的结果。\n\n然而，尽管马克思和恩格斯承认在高危时期工资可能会超过最低生活水平，并且正是由于这种情况，工人才能在很小的程度上参与到文明的进步当中，但他们发现了这个最低工资、即劳动力价格有下降的趋势，而且是一种绝对性的趋势：“因此，当人们不断地用更便宜、更糟糕的食物找到维持劳动力的手段时，最低工资就不断下降。”《哲学的贫困》中以棉花代替亚麻、土豆代替面包、烈酒代替葡萄酒的例子说明了这一点。后来，马克思经常引用将茶引入英国工人阶级饮食在这方面所起的作用。\n\n简而言之，马克思和恩格斯仍然相信工资长期下降的一般规律——他们后来纠正了这一立场——马克思在“工资”（Arbeitslohn）手稿和《雇佣劳动与资本》中定义了这个规律，并具有以下特点：各国最低工资的标准不同，但在最低水平上趋于平均。当工资下降然后回升时（在萧条之后的高危阶段），他们永远不会达到之前失去的水平。工人之间的竞争不断加剧并趋向于降低最低工资；税收等同于商人的欺骗。总之，“随着时间的推移，工人的工资下降有双重意义：一是相对的，与财富的普遍发展相比；其次，在绝对意义上，工人在交换中得到的商品数量越来越少。”\n\n同时，根据经济学家约翰·巴顿首先提出的观点，马克思制定了资本积累定律，该定律注定在他随后的工作中发挥特别卓著的作用：“资本和劳动关系的本质必然遵循一条普遍规律，即在生产力增长过程中，转化为机械和原材料的生产资本，也就是资本本身，按比例增长的速度比投入工资的那部分[资本]要快；换言之，作为一个整体，工人不得不勉强维持生产资本中越来越小的份额。工人之间的竞争因此变得更加激烈。”\n\n我们这里所掌握的不过是资本有机构成增加规律的初步概述，从中可以得出平均利润率下降趋势的规律，这是资本发展的基本规律之一，马克思将在几年后发现资本主义生产方式。顺便指出，刚刚给出的引文的结束语包含推理错误。工资（可变资本）在整个生产资本中所占的比例“越来越小”，这一事实并不一定意味着，每个工人在工资总量中所占的份额的绝对值会下降。这实际上取决于一系列自变量：生产资本整体增长的节奏与资本有机构成的增长节奏相比（例如，如果生产资本总额每年增加20%，而可变资本的相对份额每年减少10%，则可变资本的绝对值增加）；可变资本绝对增长的节奏，相对于工薪劳动力的增长节奏（如果可变资本的绝对值每年增加10%，而工薪劳动力的规模只增加5%，那么每个工薪者所获得的平均份额实际上可能会增加）；剩余价值比率相对于生产资本比率的进步节奏；等等。\n\n资本主义的演变意味着财富和苦难同时集中在社会的两极这一事实已经被马克思和恩格斯认为是周期性生产过剩危机的原因之一：“社会突然发现自己回到了一时的野蛮状态；仿佛是一次饥荒、一场普遍的毁灭性战争，使社会失去了全部生活资料；仿佛是工业和商业全被毁灭了，——这是什么缘故呢？因为社会上文明过度，生活资料太多，工业和商业太发达。”\n\n“雇主不能雇用工人，因为他不能销售他的产品。他不能销售他的产品，因为他没有顾客。他没之所以有顾客，是因为工人只有他们的劳动力可以交换，而这正是他们[当时]无法交换的。”\n\n此外，马克思和恩格斯同时提出了生产过剩的周期性危机和资本主义生产普遍采取的周期性过程，这是生产的无政府状态和自由竞争的结果：“供求之间的这种正确比例……它只有在生产资料有限、交换是在极狭隘的范围内进行的时候，才可能存在。随着大工业的产生，这种正确比例必然消失；由于自然规律的必然性，生产一定要经过繁荣、衰退、危机、停滞、新的繁荣等等周而复始的更替。”\n\n在《共产主义原理》中也类似的话：“由于生产变得这样容易，这种大工业必然产生的自由竞争很快就达到十分剧烈的程度。大批资本家投身于工业，生产很快就超过了消费。结果，生产出来的商品卖不出去，所谓商业危机就到来了。”\n\n应当指出，马克思没有明确指出，而只是顺便提及，就利润率的均等化而言，这是资本主义竞争的后果。\n\n生产过剩危机表明，资本主义的财产关系和生产关系反过来成为生产力发展的桎梏。 资本家力图摆脱这些困境，他们通过降低甚至摧毁大量生产力的价值以及寻求新的市场来应对危机。然而，这样做只会为将来更严重的危机铺平道路。\n\n从那时起，资产阶级为反对封建主义而锻造的武器就转向了它。资本在资产阶级社会中创造了一个社会阶级——无产阶级——这是革命性的，哪怕只是因为它的生存条件变得越来越难以忍受。现在，这群集中在大企业中的无产阶级开始在所有成员之间的相互竞争中分裂自己，他们意识到需要组织起来以捍卫自己的工资。因此，工人阶级的联合有两个目的:消除工人之间的竞争，以便同资本家进行更加激烈的斗争。在这场阶级斗争中，无产阶级“为自己”形成了一个阶级。\n\n它捍卫工资的斗争很快转变为一场政治斗争，目的是废除工资制度，建立一个基于生产资料集体所有制和所有生产者自由联合为基础的新社会。这个社会只有在生产力高度发展的情况下才能出现，它的发展将会有一个新的进步，使生产者的一切需要都能得到满足，使每个人的全面发展都能得到保证。\n\n我们已经看到，本章分析的四部著作构成了对资本主义生产方式的第一次全面批判，首次将历史唯物主义的一般方法具体应用于特定社会，即资产阶级社会。社会学和经济学的综合，其巨大的优越性在于它建立在逻辑(辩证)方法与历史方法的综合基础上。迄今为止，还没有任何其他理论的综合程度能与马克思主义的方法相媲美。\n\n最近，美国社会学家塔尔科特·帕森斯 (Talcott Parsons) 试图进行类似的综合。在高度形式化的社会学和一般行动理论的框架内，他将经济视为“社会系统”的一个特殊特征，专门用于增加更广泛系统的“适应性”。这种综合的尝试可以被认为是失败的，原因有三个：它在很大程度上不符合历史的特点，它无法把握每一种“社会制度”(以及所有现实)的基本矛盾的本质，以及对当今资本主义（将国家与自身紧密结合的垄断资本主义，或新资本主义）的现实的相当明显的辩护倾向。\n\n塔尔科特·帕森斯声称，可以肯定的是，他的分析适用于“任何社会”和“任何”社会制度。但这一雄心勃勃的主张经不起历史的批评。当帕森斯说，需求状态和生产条件在除“高度传统”的原始经济之外的所有社会不断变化时，他颠覆了经济史的教义。事实上，这些需求和生产条件的“持续”变化只是广义商品经济的产物——它只占人类迄今为止总历史的很小一部分。帕森斯通过概括信用在垄断资本主义没落时代的作用，在经济和政治集体之间的联系中发现了“资本”的起源（以通常的辩词定义为社会“流动”资源的总和：仿佛原始村落的种子储备，或生活在原始氏族共产主义阶段的游牧部落的种子，都是“资本”！；好像资本不是一种社会关系！）那么，如何解释在英国自由放任时代开始时，大规模工业中资本的“正常”积累呢？当时信贷所扮演的角色显然是次要的，而且信贷主要私有的。\n\n塔尔科特·帕森斯（Talcott Parsons）的实用主义模式的非历史性是显而易见的，他在经济领域的大多数定义只是资本主义经济的基本特征的概括（甚至几乎没有一点抽象），甚至是对资本主义经济在其特定发展阶段的概括。因此，他对经济的定义是在制度化价值体系的框架内努力实现生产最大化的“目标”（就好像没有一系列生产方式的“制度化价值”恰恰暗示着对“生产最大化”的故意拒绝！）。 或者他将“契约”定义为中央经济制度（仿佛契约不是商品生产的产物）。\n\n他无法把握“社会制度”和“经济制度”的矛盾特征，这是塔尔科特·帕森斯架构的三个弱点中最重要的一个。通过从他的分析的基础上消除社会群体之间的冲突；通过将“系统”视为趋向于“整合”与“缓和紧张”；通过隐藏一个事实，即一个制度的主导“价值”根本没有对应于其所有成员的利益，而只对应于占主导地位的少数群体的利益，帕森斯既无法解释从一种社会经济制度到另一种社会经济制度的历史演变的动力（生产力发展水平与生产关系之间的周期性冲突），也无法解释历史演变所采取的具体形式（敌对阶级和社会力量之间的斗争）。而马克思主义的体系使我们能够解释不同的历史现象，如亚细亚生产方式的起源、罗马帝国的衰落、中世纪城市的兴起、大规模工业的到来、自由竞争的消灭、法西斯主义的爆发及其失败，我们将徒劳地在塔尔科特·帕森斯的公式中寻找理解这些不同现象所需的要素。在《经济与社会》（Economy and Society）中可以找到的关于前资本主义社会矛盾的少数评论揭示了他对这种矛盾缺乏理解，这种理解有时几乎是荒谬的。\n\n塔尔科特·帕森斯对社会冲突及其经济根源的不理解使他的基本论点黯然失色。每一个“经济体系”，当它发展到一定的程度时，便不会增加，相反，它的“更大的社会体系”的适应性会大大降低。公元二、三世纪后罗马帝国的发展，或十八、十九世纪中国的发展，提供了反驳帕森斯架构的鲜明例子。\n\n至于塔尔科特·帕森斯理论的辩护性质，这尤其表现在他对资本主义社会制度框架的处理方式上。劳动是做出决定的重要因素——在工人的“家庭”内——将自己的“业绩”提供给“组织”，以换取和考虑“报酬”和其他人的“满意”。这个决定主要是基于“一般社会化动机”。等等。一个社会阶层既没有自己的资源，也没有获得生存手段的现实，一种在任何“社会化动机”、任何“对劳动事实的接受”之前遭受经济限制的人——唯一的另一种解决办法就是饿死！——在帕森斯的“制度”分析中没有任何立足之地。同样，对于封建地租显然是一种劳动产物而不是由贵族支付的这一事实，人们寻求丝毫的解释也是徒劳的，或者最轻微的试图反驳前资本主义时代的社会剩余产品与资本主义生产方式下生产的剩余价值之间的类比。 作者：瞄一瞄中了 [https://www.bilibili.com/read/cv15198008](https://www.bilibili.com/read/cv15198008) 出处：bilibili\n\n<a name=\"E2OLh\"></a>\n# 第五章：周期性危机的问题\n\n从《共产党宣言》（1848年）到《新莱茵报·政治经济学评论》最终出版（1850年）期间，马克思和恩格斯详细阐述了他们对资本主义生产的周期性和生产过剩危机的看法，这种生产方式时不时会产生动摇，短短两年时间就过去了。但这是什么年代！1848年2月法国革命；1848年3月柏林革命；马克思和恩格斯返回德国；在科隆，由这两位朋友编辑的日报《新莱茵报》首次出版；1848年6月在巴黎发生的第一次无产阶级起义；对《新莱茵报》的第一次禁令；意大利和匈牙利革命的爆发和失败；维也纳革命的爆发和失败（马克思花了两个月的时间让维也纳工人为即将发生的事情做好准备）；柏林反革命的胜利；解散德国国民议会；最终禁止《新莱茵报》；马克思被驱逐出德国；恩格斯参加了南德小资产阶级民主派反对反革命势力的军事行动；这两位朋友再次流亡，这次是在英国。\n\n这两位年轻的思想家在锻造和完善了作为无产阶级革命学说的共产主义学说之后，发现自己陷入了革命行动本身的高潮之中，他们批判了小资产阶级民主主义者表现出的犹豫、软弱、缺乏逻辑和勇气，并以最大的活力和勇气激励无产阶级，这是他们第一次在半个欧洲的公开斗争中面对阶级敌人。像所有革命者一样，马克思和恩格斯对革命充满热情。像所有革命者一样，他们往往会大喊：“所以革命似乎已经死了？革命万岁，它将很快从自己的灰烬中重生！”但是他们的思想太过严谨，太过科学，太倾向于让所有的思想（包括他们自己的思想）置于无情的批评之下，以至于他们仍然是幻想的受害者。\n\n1850年3月，马克思在中央委员会给德国共产主义同盟的讲话中仍然写道，在不久的将来，必然会爆发一场新的革命，要么是法国革命的新高潮，要么是由于\"神圣联盟\"的战争的结果，这场战争是由整个反动派对这个革命的法国发动的。但七个月后，即1850年11月1日，马克思和恩格斯在1850年5月至10月期的《新莱茵报·政治经济学评论》上发表的《回顾1850年5月至10月的事件》中写道：“在这种普遍繁荣的情况下，即在资产阶级社会的生产力正以在资产阶级关系范围内一般可能的速度蓬勃发展的时候，还谈不到什么真正的革命。只有在现代生产力和资本主义生产方式这两个要素互相发生矛盾的时候，这种革命才有可能……新的革命只有在新的危机之后才有可能。但是新的革命的来临象新的危机的来临一样是不可避免的。”\n\n他们对资本主义生产的周期性过程进行了更深刻的研究，得出了这个结论，至少在国际资本主义的整个上升阶段，这个结论仍然是有效的。这项研究特别涵盖了1847年的危机和随后的繁荣阶段（其结果首先被记录在《新莱茵报》上，该报从一份日报在1849年变成了季刊），以及1857年的危机，马克思和恩格斯的通信以及他们为《纽约每日论坛报》所写的文章都分析了这一危机。\n\n甚至在此之前——特别是在恩格斯所著的《英国工人阶级状况》、马克思的《哲学的贫困》和《共产党宣言》中——马克思和恩格斯已经简要地讨论了周期性危机的问题。在早期的阅读笔记和《1844年经济学哲学手稿》中，我们看到马克思指责李嘉图和萨伊。说他们没有理解资本无限制地发展生产力的趋势与资本本身对劳动群众消费的严格限制之间的矛盾。即便如此，他还是正确地区分了实际需求和有效需求。\n\n在《德意志意识形态》中，马克思和恩格斯又回到了这一区别，简要分析了货币危机可能发生的原因，并指出生产过剩危机不是由物质生产过剩引起的，而是由交换价值的扰动引起的。\n\n此外，马克思除了研究经济周期外，还致力于对直接经济利益与政治倾向之间的联系进行更详细的研究。这项研究，即《1848年至1850年的法兰西阶级斗争》，也出现在《新莱茵报》上。它对马克思经济思想形成史的重要性在于，正是在这里，他首次明确地提出了生产资料的集体占有这一概念。\n\n这项研究使马克思开始关注他以前不太关注的现象。除了代表法国农民存在的抵押贷款和税收负担之外，他们也无法理解法国农民政治态度的演变。资产阶级的不同部分由于各自的资本所采取的主要形式而相互反对和斗争：土地财产、银行、工业或商业财产。因此，经济学研究不得不频繁地摒弃抽象和概括，以便变得细致入微。股票交易价格几乎每天的波动，政府财政政策的细节，都被整合到分析中。显然，对信贷问题和货币现象的日益熟悉使这两位朋友为更好地了解“工业周期”做好了准备。\n\n然而，马克思和恩格斯还没有对资本主义生产所采取的经济复苏、高危、繁荣、“繁荣”（经济过热）、崩溃、危机和萧条这几个阶段的周期性过程进行系统研究。但他们确实定期在《新莱茵报》上发表对当前政治和经济事件的调查，这些调查越来越成为对经济形势的真实研究。在这篇评论的第二部分——只有五期：1850年1月、2月、3月、4月和5月至10月——马克思和恩格斯强调，1848年2月在法国的爆发的革命已经对自1845年以来一直处于萧条状态的英国经济形势产生了有益的影响。“海外市场积压的大量商品在这个时期逐渐找到销路。并且，二月革命恰恰在这些市场上消除了大陆工业的竞争，而英国工业由于大陆市场的破产遭到的损失要比它在危机的进一步发展中本来要遭到的损失只稍微多一些。”结果，英国工业比预期更快地度过了危机，并在1849年进入了一个繁荣的阶段，根据实业家的说法，这个阶段超过了以往任何一个时期。\n\n在对经济形势的回顾中，马克思和恩格斯首先强调了“巨大的海外市场”对英国经济形势（以及整个欧洲工业）的重要性。在提到欧洲革命对国际贸易的影响之后，他们指出了在加利福尼亚发现黄金的决定性的历史意义——“一个比二月革命更重要的事实”。接下来的段落揭示了他们非凡的预言性的眼光，因为马克思和恩格斯在这里预见了巴拿马运河的开凿，世界贸易中心向太平洋的转移（即使在今天也只是一种趋势），美国对欧洲的工业和商业优势（这直到半个多世纪后才成为事实），甚至是中国革命！\n\n马克思和恩格斯在4月刊中倾向于预测新的生产过剩危机，而在5-10月刊中则更加谨慎，他们的“评论”实际上是对1836年-1850年资本主义世界的整个经济形势的详细分析。这一分析已经表明了他们对周期的一般概念以及对其形成产生了深刻影响的经济因素有了更深入的了解。\n\n因此，作者强调，英国对铁路建设的大量投资推动了1843-1845年的繁荣；蒸汽航运向美国太平洋沿岸、向太平洋、向澳大利亚的扩张，与前者发挥了同样的作用。这一波投资导致了一些新企业的成立，又反过来导致了生产过剩。但由于繁荣伴随着越来越多的肆无忌惮的投机，因此危机的根源似乎是投机而不是生产过剩。马克思和恩格斯纠正了一种肤浅的印象，强调危机归根结底始终是生产过剩的危机。\n\n1847年的国际危机始于铁路，后来蔓延到货币和贸易领域，1845年和1846年爱尔兰、英国、法国、荷兰和比利时的马铃薯收成不佳，加剧了这一危机，这反过来又导致了玉米价格的大幅上涨。因此，马克思和恩格斯认为工业和农业在资本主义生产周期机制中的相互作用具有不可忽视的重要性。\n\n他们同样重视纯粹的货币现象，以及这些现象在危机开始时所起的关键作用。最初的恐慌是在1847年4月，由英格兰银行突然提高银行利率以及该银行公布的每周资产负债表显示其黄金储备下降到250万英镑引起的，但这并不意味着大银行和商品房市场的崩溃。这是在1847年8月发生的，因为一系列专门从事小麦和殖民产品贸易的公司破产了，接着是同年10月一系列银行和经纪人的大规模破产。\n\n马克思和恩格斯再次强调了实际生产过剩在危机机制中的作用：一方面是铁路建设的过度扩张，另一方面是殖民地产品的过度进口（和出口）。他们在分析1848年至1850年英国工业的繁荣时强调了同样的机制，英国工业繁荣的标志远不是投机，而是生产的实际扩张，尤其是棉纺织工业及其出口，特别是对远东国家（作者谈到荷属东印度群岛市场对英国贸易的“开放”）和太平洋（受加利福尼亚狂热发展的影响）。\n\n马克思和恩格斯认为，棉花价格的不规律波动，使英国资产阶级越来越不满于他们对美国南部棉花种植的依赖。他们相信英国将尝试在其他地方发展棉花种植（这确实发生过，特别是在印度和埃及），而这种来自自由工人的竞争将对美国南部的黑人奴隶制造成致命打击（这个预测也被证明是正确的）。\n\n他们同样强调了在整个资本主义世界的周期循环中，英国扮演着推动力量的角色。循环运动在英国开始，也是最原始的运动发生的地方。在欧洲大陆，资本主义生产每次都要重新经历的周期的连续阶段，只是作为次要现象出现。英国是欧洲大陆所有国家的主要市场，英国经济形势的起起落落导致（当然不可避免地会延迟）这些大陆国家的出口以及其经济形势的相应波动。海外国家的情况——英国工业对这些国家的出口远大于其他欧洲大陆国家——早在它影响欧洲大陆国家之前就影响到了英国。\n\n这种分析非常微妙，超越了那个时代的学术科学所能掌握的任何东西，但也有一些缺点。货币危机仅仅反映了生产过剩危机，而“自主”货币危机甚至可能出现在繁荣时期，特别是在金本位制支配下的“自动机制”范围内，两者之间的区别还没有充分确立。这个周期的持续时间是以纯粹经验的方式来把握的，与固定资本的再生产周期无关。\n\n这两个不足之处曾多次导致马克思和恩格斯错误地预测了新危机的爆发：1852年、1853年和1855年。直到1857年危机才最终爆发，而古典资本主义危机周期的平均持续时间被证明并非这两位朋友最初相信的六到七年，而是七到十年，正如马克思后来在《政治经济学批判大纲》和《资本论》中详细解释的那样。\n\n这两个因素对马克思和恩格斯在1852年至1855年间的经济预测的失误起到了决定性的作用。通过与前一个危机周期（1843-1847年）的持续时间进行类比，使他们在《新莱茵报》上预测了1852年的新危机。货币问题主要是造成《纽约每日论坛报》文章中提供的错误诊断的主要原因。\n\n在此期间，加利福尼亚和澳大利亚金矿的发现和狂热开采严重扰乱了货币市场的运作。正如梁赞诺夫在他对1852年文章的评论中指出的那样，马克思后来在《资本论》第三卷中更正了他此时的印象，即英格兰银行的黄金积累只能是贸易收支波动的结果，与英国和国际经济形势密切相关。这种积累也可能是由于黄金产量的突然增加，以及黄金运往英国的情况，对经济形势产生了自主影响。在这里，我们触及了黄金双重性质的一个方面：它既是所有商品的一般等价物（它似乎独立于其内在价值而实现的功能），而且它本身也是一种商品，一种由人类劳动而生产的金属，其价值随着金矿行业生产力的发展而变化。几年后，当马克思写下《政治经济学批判》的第一章时，他要引起人们对这种矛盾现象的关注。\n\n1852年，马克思对此仍然只是类比论证：因为危机的历史告诉我们，银行中过多的资本积累使投机变得疯狂，而经济形势的这种“过热”很快就会引发危机，1852年所存在的资本过剩必然是在不久的将来发生危机的信号。几个月后，即1853年1月，他已经被引导去纠正这一印象。尽管预测有误，但对1852年的经济形势分析还是包含了正确的因素，特别是下面这句有针对性的评论，它的有效性一直延续到我们这个时代：“没有一次繁荣时期，他们[资产阶级乐观主义者]不利用机会断言：这一次不会有坏的一面了，这一次战胜了严酷的命运。而在危机到来的时候，他们就作出一副无罪的样子，用训诫的、庸俗的说教来攻击商业家和工业家，说他们缺乏先见之明和没有谨慎从事。”\n\n至于1854年-1855年的“危机”，马克思的错误是可以原谅的，因为它不是简单的类比推理或抽象演绎的结果。棉纺织业确实出现了生产过剩的危机，尤其是由于对澳大利亚的出口下降（在黄金“繁荣”之后，前两年一直存在过度投机行为）。由于美国和澳大利亚的黄金供应量急剧下降，货币市场也出现了严重波动。海外公司的大量倒闭导致一些重要的英国公司倒闭。然而，正如梁赞诺夫在他对马克思1855年1月的文章的评论中所指出的那样，所有这一切并没有构成整体危机，而只是局部危机，在此期间，货币因素的自主作用再次显露出来。\n\n在他1855年1月的文章中，马克思强调了美国和澳大利亚市场对于扩大英国工业生产和出口的巨大重要性。这些出口在1842年至1853年间翻了一番以上，在1853年出口的价值1亿英镑的商品中有40%出口到这两个国家（2500万英镑到美国；1500万英镑到澳大利亚）。而在1842年出口的价值4500万英镑的英国商品中，澳大利亚吸收了不到1000万英镑，而美国只有350万英镑（也就是说，这两个国家加起来占英国出口的10%）。因此，在这十年间超过5000万英镑的英国出口增长中，多达80%被这两个“新”海外市场所吸收。到了1855年，这种出口的“繁荣”似乎已经停止，那么整个框架的繁荣不会受到致命的打击吗？正如我们所看到的，这一次马克思的错误预测比他在1853年做出的预测有更坚实的基础。\n\n《资本论》的作者低估了克里米亚战争对经济形势的刺激作用。这里的历史经验为后来罗莎·卢森堡所说的政府命令可以作为与外部市场相关的“替代市场”发挥作用提供了一个例子。对军队的供应和军工工业的发展很大程度上弥补了对澳大利亚出口的挫折。马克思后来承认了这一点：在《资本论》第三卷中，他将1854年和1855年划分为繁荣时期。\n\n但在次年，恩格斯(1856年4月14日给马克思的信中)和马克思(1856年9月28日给恩格斯的信中)对“经济过热”的分析被证明是正确的。一场“壮观的崩溃”（恩格斯致马克思，1857年10月29日）随之而来，并打开了危机的闸门。这一次，两位朋友都具备了他们需要的知识和经验数据，以便一步一步地跟踪危机的发展。此外，1857-1858年的危机在其范围上比以前的危机更广：它扩展到更广泛的地理区域并影响到所有的工业部门。\n\n正是在研究1857-1858年的危机时，马克思第一次发现了周期长短与固定资本更新周期之间的关系。他在1858年3月2日的信中就此向恩格斯提出了这个问题，两天后他的朋友作了详尽的答复。这样这个疑问就解决了，马克思和恩格斯把他们7年前提出的6年周期的错误假设修正为10年周期。\n\n在马克思看来，只有中国才能在1857年至1858年危机之后的周期中提供一个可能的额外市场，而且他正确地预见到，要打破中国古老而支离破碎的农业对大型资本渗透的阻力并非易事。但是这八年对危机问题的研究为马克思提供了概念工具，这些内容体现在《资本论》中，即使不是完整的资本主义周期理论——他也没有时间写——但至少建立了这样一个理论的主要材料。\n\n这些材料为20世纪的经济学家提供了重要的启发，从杜冈·巴拉诺夫斯基开始——他自己是一个“合法马克思主义者”——发展了各种所谓的周期性危机理论。阿尔文·汉森 (Alvin Hansen)宣称：“像卡塞尔和施皮托夫一样，阿夫泰良教授的成就很大程度上归功于马克思和其他人从马克思那里得到的思想……他的[马克思的]著作充满了影响了许多非马克思主义者关于周期问题的思考，尽管更多正统作家并不总是承认甚至意识到他们对马克思的亏欠程度。”\n\n这句话特别适用于那些像作者所提到的那样，将危机理论建立在固定资本更新周期的持续时间上，或者换句话说，将投资活动（资本积累）视为危机背后的主要推动力。但它也适用于那些认为周期性危机的主要原因是大众消费不足的人。事实上，这两种观点都能在马克思的著作中找到，原因很简单，对他来说，危机的根源一方在于资本主义的竞争——资本主义投资的不规律性——也在于群众的有效需求与社会整体生产能力之间必然存在的滞后。 作者：瞄一瞄中了 [https://www.bilibili.com/read/cv15229119](https://www.bilibili.com/read/cv15229119) 出处：bilibili\n\n<a name=\"aK6qN\"></a>\n# 第六章：完善价值理论——剩余价值理论和货币理论\n\n1857年的危机减少了马克思本已非常微薄的经济来源，因为《纽约每日论坛报》把他的供稿减少到每周两篇。但危机仍然激发了他对工作的热情和乐趣，以至于他在1857年12月18日写信给恩格斯说：“我的工作量很大，多半都工作到早晨四点钟。”这项工作着眼于两件事：对危机“事实和事件”的详细记录；以及解决对经济分析的“基本特征”的研究。这些研究的后半部分催生了《政治经济学批判》、《政治经济学批判大纲》和《剩余价值理论》，它们共同构成了《资本论》写作的直接准备工作。\n\n长期以来，马克思一直希望对资产阶级政治经济学进行系统的批判，同时阐述自己在经济领域的观点。他在1851年提到了这个希望，当时他于4月2日写信给恩格斯说，在五周内，他将在大英博物馆“完成所有的经济学垃圾”，然后继续“在家里研究经济学。”但是，从1852年开始，为了养活自己，他必须从事新闻工作，再加上家庭困难和健康状况不佳，使他的计划推迟了四年。他于1857年9月开始撰写《政治经济学批判大纲》。马克斯米里安·吕贝尔指出，在1852年8月到1856年底期间，马克思被迫放弃了他的经济学研究。\n\n拉萨尔能够找到一个出版商分期出版马克思的经济学著作的这一事实，促使他完成了他的写作，但即便如此，他直到1859年1月21日才准备好第一期（《政治经济学批判》），当他把这件事告诉恩格斯时，他不禁叹了口气：“未必有人会在这样缺货币的情况下来写关于“货币”的文章！”\n\n正是在这两个日期之间，即1857年12月18日和1859年1月21日，或者更准确地说，在1857年11月至1858年6月底之间，马克思可能对经济学的发展做出了最重大的贡献。1858年3月29日，他在一封信中向恩格斯提到了这些情况，信中还包含出版商邓克尔同意出版他的经济学手稿的消息。 他在4月2日的一封信中概述了他的观点，并在1859年7月22日对其进行了总结：他试图从最简单的现象——商品——出发，来揭示资本主义生产方式的特定的社会性质，而非绝对性质。\n\n《政治经济学批判》以其序言而闻名，该序言用作者自己的话概括了历史唯物主义理论；而我们的任务不是讨论这个问题。由于作品的抽象性，从它出版到今天，这部作品本身的影响较小。恩格斯在马克思为他勾画大纲时便已经抱怨过这一点。尽管如此，这本书确实包含了马克思对经济理论发展的大部分具体贡献，他在《政治经济学批判大纲》中对这些贡献进行了更详细的阐述，这部作品本身直到二战后才为公众所知。马克思的贡献首先是对古典学派代表威廉·配第、亚当·斯密和李嘉图所提出的劳动价值论的改进。同时，这也是对马克思本人在流亡英国之前提出的经济理论的改进。\n\n在《雇佣劳动与资本》中，正如在马克思以前的所有著作一样，“劳动”和“劳动力”之间的区别尚未确立。正因为如此，马克思一直无法对剩余价值进行科学的分析，而这个分析恰恰是从发现劳动的特定的使用价值开始的。《哲学的贫困》、《共产党宣言》、《雇佣劳动与资本》都没有包含剩余价值的概念。同样，在这些著作中，马克思还没有最终揭示商品交换价值的秘密。 尽管他从流亡布鲁塞尔时就已经相信劳动价值论，但他还没有学会区分交换价值和生产价格，或者说生产价格和市场价格。\n\n因此，在《哲学的贫困》中，马克思没有区分交换价值和价格：后者在他的分析中无处可寻。 在《雇佣劳动与资本》中，“交换价值”一词也随之消失了，取而代之的是“价格”。但是，经济学家过去认为是不可接受的矛盾，现在被理解为一个明显的辩证现实：“只有在这种波动的进程中，价格才是由生产费用决定的。这种无秩序状态的总运动就是它的秩序。”\n\n在《政治经济学批判》中，马克思将其价值理论和劳动价值论结合起来，形成了抽象劳动理论，即关于交换价值的创造者的理论。他将创造使用价值的“具体劳动”和产生交换价值的“抽象劳动”(即在社会分工相互分离的私人商品生产者社会中完全可用的一部分社会劳动时间)区分开来。使用价值和交换价值是建立在这两种劳动形式的基础上的。马克思把这种对商品的分析看作是一个半世纪以来古典政治经济学发展的顶峰。在详细展开他自己的分析之后，他努力展示了经济学得出交换价值本质的正确概念的具体历史过程，他对18世纪和19世纪初的每一位伟大的经济思想家都给予了应有的评价，但同时也强调了每一种分析的缺点。因此，《政治经济学批判》中题为“商品理论史注释”的小分章是对致力于“价值理论”的工作的一个总结，并成为《剩余价值理论》的序言。\n\n这些内容总结了以往对李嘉图价值理论的批评，同时也总结了马克思自己对经济理论发展的贡献。他自己称之为雇佣劳动理论（剩余价值理论的补充）、资本理论、竞争理论和地租理论，他对这四个方面的批判给出了令人信服的答案。\n\n如果劳动是交换价值的本质，那么劳动的交换价值是什么？把交换价值作为交换价值的尺度，这不是在兜圈子吗？这一反对意见体现在以下问题中：既然劳动时间是交换价值的衡量标准，那么工资是如何确定的？在平等交换的客观基础上，资本和劳动之间的交换是如何发生的？\n\n马克思回答说：“如果维持工人一个工作日的生存，需要一个工作日，那么，资本就不存在，因为这样就等于工作日和它自己的产品相交换，从而资本就不能作为资本增殖价值，也就不能作为资本保存自己……相反，如果维持工人整个工作日的生存，只需要例如半个工作日，那么，产品的剩余价值就自然产生出来了……”\n\n创造剩余价值的不是交换，而是一个过程，资本家通过这个过程，在没有交换、没有等价物的情况下，免费地获得了由价值对象化的劳动时间。而这个过程无非是资本家对劳动力使用价值的享受，劳动力的使用价值一旦给定，就能够生产出远远超过其自身交换价值的等价物和它自身维持的成本，一旦给定一定水平的劳动生产率，在没有这些因素情况下，资本主义的生产方式是不可想象的。\n\n因此，正是劳动力的交换价值和使用价值之间的细微差别，成为马克思主义剩余价值理论的基础，是马克思对经济学发展的主要贡献。\n\n“劳动对于资本来说是使用价值，对于工人来说只是交换价值;是现有的交换价值……一物的使用价值与它的卖者本身毫无关系，而只与他的买者有关。硝石可以用来制造火药的属性并不决定硝石的价格，而这种价格是由硝石本身的生产费用决定的，由对象化在硝石中的劳动量决定的。在使用价值以价格的形式加入的流通中，使用价值的价值不是流通的结果，虽然它只有在流通中才能实现;它是流通的前提，只有通过同货币相交换才得到实现。劳动也是这样，由工人作为使用价值卖给资本的劳动，对于工人来说，是他要实现的属于他的交换价值，不过这个交换价值是在这种交换行为以前已经决定了的……劳动的交换价值……因此也是预先存在的……劳动的交换价值不是由劳动的使用价值决定的。对于工人本身来说，劳动所以具有使用价值，只是由于它是交换价值，而不是由于生产交换价值。对于资本来说，劳动所以具有交换价值，只是由于它是使用价值……很明显……工人通过这种交换不可能致富……因为他的劳动的创造力作为资本的力量，作为他人的权力而同他相对立……他把劳动作为生产财富的力量转让出去;而资本把劳动作为这种力量据为己有。可见，劳动和劳动产品所有权的分离，劳动和财富的分离，已经包含在这种交换行为本身之中。”\n\n如果一个产品的交换价值按劳动的形式来表示，即以劳动时间来衡量，一天劳动的交换价值怎么可能不同于这一天劳动的产品？一天劳动的产品怎么能大于工人一天劳动所得的工资呢？马克思说，这种反对意见表现在以下问题上：基于以纯粹劳动时间决定的交换价值为基础的生产，怎么会导致劳动力的交换价值小于同一劳动力生产的产品的交换价值呢？\n\n通过对资本如何获得剩余价值的分析，解决了这一难题。也就是说，这也归结为一个问题，即在一个劳动力通过创造一个与其劳动资料相分离的社会阶级，并使劳动力自己成为一种商品的社会，如何确定社会中劳动力的价值，这又反过来预设了这些生产资料的集中成为了另一个社会阶级的私有财产。\n\n正是这种两个社会阶级的平行存在，其中一个必须向另一个出售自己的劳动力，才使劳动力变成了商品，使生产资料变成了资本。而这种转化既足以说明这种劳动力的交换价值，也足以说明劳动力所生产的价值与其自身价值之间的必然差异，即构成剩余价值的差异。 如果没有这种差异，资本所有者就没有购买劳动力的兴趣，劳动力也不会有出售的可能。\n\n因此，从理论上讲，这个问题归结为劳动力的交换价值（工资，即重构劳动力所需的所有商品的价值）与其使用价值（包括向买方提供无偿劳动力，超过了它所产生的交换价值的等价物的限度，也就是它维持自己存在的成本）。从历史上看，这个问题可以归结为对现代无产阶级是如何形成的问题的分析，产业后备军的建立，手工业者和农民与他们的劳动资料的分离，所有的土地变成私有财产(废除公共土地，等等)——也就是说，这个社会阶级，因为贫困和不安全的境况而不得不同意以价值法则决定的“市场价格”出售其劳动力。\n\n为了使货币成为资本，那么使劳动成为雇佣劳动——生产资本的劳动——是有必要的：“（1)一方面是活劳动能力作为单纯主体的存在而存在，同它的客观现实的要素相分离，也就是，既同活劳动的条件相分离，也同活劳动能力的生存资料，生活资料，自我保存资料相分离……; (2)另一方面，存在的价值或对象化劳动，必须是使用价值的足够积累，这种积累不仅要为再生产或保存活劳动能力所必需的产品或价值的生产提供对象条件，而且要为吸收剩余劳动提供对象条件……;（3）双方之间的自由的交换关系——货币流通;两极之间的以交换价值为基础而不是以统治和奴役关系为基础的关系，因而也就是这样的生产，它不是直接地而是以交换为中介向生产者提供生活资料……只要双方仅仅以对象化劳动的形式交换自己的劳动，这种关系就不可能存在；同样，如果活劳动能力本身是另一方的财产，也就是说:它不是进行交换的人，这种关系也不可能存在……”\n\n正是这种对剩余价值、资本和雇佣劳动的历史性的决定特征的分析，有别于过去一切形式的阶级剥削分析，才使《政治经济学批判大纲》在马克思主义经济理论的发展过程中具有重要意义。\n\n但是，如果商品的交换价值是由它们所包含的劳动时间决定的，那么这个定义如何与经验观察到的事实相一致，即这些商品的市场价格是由“供求规律”决定的呢？马克思说，他的反对意见归结为：与商品的交换价值不同的市场价格如何形成，或者说，价值规律如何才能在实践中通过它自身的否定来实现？\n\n马克思在《政治经济学批判大纲》中对资本竞争理论进行了深入的探索与发展，在资本竞争的基础上提出了利润率均等化和生产价格形成的理论，从而解决了这个问题。许多批评家认为他们在《资本论》第一卷和第三卷之间发现的著名的“矛盾”，这不过是对李嘉图理论的古老异议的一种庸俗的回应，即把市场价格与交换价值对立起来。《政治经济学批判大纲》的出版剥夺了这一反对的最后一丝有效性，因为它表明，马克思甚至在写第一卷之前就已经找到了《资本论》第三卷给出的“解决方案”。\n\n最后，还有第四个也是最后一个基本反对意见，马克思本人称之为“显然最引人注目的反对意见”，进一步反对了李嘉图的理论：如果交换价值只不过是商品中包含的劳动时间，不包含任何劳动时间的商品怎么可能具有交换价值呢？或者，更简单地说，简单的自然力的交换价值从何而来？马克思的地租理论对这个问题作出了答复。（应当顺便提一下，对于马克思来说，利润率均等化问题和地租问题的解决是同时发生的，而且实际上是完全相同的，正如他在1862年6月18日给恩格斯的信中所表明的那样。)\n\n但是，《政治经济学批判》的手稿刚寄给出版商，一项紧迫的任务就转移了马克思的注意力，因此没有机会把他在1858年的所有经济发现写成“校正后的版本”。这是为了回应卡尔·福格特在他的小册子《我对“总汇报”的诉讼》中对他的诽谤。其中之一是指责马克思通过向据称早些时候曾试图参与革命活动的德国人写“数百封勒索信”来赚钱，这一指控在德国自由主义资产阶级中引起巨烈反响，因此有必要做出回应。因此，马克思写了他的小册子《福格特先生》，这让他在整个1860年都忙得不可开交。尽管如此，他在1860年2月3日写信给恩格斯，称他仍在继续他的《资本论》的工作，并希望（再一次！）在“六周内”完成它，我们之前在他与他最好的朋友在1862年6月18日的信的讨论中已经提到过。\n\n在深入分析《政治经济学批判大纲》这本对马克思主义经济理论的形成起着决定性作用的著作之前，我们必须首先关注马克思在1857年秋至1859年初一个最终的基本发现：通过对李嘉图货币理论的系统批判，实现了对货币理论的完善。它主要体现在《政治经济学批判》的第二章，也是最长的一章中。\n\n马克思对货币理论的完善，只是将劳动价值理论逻辑性地应用于货币领域。如果所有商品的交换价值只代表社会必要劳动的数量，可以用劳动时间来衡量，那么很明显，以贵金属为基础的货币不是李嘉图所设想的仅仅是一种媒介，也不仅仅是一种单纯的流通手段。黄金本身就是一种商品，因此具有自己的交换价值，这是由生产它的物质条件所决定的。\n\n由此可见，由孟德斯鸠和休谟提出并被李嘉图再次采用的货币数量论认为价格的涨跌取决于流通中货币数量的增减，但在相关货币是以贵金属为基础的情况下是不成立的。这些具有内在价值的货币不能通过自身的变动来改变其他商品价格的波动。后者必须被视为主要运动，流通中货币数量的上升或下降被视为派生运动：“因此，价格的高或低，不是因为有较多或较少的货币在流通，相反，有较多或较少的货币在流通，倒是因为价格高或低。”价格的普遍下跌会导致大量货币开始囤积，而价格的普遍上涨会使大量额外的贵金属进入流通领域。\n\n尤其是他对托马斯·图克关于价格史的伟大著作的研究，为马克思提供了批判李嘉图货币理论的材料。这就是为什么马克思认为，发现流通中的货币数量由价格波动决定的规律，“也许是”构成了后李嘉图政治经济学学派的“唯一的优点”。\n\n然而，马克思清楚地区分了支配金属货币流通的规律和支配纸币流通的规律，并将这两种货币称之为“代币”。“已知商品的交换价值，流通的金量决定于金自己的价值，而纸票的价值却决定于流通的纸票的数量。”这里我们也面临着劳动价值论的逻辑应用。纸币，即钞票，只是一种媒介，是一堆具有自身价值的黄金的“代币”。如果这个价值分布在十倍的钞票上，那么显然每张钞票只代表它名义上应该代表的黄金数量的十分之一，因此，以这种纸币表示的价格将上涨十倍，以保持与一定数量黄金的等价性。\n\n然而，在一个普遍使用货币的经济体中，货币不仅是所有商品普遍的流通手段；它也是普遍的支付手段。资本主义生产方式越是发展，信贷就越扩张，货币作为支付手段的功能与作为流通手段的功能相比，要更重要。马克思强调，具有代表性的货币正是在这一功能的基础上发展起来的，还由此推导出实现流通手段和支付手段这两种功能所需要的货币量的一般规律，并假定货币流通的速度是为了实现这两种功能。对货币作用的分析，以贵金属作为国际支付手段的作用的研究而结束。\n\n \n\n研究近几十年来对马克思完善的劳动价值论所提出的一些反对意见是很有趣的。在这方面，我将讨论法兰克·H·奈特、约瑟夫·熊彼特、奥斯卡·兰格和琼·罗宾逊的观察。\n\n根据奈特的观点，只有当劳动是一种僵硬的、不可转移的“生产要素”时，劳动价值论才是合理的。但是，与“其他生产机构”的流动性相关联的“劳动”的流动性，导致这些“机构”的各种组合成为可能，这需要根据它们的“边际生产力”（marginal productivity）来确定其价值。\n\n唯一的问题是，机器的价值——它们的生产成本——是众所周知的。它完全与这些机器所能生产的商品的数量或价值无关。没有哪个工业家在购买一件设备时，会计算它将给他带来的“剩余价值”。他计算的是它将使他能够节省的生产成本（或者说，他每单位的净成本）。如果要问工业家，他们十分之九会自发地说，他们感兴趣的是“节省劳动力”（在美国，机器长期以来被描述为“节省劳动力的设备”）。\n\n每一个工业家都知道，躺在工厂里不动的机器不会产生一丁点价值；要让它们在生产中发挥作用，就必须由活劳动来驱动。正是后者，而且只有后者，才能将新的价值融入商品；至于机器和其他“机构”的价值，只是由活劳动来保存下来，活劳动将同等价值（全部或部分）转移到它生产的商品中。工业家和统计学家也知道这一点，因为他们说的是资本家和工人之间共享的“附加值”而且是在“保存的价值”（原材料和机器）的基础上增加的。因此，这种“附加值”的秘密只能在劳动中找到。马克思在制定剩余价值理论时发现了这一点。\n\n熊彼特反对劳动价值论，支持被称为“生产要素”的理论的论点时也是同样的思路。他指责劳动价值论的支持者受到与经济现实本身无关的“伦理哲学和政治学说”的启发。“换句话说，他们没有看到，为了这个目的所付出的一切的背后是这样一个简单的事实，即为了生产，一个企业不仅需要劳动，而且还需要包括在土地和资本中的所有东西，这就是建立[生产]三要素论所隐含的全部含义。”\n\n可以肯定的是，如果要降低到这个庸俗的生产三要素论的水平，应该补充说，为了生产，“公司”不仅需要劳动力、土地、建筑、机械、原材料和货币，还需要一个有组织的社会、警察保护和包括通信手段、基础设施等体系的国家系统，以及许多其他东西。为什么武断地把“生产三要素”分离出来？为什么不谈五个“生产要素”：劳动、土地、机器、流动货币储备和国家组织，然后发现与这些“要素”相对应的五种“收入”：工资、地租、利润、利息和税收？\n\n资本家和他们的理论家对此提出了强有力的反对意见：国家或有组织的社会对企业内部创造的新价值没有做出“真正的贡献”；它们只是提供一个不可或缺的总体框架，即“外部储蓄”。但是，人们同样有理由问，“土地”或“机器”（更不用说“流动货币”）是否对企业内新价值的创造做出了任何 \"真正的贡献\"，因为人们隐约地认识到，并不是所有“生产中不可缺少的要素”都因此当然地成为“新价值的来源”。于是我们又回到了生产中“附加值”的最终来源问题，它只能来自活劳动。\n\n奥斯卡·兰格在他早期的一篇著作中提出了一个更严肃、更复杂的反对意见。兰格的论点可以总结如下：虽然马克思主义的理论能够正确地预测资本主义发展的规律，但它并没有被证明能够提供足够的理论依据来支撑它的价格理论（尤其是垄断价格理论），或社会主义社会中资源的最佳利用理论，或者最重要的是，其危机理论，因为它从根本上说是“一般经济均衡的静态理论”。而且，劳动价值论也无法解释工资的性质和利润的存续，而这本该是由资本主义制度固有的技术进步所决定的。但这种“动态”因素与其说是劳动价值论的内在逻辑的结果，不如说是马克思所揭示的资本主义制度框架的结果。而正是他对这个制度框架的分析，而不是对劳动价值论的分析，才是马克思主义作为发现资本主义发展规律的分析工具的优势所在。\n\n在我看来，兰格的出发点是错误的。劳动价值论不能被认为是“一般经济均衡的静态理论”。经过马克思修正和完善的劳动价值论与剩余价值理论有着不可分割的关系。这两种理论放在一起，远非一个所谓“静态的理论而是根据定义形成一个动态的理论。它们实际上是两个对立面的综合，一个平等交换的概念与一个不平等交换的概念相联系。首先是劳动和资本之间的交换具有这种双重性质。\n\n因此，“马克思主义模式”在本质上是动态的，因为它得出的结论是，新价值的生产、价值的增加、经济扩张、经济增长是资本主义生产方式所固有的。这个马克思主义模式不是 “一般均衡理论”，而是两个对立面的综合，它证明了资本主义经济生活的永久（和明显的）不均衡是建立在一个更深刻的均衡之上的，这反过来又导致了这种平衡的必然的和不可避免的扰动（周期性危机、平均利润率下降的趋势、资本集中、阶级斗争的加剧），最终破坏了这个制度。\n\n兰格认为，动态因素（经济演变）来自制度框架，而不是来自劳动价值论的内部逻辑，这种观点也是错误的。兰格认为，如果我们要理解为什么工资不会“威胁到消灭雇主的利润”，那么“技术进步”的因素是必要的；除非在技术进步的环境中，否则资本主义利润不可能继续存在下去。兰格忘记了，即使没有技术进步，工资也不可能消灭利润，因为资本家早在达到这一点之前就停止雇佣工人了。在这种情况下，他们宁愿关闭工厂，从而重新建立一支产业后备军——即使没有“技术进步”。这的确是新资本主义条件下或多或少“预制”的经济衰退中发生的情况。资本家可以等待，而工人则不能，因为他们既没有生产资料，也没有生活资料。\n\n此外，根据马克思主义的模式，解释技术进步的不仅是资本和劳动之间的竞争，还有资本家之间的竞争。这两种形式的竞争都是在经济条件下积累资本和实现剩余价值的双重必要性造成的，在这种经济条件下，生产一种商品的社会必要劳动量只是事后表现出来，而在事前是不知道的。正是这两个与资本主义生产方式——即一般化商品经济体系——的基本特征有关的原因，才是马克思主义经济理论中“动态”要素的最终根源。它们都遵循劳动价值论的本质。\n\n最后，我将提到琼·罗宾逊在二战后不久提出的对劳动价值论的批评。在她看来，马克思和李嘉图一样，在寻求商品的内在价值“类似于重量或颜色”的方面是错误的。马克思和斯密一样，寻求“一种不变的价值尺度”，他在劳动中发现了这一点。建立在这些理论基础上的劳动价值论毫无用处，马克思本可以用简单得多的术语来解释他发现的所有发展规律，而不必诉诸劳动价值论。\n\n正如罗曼·罗斯多尔斯基（Roman Rosdolsky）详细表明的那样，这些论点反映了人们对理解马克思思想方面的惊人失败，尽管他对这些思想的阐述足够清楚。马克思明确否认商品的交换价值是物理意义上的商品“内在特征”；相反，他表明，使商品可以相称的共同“特征”不是物理性质的，而是社会性质的。罗宾逊没有掌握的是创造使用价值和产品物理属性的具体劳动与创造交换价值的抽象劳动之间的区别。马克思也没有打算发现一个“不变的价值尺度”。相反，他表明交换价值尺度本身必须是一种商品，它本身必须是可变的。正因为交换价值预设了所有商品的一个共同特征——它们都是由抽象劳动、由社会所能支配的总劳动潜力的一小部分生产出来的——它既是社会的又是可变的，而不是物理的和不变的！这就是交换价值。\n\n所有这些批评的共同点是，他们无法掌握马克思为了发现交换价值问题所依据的社会经济问题而上升到的抽象层次。马克思试图回答的问题是：鉴于资本主义生产方式通过“自然的”、“自动的”规律运作的，不以人的意志为转移，那么，数以百万计的交换操作为什么通常是盲目地进行的？却没有不断地产生危机和经济活动的停顿，相反，是在连续性的框架内进行的，而这种连续必然不时地被不连续打断？是什么力量保证了这种连续性？是什么力量将劳动力和资本分配到不同的工业部门？\n\n当马克思宣称交换价值是由抽象的人类劳动构成时，他不是在“选择一种理论”，以试图“证明资本主义条件下对工人阶级的剥削”。他是在回答这个问题。当马克思的批评者对他的理论提出反对意见时，他们不仅仅是没有提出一个连贯的理论来代替他的理论；一般来说，他们没有理解问题是什么。\n\n因此，罗曼·罗斯多尔斯基有充分的理由反对琼·罗宾逊的说法，即马克思创造的劳动价值论只有在社会主义社会中才能完全适用。当个人劳动被直接确认为是社会劳动时——这就是社会主义社会的基本特征之一！——为了“重新发现”这种劳动的社会性质而通过市场采取迂回路线显然是荒谬的。这就是为什么在社会主义社会中没有商品生产的空间，更没有“商品价值”或“价值规律”的空间。\n\n令人惊奇的是，像莫里斯·戈德利耶（Maurice Godelie）这样通晓马克思著作并试图深入研究马克思主义方法和学说的作家，竟然会这样写道：“如如果资本主义制度是建立在对剩余产品的特定占有结构上的，那么，通过关于占有结构的不同假设，就有可能理想地构建社会主义经济的运作。我们得出了一个不同的模型，但它也是基于价值理论的。因此，价值理论使我们能够构建社会主义发展模式……”\n\n这与马克思的价值理论的概念是完全不相容的。对马克思来说，普遍存在于所有社会中的劳动时间经济与受价值规律支配的经济并不完全相同。后者只是前者的一种特殊形式。价值理论只适用于这样一个社会，在这个社会中，各个所有者交换劳动产品，而且由于这个原因，后者采取商品的形式（在这个社会中，生产商品的社会必要劳动量不是由相关生产者事先确定的，而只是由市场规律事后确定）。说价值理论在社会主义条件下仍然有效，就是曲解了商品的本质，而这正是戈德利耶事实上所做的。\n\n正如他从一个不完整的商品定义出发，他也对资本主义给出了一个不可接受的定义：“我们已经表明，在剩余价值的形成得到解释之前，资本的理论并没有真正开始。但这本身并不能直接解释资本主义的生产关系。资本主义所特有的是拥有生产资料的个人对剩余价值的占有，也就是对剩余产品的私人占有……”这与斯大林主义的辩护者对马克思主义所作的拙劣的讽刺画有着令人痛心的相似之处。\n\n对马克思来说，资本主义根本不是仅仅由剩余价值的私人占有来定义的；恩格斯甚至设想了这样一种情况，即国家代表整个资产阶级占有剩余价值，但这并不意味着资本主义已经被废除。马克思主义的资本理论通过将生产资料转化为资本，劳动能力转化为商品，即通过商品生产的普遍化来定义资本主义。在“社会主义”中，生产资料仍然是商品（即可以在市场上买卖，这意味着分散的投资决策，反过来又意味着周期性的生产过剩和失业危机的可能性），而劳动力仍然是一种商品，即使生产资料的私人所有权被压制，但这也只是国家资本主义。在资本主义生产关系中，私人占有剩余价值只是其中一个方面，除此之外，它还由进行工作的场所的等级关系和广大劳动群众无法处置他们的劳动产品（这意味着这种劳动的异化性质）的现实状况所决定，这种生产关系将100％继续存在。\n\n事实是，在资本主义生产之前就存在的商品生产，在资本主义和社会主义之间的整个过渡阶段，也部分地存活下来，并持续存在。然而，它是作为资本主义的一种生存方式，作为尚未完全超越的前社会的渣滓，与社会化经济的计划性相矛盾。社会主义社会建设的过程，正是商品生产消亡的过程。试图在价值理论的基础上制定社会主义经济的模式，就像试图在资产阶级“权利”的基础上制定社会主义“权利”的模式一样荒谬，这是马克思在《哥达纲领批判》中的一句著名的话。 作者：瞄一瞄中了 [https://www.bilibili.com/read/cv15254415](https://www.bilibili.com/read/cv15254415) 出处：bilibili\n",
      "properties": {
        "title": "卡尔·马克思经济思想的形成 (副本)",
        "urlname": "zev6pi",
        "author": "Jason Ma",
        "date": "2022-03-09 00:33:36",
        "updated": "2023-07-16 22:56:39"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "zev6pi"
        }
      ],
      "body": ""
    },
    {
      "id": 71769216,
      "doc_id": "kzxl93",
      "title": "kzxl93",
      "updated": 1686756218000,
      "body_original": "[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1FT4y1E74V&p=108&page=108)\n\n<a name=\"yvRMz\"></a>\n# 1.1 计算机视觉\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648730361676-29773f86-f42d-4653-9bbe-d8161568aae0.png#averageHue=%239b8f86&clientId=u49338f0d-c26d-4&from=paste&height=843&id=u8d8f7bb0&originHeight=1207&originWidth=1824&originalType=binary&ratio=1&rotation=0&showTitle=false&size=997672&status=done&style=none&taskId=u34b55197-46ca-4101-8ed5-d1e1c771934&title=&width=1273.4835657024832)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648730483425-737131f6-662f-4923-a216-ee1f951e0fcc.png#averageHue=%23cdcccb&clientId=u49338f0d-c26d-4&from=paste&height=852&id=u965044c1&originHeight=1220&originWidth=1835&originalType=binary&ratio=1&rotation=0&showTitle=false&size=710863&status=done&style=none&taskId=uf4067f35-097c-4f3c-aaa2-417ac23f59d&title=&width=1281.1635652763468)\n<a name=\"oj7rb\"></a>\n# 1.2 边缘检测示例\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648730590027-61187134-79c9-4410-ba26-f4995ad1e64c.png#averageHue=%23b9b9b9&clientId=u49338f0d-c26d-4&from=paste&height=832&id=u409a3b26&originHeight=1191&originWidth=1829&originalType=binary&ratio=1&rotation=0&showTitle=false&size=535027&status=done&style=none&taskId=u6563a972-bf43-4637-8813-5b60aabba7c&title=&width=1276.974474599694)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648730925502-c262e740-5bc2-4f85-a132-921f5567864f.png#averageHue=%23d1d1d0&clientId=u49338f0d-c26d-4&from=paste&height=839&id=u10bbf5df&originHeight=1202&originWidth=1822&originalType=binary&ratio=1&rotation=0&showTitle=false&size=657488&status=done&style=none&taskId=u20eaba98-d7fc-4b63-8d2e-d55bfa8287d&title=&width=1272.087202143599)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648737729384-7c0a5bb3-c428-4401-9092-fb2394ad4951.png#averageHue=%23cdcccc&clientId=u49338f0d-c26d-4&from=paste&height=831&id=ud9dcbc5e&originHeight=1190&originWidth=1828&originalType=binary&ratio=1&rotation=0&showTitle=false&size=662593&status=done&style=none&taskId=uf62d2743-37d7-40eb-8647-15be586ebd9&title=&width=1276.276292820252)\n<a name=\"dGXjn\"></a>\n# 1.3 更多的边缘检测内容\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648739186528-a07bcbe3-fa05-4fea-a838-c6539d14cd82.png#averageHue=%23cfcfcf&clientId=u49338f0d-c26d-4&from=paste&height=827&id=u4f782799&originHeight=1185&originWidth=1817&originalType=binary&ratio=1&rotation=0&showTitle=false&size=545669&status=done&style=none&taskId=uc4e0eedf-8cb7-493a-bceb-7792d777bc3&title=&width=1268.5962932463883)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648739382629-12eaed6c-49ac-496e-8706-552270883e65.png#averageHue=%23d1d1d1&clientId=u49338f0d-c26d-4&from=paste&height=836&id=ue73d0994&originHeight=1198&originWidth=1836&originalType=binary&ratio=1&rotation=0&showTitle=false&size=661165&status=done&style=none&taskId=u4ad877f1-a688-4ca5-8105-4cec717c12b&title=&width=1281.861747055789)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648739493556-af9e1e7f-d6ba-44d4-a735-804905b481b3.png#averageHue=%23d3d3d3&clientId=u49338f0d-c26d-4&from=paste&height=836&id=udd4f6585&originHeight=1197&originWidth=1803&originalType=binary&ratio=1&rotation=0&showTitle=false&size=496319&status=done&style=none&taskId=u35504cc4-616a-4d09-835d-778101d3942&title=&width=1258.821748334198)<br />可以将卷积核作为参数，让机器学习去决定卷积核\n<a name=\"wVDTW\"></a>\n# 1.4 Padding\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648739709031-dd1ffd19-8f71-4137-9668-0c6a09b06e81.png#averageHue=%23d2d2d1&clientId=u49338f0d-c26d-4&from=paste&height=846&id=u5fc5063b&originHeight=1212&originWidth=1837&originalType=binary&ratio=1&rotation=0&showTitle=false&size=627595&status=done&style=none&taskId=u1c570bb9-af62-4336-9b62-3fda861e445&title=&width=1282.5599288352312)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648739820173-9fb5f102-8b05-4f59-8887-c9cc605d433a.png#averageHue=%23d5d4d4&clientId=u49338f0d-c26d-4&from=paste&height=835&id=uee239256&originHeight=1196&originWidth=1817&originalType=binary&ratio=1&rotation=0&showTitle=false&size=613505&status=done&style=none&taskId=u558bcbf4-5a51-48ca-871e-a43a17563d4&title=&width=1268.5962932463883)<br />为了平等地对待周围的像素，需要在图像外侧填充p个像素<br />图像分辨率=n*n，卷积核=f*f，填充像素数p=(f-1)/2<br />Valid卷积：不进行填充，Same卷积：进行填充\n<a name=\"Iork2\"></a>\n# 1.5 卷积步长 Strided Convolutions\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648791265230-f3fc9fc7-7e09-4d4f-a505-d377b24157cd.png#averageHue=%23d2d2d2&clientId=u6aec9b95-577e-4&from=paste&height=839&id=u024ff5e8&originHeight=1202&originWidth=1825&originalType=binary&ratio=1&rotation=0&showTitle=false&size=573479&status=done&style=none&taskId=u9f9cd552-7369-48f7-9a87-a8751679194&title=&width=1274.1817474819254)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648791448636-3b08c342-d780-46ee-a229-382c7a6b499a.png#averageHue=%23fafafa&clientId=u6aec9b95-577e-4&from=paste&height=656&id=ua74a5983&originHeight=939&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=266280&status=done&style=none&taskId=uaa3444a9-2ad9-4d0d-bf3d-27f046a67fa&title=&width=1288.1453830707685)\n<a name=\"Bque8\"></a>\n## 原图 n*n，卷积核f*f，填充p，步长（Stride）s，输出分辨率：(n+2p-f)/s + 1向下取整\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648791669586-67f22d20-1274-4687-96ee-000073362c35.png#averageHue=%23d3d3d3&clientId=u6aec9b95-577e-4&from=paste&height=841&id=u975f3b4d&originHeight=1205&originWidth=1828&originalType=binary&ratio=1&rotation=0&showTitle=false&size=578553&status=done&style=none&taskId=u13c3df77-c392-483a-b724-f6d8161de43&title=&width=1276.276292820252)<br />数学中的卷积和卷积神经网络中的卷积严格意义上是两种不同的运算<br />信号处理中的卷积需要对卷积核做一次沿左下角到右上角的翻转，目的是使卷积满足结合律<br />卷积神经网络中“卷积”严格来说是cross-correlation，是为了提取图像的特征，其实只借鉴了“加权求和”的特点\n<a name=\"y0rnf\"></a>\n# 1.6 三维卷积 Convolutions Over Volume\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648792004708-1cbea0af-826e-49ba-908a-ebe4e8a2c912.png#averageHue=%23d8d8d7&clientId=u6aec9b95-577e-4&from=paste&height=840&id=ufd6a9688&originHeight=1203&originWidth=1823&originalType=binary&ratio=1&rotation=0&showTitle=false&size=334225&status=done&style=none&taskId=u6eebeb31-0a50-4e08-8a52-607b5e18a7e&title=&width=1272.785383923041)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648792124475-263ca5fc-a3e9-4f2e-9ad6-736531c095d7.png#averageHue=%23d3c5b9&clientId=u6aec9b95-577e-4&from=paste&height=833&id=ub01207f9&originHeight=1193&originWidth=1820&originalType=binary&ratio=1&rotation=0&showTitle=false&size=605817&status=done&style=none&taskId=ud8123da3-51c2-434f-940c-94c7e6e1013&title=&width=1270.6908385847146)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648792272592-24eb7f11-6aa2-416a-a8cc-527b28b8a958.png#averageHue=%23d2bfb6&clientId=u6aec9b95-577e-4&from=paste&height=839&id=u92c72b0a&originHeight=1201&originWidth=1813&originalType=binary&ratio=1&rotation=0&showTitle=false&size=593266&status=done&style=none&taskId=u83a10b9c-5cad-4cf1-a7d1-9950c5f0dd2&title=&width=1265.8035661286197)<br />3D卷积就是同时将输入和卷积核扩展到多个channel，输出还是2D图像<br />此时可以将多个卷积核的结果堆叠在一起\n<a name=\"K87fy\"></a>\n# 1.7 单层卷积网络\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648793231178-2331823c-999e-4de5-9673-8dacac004f8f.png#averageHue=%23d1c5bd&clientId=u6aec9b95-577e-4&from=paste&height=850&id=u7aa337e8&originHeight=1217&originWidth=1834&originalType=binary&ratio=1&rotation=0&showTitle=false&size=817779&status=done&style=none&taskId=u9938db11-95c5-4fb5-939d-2283ac01979&title=&width=1280.4653834969047)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648793345410-62f8bfe5-617b-4934-b6c6-b84921798dcd.png#averageHue=%23d3d3d3&clientId=u6aec9b95-577e-4&from=paste&height=836&id=uf16485c5&originHeight=1197&originWidth=1830&originalType=binary&ratio=1&rotation=0&showTitle=false&size=606907&status=done&style=none&taskId=ubed3e5b0-48ef-4ca4-ad25-8f3c0d74401&title=&width=1277.6726563791362)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648794016614-af9dd2d5-66d2-46dd-97f0-e74b229c2d25.png#averageHue=%23d2d2d1&clientId=u6aec9b95-577e-4&from=paste&height=845&id=uc1a556b4&originHeight=1211&originWidth=1832&originalType=binary&ratio=1&rotation=0&showTitle=false&size=805375&status=done&style=none&taskId=u34b8d102-4b19-4115-85c6-249535e315a&title=&width=1279.0690199380206)\n<a name=\"fChIC\"></a>\n# 1.8 简单卷积网络示例\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648794451436-ccf621d6-ed84-4d24-b94f-af0cd3f71213.png#averageHue=%23d4d4d4&clientId=u6aec9b95-577e-4&from=paste&height=842&id=u597fcfd9&originHeight=1206&originWidth=1837&originalType=binary&ratio=1&rotation=0&showTitle=false&size=753505&status=done&style=none&taskId=u34c30320-a3c6-4f9e-9361-1cd15f46194&title=&width=1282.5599288352312)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648794551394-50555c5a-4df2-4a03-a5cf-80ddf22f4f16.png#averageHue=%23d7d7d7&clientId=u6aec9b95-577e-4&from=paste&height=841&id=ubad805b8&originHeight=1204&originWidth=1827&originalType=binary&ratio=1&rotation=0&showTitle=false&size=374311&status=done&style=none&taskId=uf72d1cfb-bc89-45b3-9437-afe8fa96914&title=&width=1275.5781110408097)\n<a name=\"jZGn2\"></a>\n# 1.9 池化层 Pooling Layers\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648798012774-d3f24c93-77bb-45b0-bc2f-0c8d4493014f.png#averageHue=%23d4cecc&clientId=u6aec9b95-577e-4&from=paste&height=835&id=u17f7bda6&originHeight=1196&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=499085&status=done&style=none&taskId=uf70cccbe-bbe1-4f70-8cb6-a91717f195d&title=&width=1288.1453830707685)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648798170962-211ab70d-4b3e-4ef1-9c09-852afed05e30.png#averageHue=%23d1d1d1&clientId=u6aec9b95-577e-4&from=paste&height=828&id=u6da30dab&originHeight=1186&originWidth=1830&originalType=binary&ratio=1&rotation=0&showTitle=false&size=444057&status=done&style=none&taskId=u01ea7f4c-c4a9-43f7-b374-1222734b055&title=&width=1277.6726563791362)<br />Max Pooling也是一种卷积，不过输入和输出的通道数相同，可以理解为从输入中提取一些特征<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648798233108-5aa51b2e-75f7-4aa2-a2f5-d4d0064a033a.png#averageHue=%23d3cdcc&clientId=u6aec9b95-577e-4&from=paste&height=836&id=u85e6d4f8&originHeight=1198&originWidth=1834&originalType=binary&ratio=1&rotation=0&showTitle=false&size=317723&status=done&style=none&taskId=u8c308e07-53fb-4f2f-80d6-2991223ab77&title=&width=1280.4653834969047)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648798456926-e072f60b-cfdb-46da-adc1-fbf8593643ec.png#averageHue=%23bdbcbc&clientId=u6aec9b95-577e-4&from=paste&height=969&id=ud4c6e7b8&originHeight=1388&originWidth=1844&originalType=binary&ratio=1&rotation=0&showTitle=false&size=545517&status=done&style=none&taskId=u48125e08-39ba-46a2-a0c4-6e772e75578&title=&width=1287.4472012913263)<br />Average Pooling用的比较少，一个典型的用例是n很小，nc很大时，用均值池化输出1*1*nc\n<a name=\"gtIMw\"></a>\n# 1.10 卷积神经网络示例\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648804727087-087831a7-ff07-4c6c-b2e0-f29936f61dba.png#averageHue=%23d5d5d5&clientId=u6aec9b95-577e-4&from=paste&height=832&id=u8fdb67ca&originHeight=1191&originWidth=1818&originalType=binary&ratio=1&rotation=0&showTitle=false&size=764519&status=done&style=none&taskId=u333cd585-91a8-448a-b6e4-bb39a69e5c4&title=&width=1269.2944750258303)<br />超参数很多，尽量不要自己设置超参数，去看paper里别人用了哪些超参数<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648805232577-01e0db1c-17af-434b-ac68-d0b66b747911.png#averageHue=%23b5b5b5&clientId=u6aec9b95-577e-4&from=paste&height=967&id=u959c9023&originHeight=1385&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=604320&status=done&style=none&taskId=u8f2c5847-e163-484b-9dd4-4bff08cb6ce&title=&width=1288.1453830707685)<br />Activation Size随着层数减少，是一个将局部细节组合成大的特征的过程，减少得太快也会影响整体性能\n<a name=\"pYfUE\"></a>\n## 补充：LeNet-5\n[经典CNN模型LeNet解读](https://zhuanlan.zhihu.com/p/41736894)\n<a name=\"jGo4N\"></a>\n# 1.11 为什么使用卷积\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648805699620-7dc426b8-f9de-4c0b-8a8a-e5e1c08af332.png#clientId=u6aec9b95-577e-4&from=paste&height=961&id=ue4f3a57c&originHeight=1376&originWidth=1821&originalType=binary&ratio=1&rotation=0&showTitle=false&size=486499&status=done&style=none&taskId=u9420f1fe-d949-4539-a7a4-d610490aac0&title=&width=1271.3890203641567)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648805902346-758ee6ff-12ed-457d-8419-415308915abf.png#clientId=u6aec9b95-577e-4&from=paste&height=716&id=uc8172c84&originHeight=1025&originWidth=1812&originalType=binary&ratio=1&rotation=0&showTitle=false&size=851458&status=done&style=none&taskId=ube415287-56a8-4502-99bf-4233219bcf2&title=&width=1265.1053843491775)<br />CNN通过参数复用（同一个卷积核用在任何分辨率的图上）、稀疏连接（一个output只和卷积核覆盖的那几个输入有关）减少参数，减少过拟合<br />CNN还有很好的平移不变性（Translation Invariance）<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648806252082-e27252e1-e480-4d63-a82b-c2c532fea755.png#clientId=u6aec9b95-577e-4&from=paste&height=843&id=uea8a61e2&originHeight=1207&originWidth=1839&originalType=binary&ratio=1&rotation=0&showTitle=false&size=560430&status=done&style=none&taskId=u9b23ed99-3b16-436a-9b41-df7adce2245&title=&width=1283.9562923941155)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648806261259-43579a19-2085-41d9-a2ca-a0a80d4a333c.png#clientId=u6aec9b95-577e-4&from=paste&height=108&id=uf50cc575&originHeight=154&originWidth=1043&originalType=binary&ratio=1&rotation=0&showTitle=false&size=35616&status=done&style=none&taskId=ub8102ce3-5d43-432e-8fdb-65a84834b25&title=&width=728.2035959581634)\n<a name=\"jZHM9\"></a>\n# 2.1 为什么要进行实例探究\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649226658333-40d2cd3a-4c7a-4845-9f54-b9eece21d387.png#clientId=u76796ab5-9a5a-4&from=paste&height=845&id=ue2bb2115&originHeight=1211&originWidth=1996&originalType=binary&ratio=1&rotation=0&showTitle=false&size=294523&status=done&style=none&taskId=u7e847e6c-c657-4fe2-b92a-db83f55e3f0&title=&width=1393.5708317665333)\n<a name=\"djvX9\"></a>\n# 2.2 经典网络\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649227060529-0e44ff3e-0a94-4c8c-9c19-d472462616e2.png#clientId=u76796ab5-9a5a-4&from=paste&height=874&id=u52175989&originHeight=1252&originWidth=1991&originalType=binary&ratio=1&rotation=0&showTitle=false&size=684209&status=done&style=none&taskId=uf8812f0f-aa4b-43b8-b0d6-278667e2427&title=&width=1390.0799228693224)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649227386586-fc793102-038c-4ee5-b196-60de1e15502e.png#clientId=u76796ab5-9a5a-4&from=paste&height=876&id=uc8fcfd01&originHeight=1254&originWidth=1992&originalType=binary&ratio=1&rotation=0&showTitle=false&size=903585&status=done&style=none&taskId=u65f7bce9-0856-4dc6-ba08-d80dc4bd1a0&title=&width=1390.7781046487646)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649227660348-c895b38a-e8db-41f8-89f8-a47f0ab31301.png#clientId=u76796ab5-9a5a-4&from=paste&height=876&id=uf9ebcd74&originHeight=1254&originWidth=1990&originalType=binary&ratio=1&rotation=0&showTitle=false&size=895289&status=done&style=none&taskId=u8d12993e-ca4d-4b09-8fdd-32c2c774bbe&title=&width=1389.3817410898803)<br />经典VGG 16结构通常分辨率会每层递减一倍，通道数每层递增一倍<br />其实是有一些道理的，一开始的通道比较少，因为3*3像素内的可能性比较有限，所以只有64个filter，第二层经过降采样，3*3相对于覆盖了6*6的范围，可能性增加了，所以filter数量翻了倍\n<a name=\"QKFUx\"></a>\n# 2.3 残差网络 ResNets Residual Network\n非常深的网络很难训练，因为存在梯度消失和梯度爆炸问题，ResNets可以跳过一些层从而训练更深的网络<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649242544792-9fd19a5e-be54-4769-bf75-b5cc93bb207b.png#clientId=u76796ab5-9a5a-4&from=paste&height=845&id=u764e54e2&originHeight=1211&originWidth=1851&originalType=binary&ratio=1&rotation=0&showTitle=false&size=622272&status=done&style=none&taskId=u3d290507-44d0-4945-bcb3-96783e9f203&title=&width=1292.3344737474213)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649242695905-063b4957-ad64-44c9-830f-44104c7e4ab0.png#clientId=u76796ab5-9a5a-4&from=paste&height=834&id=ub5bbe75b&originHeight=1195&originWidth=1835&originalType=binary&ratio=1&rotation=0&showTitle=false&size=583060&status=done&style=none&taskId=ued8397dd-312c-4616-8332-e6a227b325e&title=&width=1281.1635652763468)<br />随着层数的增加，普通网络的性能反而下降，而残差网络能保持性能提升\n<a name=\"hjL9d\"></a>\n# 2.4 残差网络为什么有用\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649243290031-0ef7c222-60ca-4b97-aeb4-2ad202aa7ddc.png#clientId=u76796ab5-9a5a-4&from=paste&height=841&id=u8db9fb58&originHeight=1205&originWidth=1839&originalType=binary&ratio=1&rotation=0&showTitle=false&size=716818&status=done&style=none&taskId=ua2dd3f3b-2391-42c7-89b9-7d88808c364&title=&width=1283.9562923941155)<br />即使捷径间的L层遇到了最坏的情况，ReLU=0，那么L+1层的输入也会是L-1的输出，所以残差网络至少不会减少网络的性能，在此基础上可以提升网络的性能<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649244025774-01b9e882-a3c1-47c9-9a10-8f25ad5afb38.png#clientId=u76796ab5-9a5a-4&from=paste&height=846&id=u2072f780&originHeight=1212&originWidth=1848&originalType=binary&ratio=1&rotation=0&showTitle=false&size=811758&status=done&style=none&taskId=u1d915c95-5888-4d4a-b8c9-a73e1e71f64&title=&width=1290.2399284090948)<br />当添加残差的头和尾的维度不一样的时候，可以使用乘以一个Ws将头尾的维度保持一致，就可以直接进行矩阵计算了。。实际过程中，一般都是维度不同就不使用残差\n<a name=\"eZP5X\"></a>\n# 2.5 网络中的网络以及1*1卷积\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649244321588-78fc279f-8400-4453-b057-f3ac3479d995.png#clientId=u76796ab5-9a5a-4&from=paste&height=837&id=ud6d69b51&originHeight=1199&originWidth=1851&originalType=binary&ratio=1&rotation=0&showTitle=false&size=720710&status=done&style=none&taskId=ucb785f83-6ebf-469d-8699-1b156583f89&title=&width=1292.3344737474213)<br />1*1*nc的filter可以看作一个全连接的神经元，同层有多个filter相当于多个神经元<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649244607603-8173b851-6ed9-4880-9771-dda6e8b89c0a.png#clientId=u76796ab5-9a5a-4&from=paste&height=841&id=uc51a3817&originHeight=1205&originWidth=1841&originalType=binary&ratio=1&rotation=0&showTitle=false&size=389166&status=done&style=none&taskId=uea1fa1e9-84b6-4e27-b26f-cd5cb2e01cb&title=&width=1285.3526559529998)<br />也可以压缩nc\n<a name=\"nX9SB\"></a>\n# 2.6 Google Inception Network Motivation\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649245515452-c29c94b1-de83-4fe6-8d3e-cff4422d2bbc.png#clientId=u76796ab5-9a5a-4&from=paste&height=848&id=u1d82611d&originHeight=1214&originWidth=1853&originalType=binary&ratio=1&rotation=0&showTitle=false&size=639999&status=done&style=none&taskId=u509525af-fb75-4bc9-9b49-6c8ef4cc6d2&title=&width=1293.7308373063056)<br />Inception层列出所有可能，让网络自己决定用那些filter，问题在于计算量太大<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649245678604-6082106b-ea28-4ec1-8686-725adc66d0ca.png#clientId=u76796ab5-9a5a-4&from=paste&height=836&id=u26f980e3&originHeight=1197&originWidth=1835&originalType=binary&ratio=1&rotation=0&showTitle=false&size=404863&status=done&style=none&taskId=ub9865bef-8098-4acd-9ecc-b8315d4206f&title=&width=1281.1635652763468)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649245964815-70c10065-9168-4421-9c7f-ff5011c0fe51.png#clientId=u76796ab5-9a5a-4&from=paste&height=839&id=u76c1c1af&originHeight=1202&originWidth=1838&originalType=binary&ratio=1&rotation=0&showTitle=false&size=521790&status=done&style=none&taskId=uf094a197-c333-46cc-97a2-0c9bf9fe1ea&title=&width=1283.2581106146733)<br />通过1*1的瓶颈层压缩参数和计算量，设置合理的情况下不会影响网络性能\n<a name=\"ahd8r\"></a>\n# 2.7 Inception Network\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649251593618-5c1a0ce6-9da9-4024-94e5-4b7e530ab42f.png#clientId=u76796ab5-9a5a-4&from=paste&height=845&id=u7d9284c1&originHeight=1210&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=700776&status=done&style=none&taskId=ufe107a35-7840-4174-84eb-e2e88403b12&title=&width=1288.1453830707685)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649251832564-8ce0c5e1-02d9-4bdc-b28e-3a29f52b0f04.png#clientId=u76796ab5-9a5a-4&from=paste&height=851&id=u4e41ee4a&originHeight=1219&originWidth=1849&originalType=binary&ratio=1&rotation=0&showTitle=false&size=905728&status=done&style=none&taskId=u5d6e0054-cacd-42ea-8655-d1ea8304220&title=&width=1290.938110188537)<br />GooLeNet<br />中间额外的两个output层在训练时起到了正则化的作用，反之过拟合，确保中间层参与了目标识别<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649252019683-d9bbad31-03fa-4178-82fd-338879a5b1bc.png#clientId=u76796ab5-9a5a-4&from=paste&height=846&id=u3236a67c&originHeight=1212&originWidth=1860&originalType=binary&ratio=1&rotation=0&showTitle=false&size=795632&status=done&style=none&taskId=ucccbde1e-0099-497e-9537-2722454d816&title=&width=1298.6181097624008)<br />Inception 盗梦空间\n<a name=\"AmzDq\"></a>\n# 2.9 MobileNet\n<a name=\"ygei3\"></a>\n## Depthwise Separable Convolution\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649260573104-a156f422-979f-4969-ae36-28a4e1ea1e35.png#clientId=u76796ab5-9a5a-4&from=paste&height=859&id=u04f4d822&originHeight=1231&originWidth=1957&originalType=binary&ratio=1&rotation=0&showTitle=false&size=681777&status=done&style=none&taskId=u50538bfa-e899-4517-aacc-e05dd54d2c1&title=&width=1366.3417423682893)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649260759566-55bba634-6a00-4fc8-b184-0739e34f45d1.png#clientId=u76796ab5-9a5a-4&from=paste&height=863&id=u7b4780ad&originHeight=1236&originWidth=1978&originalType=binary&ratio=1&rotation=0&showTitle=false&size=586348&status=done&style=none&taskId=ua6336ea3-19db-499f-9762-1690c347cf3&title=&width=1381.0035597365745)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649260992019-778f9cc6-f6ad-4024-9551-3951b943e8aa.png#clientId=u76796ab5-9a5a-4&from=paste&height=865&id=u39bdeaa1&originHeight=1239&originWidth=1975&originalType=binary&ratio=1&rotation=0&showTitle=false&size=626183&status=done&style=none&taskId=u5a41fbff-57e1-430a-b499-cfd41de2149&title=&width=1378.909014398248)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649261039081-0173935e-ecb0-44b3-8d1d-948f3b5d8090.png#clientId=u76796ab5-9a5a-4&from=paste&height=856&id=uab20c9e3&originHeight=1226&originWidth=1933&originalType=binary&ratio=1&rotation=0&showTitle=false&size=453674&status=done&style=none&taskId=u5f4d9f61-98e6-49c3-a0e5-27969b30aa2&title=&width=1349.5853796616777)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649261115027-1c39fb08-2f82-43b0-9fa2-43e7000cba0c.png#clientId=u76796ab5-9a5a-4&from=paste&height=851&id=u85fb4c35&originHeight=1219&originWidth=1960&originalType=binary&ratio=1&rotation=0&showTitle=false&size=519794&status=done&style=none&taskId=u7dd7f278-30d3-4c38-8a1f-0bdc33fbaf4&title=&width=1368.4362877066158)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649261180039-bb000216-8a95-4a7e-b0ba-c5e3e886aa11.png#clientId=u76796ab5-9a5a-4&from=paste&height=832&id=ubbfeef47&originHeight=1191&originWidth=1921&originalType=binary&ratio=1&rotation=0&showTitle=false&size=666726&status=done&style=none&taskId=ueaa23495-c318-4304-b053-c5f6bbea86c&title=&width=1341.207198308372)<br />深度可分离卷积把普通卷积拆分成了逐深度（Depthwise）卷积和逐点（Pointwise）卷积，计算量下降了一个量级，有点像blur拆分横竖两个pass\n<a name=\"BHiQC\"></a>\n# 2.10 MobileNet Architecture\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649261703150-65e915fc-9e2f-4047-aa8a-f1f09dbc9739.png#clientId=u76796ab5-9a5a-4&from=paste&height=862&id=u068138c9&originHeight=1235&originWidth=1971&originalType=binary&ratio=1&rotation=0&showTitle=false&size=784252&status=done&style=none&taskId=ue69723d5-ea37-47d5-86f3-bcf20e35b8a&title=&width=1376.1162872804794)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649261909058-503ce9c9-399b-45d3-9b75-1c427a07fbe6.png#clientId=u76796ab5-9a5a-4&from=paste&height=871&id=u254ed215&originHeight=1247&originWidth=1978&originalType=binary&ratio=1&rotation=0&showTitle=false&size=737504&status=done&style=none&taskId=ucceb0c7e-9ff6-4d45-bdb0-af433a133bc&title=&width=1381.0035597365745)<br />MobNet V2在两个瓶颈层之间先扩充，然后卷积，最后再投影回瓶颈层维度<br />由于中间的计算过程不会保存，所以可以节省内存<br />又因为扩充操作带来了更多参数，模型可以学到更多东西\n<a name=\"MR9so\"></a>\n# 2.11 EfficientNet\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649262386064-3abc8d9c-0e58-496f-8957-c941f6f3c139.png#clientId=u76796ab5-9a5a-4&from=paste&height=858&id=u0dbecdd7&originHeight=1229&originWidth=1977&originalType=binary&ratio=1&rotation=0&showTitle=false&size=606274&status=done&style=none&taskId=u7c9407ac-9a45-4590-8dc3-2ad4151c138&title=&width=1380.3053779571324)<br />EfficientNet可以解决如何调整分辨率、深度（层数）、宽度（Filter数）使得目标设备上的性能达标的问题\n<a name=\"szGgD\"></a>\n# 2.12 迁移学习 Transfer Learning\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649255588075-af5d8ae9-aaef-4542-978e-1ddf0e46e5b8.png#clientId=u76796ab5-9a5a-4&from=paste&height=845&id=ueb0ac8a5&originHeight=1211&originWidth=1851&originalType=binary&ratio=1&rotation=0&showTitle=false&size=910250&status=done&style=none&taskId=ud10eba46-163b-4813-ae2f-c182bd292c7&title=&width=1292.3344737474213)<br />使用别人开源、训练好的参数作为初始化可以大大加快进度<br />在训练好的模型的基础上迁移学习，手上的数据越多可训练的层数越多\n<a name=\"rMpfT\"></a>\n# 2.13 数据扩充 Data Augmentation\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649262962813-525b09fb-f393-4295-9c6d-9cba79e07f92.png#clientId=u76796ab5-9a5a-4&from=paste&height=873&id=ubf4da2a9&originHeight=1250&originWidth=1986&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1327892&status=done&style=none&taskId=u1d535b91-4c56-406e-9d4a-78358ec8c6a&title=&width=1386.5890139721116)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649263043172-ab4fd4b6-dc40-4c2a-bab2-d5892e0eeea6.png#clientId=u76796ab5-9a5a-4&from=paste&height=867&id=u8df5321a&originHeight=1242&originWidth=1976&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1274994&status=done&style=none&taskId=ud071a076-0d9c-47f3-bd48-ee62e645194&title=&width=1379.6071961776902)<br />PCA可以适应有不同颜色倾向的图，为什么不试试先转换到其他色彩空间呢？<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649263161542-20135844-b3a0-4f67-bb18-f9876d82c6d3.png#clientId=u76796ab5-9a5a-4&from=paste&height=866&id=ue9527561&originHeight=1241&originWidth=1982&originalType=binary&ratio=1&rotation=0&showTitle=false&size=566295&status=done&style=none&taskId=u15f46868-aec5-4a3f-b4e5-9cf443819ae&title=&width=1383.7962868543432)\n<a name=\"Qy7NB\"></a>\n# 2.14 计算机视觉现状\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649263457166-a68c6c56-d39d-44f1-82a2-d8b1013c630b.png#clientId=u76796ab5-9a5a-4&from=paste&height=870&id=ua765883c&originHeight=1246&originWidth=1982&originalType=binary&ratio=1&rotation=0&showTitle=false&size=926614&status=done&style=none&taskId=ueb8587ae-e9ed-4300-98a6-c1dab15f343&title=&width=1383.7962868543432)<br />计算机视觉的数据较少时，可以选择：\n\n- 迁移学习\n- 手工标记数据\n- 针对性地设计网络\n\n工业中要训练网络很多时候得先训练一批人专门标记数据<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649263745977-1213f5bb-b126-46d5-b414-f76614109d2d.png#clientId=u76796ab5-9a5a-4&from=paste&height=869&id=udaebad74&originHeight=1245&originWidth=1977&originalType=binary&ratio=1&rotation=0&showTitle=false&size=969107&status=done&style=none&taskId=u3aab65d6-c6e7-4ee6-a7ce-0568cf7e401&title=&width=1380.3053779571324)<br />在竞赛中有用的技巧<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649263796676-46557982-cc77-4cbe-8631-8c218b062ecb.png#clientId=u76796ab5-9a5a-4&from=paste&height=868&id=uc1404bdb&originHeight=1243&originWidth=1975&originalType=binary&ratio=1&rotation=0&showTitle=false&size=484788&status=done&style=none&taskId=uf60d973f-89cc-43d1-95b1-f3e3ff0ab07&title=&width=1378.909014398248)\n<a name=\"tPh4t\"></a>\n# 2.15 作业\n<a name=\"bruyp\"></a>\n## Residual Networks\nIdentity block. Skip connection \"skips over\" 3 layers.<br />![idblock3_kiank.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649855591440-509375d2-787d-41b2-b5f1-e30afb47cc2e.png#clientId=u7492d56d-52bb-4&from=drop&id=u279c4543&originHeight=312&originWidth=1458&originalType=binary&ratio=1&rotation=0&showTitle=false&size=43859&status=done&style=none&taskId=ub4f83443-8809-42b5-8ec3-dc6b1e06a09&title=)<br />The Convolutional Block![convblock_kiank.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649855545231-b27d1983-75b7-41bd-aa1d-48054b65571a.png#clientId=u7492d56d-52bb-4&from=drop&id=ude4d2642&originHeight=382&originWidth=1294&originalType=binary&ratio=1&rotation=0&showTitle=false&size=44643&status=done&style=none&taskId=u93138ecd-071d-4a3f-9684-ada96ad7023&title=)<br />ResNet-50 model<br />![resnet_kiank.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649855562750-d7e119b0-803a-4ac8-82f2-3ad9e824d00f.png#clientId=u7492d56d-52bb-4&from=drop&id=uca371e5b&originHeight=284&originWidth=1396&originalType=binary&ratio=1&rotation=0&showTitle=false&size=50220&status=done&style=none&taskId=u0cacf386-d7ae-47dd-9c10-26f0a4cdc9c&title=)<br />SIGNS dataset<br />![signs_data_kiank.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649855607961-8ba08b2a-8496-4e8f-b3d9-480d98a9f945.png#clientId=u7492d56d-52bb-4&from=drop&id=u67fccb47&originHeight=696&originWidth=1350&originalType=binary&ratio=1&rotation=0&showTitle=false&size=476233&status=done&style=none&taskId=ued380cad-5d45-4ae6-9ed5-35bd50eee20&title=)\n\n- Very deep \"plain\" networks don't work in practice because vanishing gradients make them hard to train.\n- Skip connections help address the Vanishing Gradient problem. They also make it easy for a ResNet block to learn an identity function.\n- There are two main types of blocks: The **identity block** and the **convolutional block**.\n- Very deep Residual Networks are built by stacking these blocks together.\n<a name=\"NpRKc\"></a>\n## Transfer Learning with MobileNet\n<a name=\"QvCQN\"></a>\n# 3.1 目标定位\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649859453529-7d39bb2d-d004-4bd0-84cd-0dc75e354b6b.png#clientId=u170bb4bb-2831-4&from=paste&height=870&id=u671036f2&originHeight=1246&originWidth=1990&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1008439&status=done&style=none&taskId=ubfc17086-d00f-4c4f-b27b-dfc8a369552&title=&width=1389.3817410898803)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649859766684-fc780bd2-ac6d-4019-ae72-22780968a08d.png#clientId=u170bb4bb-2831-4&from=paste&height=873&id=ufa86b766&originHeight=1251&originWidth=1989&originalType=binary&ratio=1&rotation=0&showTitle=false&size=792125&status=done&style=none&taskId=u1247f35c-a5c1-4486-b3ea-4014eb07a7f&title=&width=1388.683559310438)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649862305442-1d562a32-1caf-4a0a-92f3-8b045b34b2b6.png#clientId=u170bb4bb-2831-4&from=paste&height=872&id=ufb6f08a2&originHeight=1249&originWidth=1981&originalType=binary&ratio=1&rotation=0&showTitle=false&size=980147&status=done&style=none&taskId=u89bb7aca-2757-4eed-b924-2321e1a27d1&title=&width=1383.098105074901)<br />目标定位的输出复杂一些，要输出分类的同时输出boundingbox的坐标和宽高<br />对于只有0和1的输出使用logistics loss，坐标用平方差\n<a name=\"eHXQR\"></a>\n# 3.2 特征点检测\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649913155633-a7b0fc74-a25c-498f-8d35-883cb3e34955.png#clientId=u537a1933-6a9f-4&from=paste&height=880&id=u8ed061b6&originHeight=1260&originWidth=2031&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1135537&status=done&style=none&taskId=u3c7a0a6c-56e6-45f4-9597-9e02fba9d7c&title=&width=1418.0071940470084)<br />通过添加输出来获取我们要的信息，当然，训练集得提前标注好\n<a name=\"JzZ4J\"></a>\n# 3.3 目标检测\n<a name=\"cZR5n\"></a>\n## Sliding Window\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649922614921-bc5ad9be-a58a-4437-9060-854b7aa6f7fa.png#clientId=u537a1933-6a9f-4&from=paste&height=869&id=uca540f83&originHeight=1245&originWidth=2011&originalType=binary&ratio=1&rotation=0&showTitle=false&size=681423&status=done&style=none&taskId=u6c539f3f-e8ae-4622-b294-29cf823b1cc&title=&width=1404.0435584581655)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649922893661-439bcff8-e758-4b0e-a9c5-5c09eb357a92.png#clientId=u537a1933-6a9f-4&from=paste&height=871&id=u03e220d2&originHeight=1248&originWidth=2017&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1066923&status=done&style=none&taskId=u2c8767a1-d12d-4e9f-a540-36f2c911836&title=&width=1408.2326491348183)\n<a name=\"Jge8j\"></a>\n# 3.4 卷积的滑动窗口实现\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649923220131-dd9d586f-40aa-4e66-8c1c-6e0542a4fe76.png#clientId=u537a1933-6a9f-4&from=paste&height=883&id=u8ed63708&originHeight=1264&originWidth=2023&originalType=binary&ratio=1&rotation=0&showTitle=false&size=844954&status=done&style=none&taskId=u6cbc4ace-730f-43fd-a07e-035acc87147&title=&width=1412.4217398114713)<br />为了使整个CNN适应不同分辨率，需要将最后FC层转换成卷积层<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649923528050-5c06bbd0-946f-49f3-ae16-df94aabab859.png#clientId=u537a1933-6a9f-4&from=paste&height=876&id=ue279dc25&originHeight=1254&originWidth=2026&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1581590&status=done&style=none&taskId=u5cf58499-0757-4ddb-b18c-119ba226d97&title=&width=1414.5162851497978)<br />当输入更大的图片时，相当于对其使用Sliding Window检测，也就是所谓的平移不变性<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649923935567-ed7e847f-a23f-4dbb-9c3d-8fdc8e6073ac.png#clientId=u537a1933-6a9f-4&from=paste&height=873&id=ud6edf950&originHeight=1250&originWidth=2025&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1102661&status=done&style=none&taskId=u595143ab-336a-4b38-9619-4ecbe961208&title=&width=1413.8181033703556)\n<a name=\"Jitrh\"></a>\n# 3.5 BoundingBox预测\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649924745641-4d82790e-87dd-4a45-9c23-cfd1fd32db9e.png#clientId=u537a1933-6a9f-4&from=paste&height=872&id=u84674f33&originHeight=1249&originWidth=2021&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1192286&status=done&style=none&taskId=u9179cbde-bfad-48c5-b27a-deb6b5f18a6&title=&width=1411.025376252587)<br />最简单的YOLO算法，将图片分为多个chunk，每个chunk可以检测一个物体并输出其BB，按物体中心判断属于哪个chunk<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649925253603-1b166f8d-3d2d-4d9c-a62f-02fe77a0dc9c.png#clientId=u537a1933-6a9f-4&from=paste&height=876&id=uac1f5270&originHeight=1254&originWidth=2021&originalType=binary&ratio=1&rotation=0&showTitle=false&size=759884&status=done&style=none&taskId=u657d4e39-3ac0-4f98-8256-6b216d3742d&title=&width=1411.025376252587)\n<a name=\"wteWu\"></a>\n# 3.6 交并比 Intersection-Over-Union\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649925562012-c440f5be-72fb-4237-87bd-b1db7240e709.png#clientId=u537a1933-6a9f-4&from=paste&height=871&id=u4ea67f68&originHeight=1248&originWidth=2010&originalType=binary&ratio=1&rotation=0&showTitle=false&size=793749&status=done&style=none&taskId=uc7c95691-1a07-45d3-97e9-3a45eee4d00&title=&width=1403.3453766787234)\n<a name=\"BxzGD\"></a>\n# 3.7 非极大值抑制 Non-max Suppression\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649932453048-8a8930ab-ffaa-41c8-ba4b-7201c70dfb87.png#clientId=u537a1933-6a9f-4&from=paste&height=952&id=u368680fb&originHeight=1364&originWidth=2021&originalType=binary&ratio=1&rotation=0&showTitle=false&size=907652&status=done&style=none&taskId=ua15f196d-1f2a-40ed-a787-66feb7d32be&title=&width=1411.025376252587)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649932685009-c0dddbda-31a8-4617-b81b-3f4aac421de6.png#clientId=u537a1933-6a9f-4&from=paste&height=874&id=u5b599089&originHeight=1252&originWidth=2014&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1073312&status=done&style=none&taskId=ua01aadb1-b879-4f39-9eec-14e86c1df35&title=&width=1406.138103796492)<br />对于每一个输出的类别：首先剔除概率低于阈值的结果，然后对于一簇IOU比较高的box，只选择概率最高的一个作为预测结果\n<a name=\"PUXDB\"></a>\n# 3.8 Anchor Boxes\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649933021690-847dc1f7-9cad-4d9d-97ff-15b72431502c.png#clientId=u537a1933-6a9f-4&from=paste&height=880&id=u4c5eefd0&originHeight=1260&originWidth=2023&originalType=binary&ratio=1&rotation=0&showTitle=false&size=866419&status=done&style=none&taskId=u3a4a256d-a470-4fbc-8073-8ece61e622b&title=&width=1412.4217398114713)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649933141553-cdd56454-7b75-494a-b452-0306f60acf58.png#clientId=u537a1933-6a9f-4&from=paste&height=877&id=ua7048bbe&originHeight=1256&originWidth=2016&originalType=binary&ratio=1&rotation=0&showTitle=false&size=984944&status=done&style=none&taskId=u08c97e30-967b-4839-bb25-200a96345d2&title=&width=1407.5344673553761)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649938472496-b2f66f67-6b6d-4a41-ba47-0dfc4a0ac85f.png#clientId=ud4edb878-cfa4-4&from=paste&height=871&id=uc2627bde&originHeight=1248&originWidth=2016&originalType=binary&ratio=1&rotation=0&showTitle=false&size=988593&status=done&style=none&taskId=u82da7cca-375a-4039-bcdb-17169202026&title=&width=1407.5344673553761)<br />Anchor Boxes的思想是将之前识别一个物体的y并列，实现一个格子中同时识别多个物体，并列几次就能最多同时识别几个物体<br />但是对于目标重叠的情况难以处理<br />同时不同的Anchor Box之间可以有针对性地进行识别，比如一些针对比较矮胖的车，一些针对比较高瘦的人\n<a name=\"F3sJT\"></a>\n## K-Means\nk均值聚类算法可以将两类对象的形状聚类，帮助自动选择Anchor Boxes大小\n<a name=\"z0fJB\"></a>\n# 3.9 YOLO算法\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649939499386-c154b17b-ede6-4849-a862-7e12d2b10174.png#clientId=ud4edb878-cfa4-4&from=paste&height=885&id=ue8b90b92&originHeight=1267&originWidth=2029&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1080785&status=done&style=none&taskId=u07d006b1-694f-47ea-a458-7c3be464508&title=&width=1416.6108304881243)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649939554972-82db5591-d60b-4fff-8c1f-ff583b043570.png#clientId=ud4edb878-cfa4-4&from=paste&height=868&id=u96416c0a&originHeight=1243&originWidth=2016&originalType=binary&ratio=1&rotation=0&showTitle=false&size=710327&status=done&style=none&taskId=uaf97891e-9d21-4bcc-a595-a7ab0236eee&title=&width=1407.5344673553761)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649940033129-d2441999-5f6d-402e-972a-1e591ed7c171.png#clientId=ud4edb878-cfa4-4&from=paste&height=876&id=u746fad12&originHeight=1254&originWidth=2027&originalType=binary&ratio=1&rotation=0&showTitle=false&size=931172&status=done&style=none&taskId=ua47ae1f0-bd09-4e09-848e-41cfe2f5298&title=&width=1415.21446692924)\n<a name=\"DkrMV\"></a>\n# 3.10 候选区域 Region Proposals\n<a name=\"lr0dy\"></a>\n## R-CNN / Region CNN\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649945790743-eecae09e-789f-493c-957d-ed764b49d91c.png#clientId=ud4edb878-cfa4-4&from=paste&height=875&id=u2bb8cb57&originHeight=1253&originWidth=2012&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1274691&status=done&style=none&taskId=ue66612f6-ff28-4c90-8c63-3fcb89a76cb&title=&width=1404.7417402376077)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649945983437-12c2f3a5-d9a1-4c98-b7d6-990eae32ae4b.png#clientId=ud4edb878-cfa4-4&from=paste&height=873&id=ue835ccfc&originHeight=1251&originWidth=2029&originalType=binary&ratio=1&rotation=0&showTitle=false&size=934843&status=done&style=none&taskId=u536528c1-63ba-48b1-9f45-8ceb6f76c8f&title=&width=1416.6108304881243)<br />RCNN先对图片中的物体聚类，然后在可能的候选区域中进行目标检测\n<a name=\"gdDLN\"></a>\n# 3.11 U-Net语义分割 Semantic Segmentation with U-Net\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649946444645-bb58aa05-188e-48d9-b3d5-5b5421186451.png#clientId=ud4edb878-cfa4-4&from=paste&height=869&id=u1b8dbfe0&originHeight=1244&originWidth=2001&originalType=binary&ratio=1&rotation=0&showTitle=false&size=816124&status=done&style=none&taskId=u158b6421-533e-419f-b272-5b4ceb144b3&title=&width=1397.0617406637439)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649946534282-fada1102-9843-4c51-bacd-3a0307d32ff1.png#clientId=ud4edb878-cfa4-4&from=paste&height=878&id=u7bb7d0a5&originHeight=1257&originWidth=2027&originalType=binary&ratio=1&rotation=0&showTitle=false&size=576597&status=done&style=none&taskId=u3be590d5-b80e-40b2-a6b5-29e10786826&title=&width=1415.21446692924)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649946631112-b85780e7-d4b7-493f-9453-c612feeef1a5.png#clientId=ud4edb878-cfa4-4&from=paste&height=866&id=ubbc4cc82&originHeight=1241&originWidth=2012&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1765120&status=done&style=none&taskId=ufe4c2374-b92b-4f35-b41a-d3d57a63262&title=&width=1404.7417402376077)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649946731725-12b0a290-3ad9-40d8-a4b7-5efb0f24094a.png#clientId=ud4edb878-cfa4-4&from=paste&height=836&id=ub4690313&originHeight=1197&originWidth=1991&originalType=binary&ratio=1&rotation=0&showTitle=false&size=398908&status=done&style=none&taskId=udbfceec2-09a4-44af-a2c7-494369ee59b&title=&width=1390.0799228693224)<br />输出的y包含每个像素的分类预测\n<a name=\"QFAHn\"></a>\n## 3.12 转置卷积 Transpose Convolutions\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649946870011-465d7fc5-e3dd-4df0-a6f4-a6e089c489db.png#clientId=ud4edb878-cfa4-4&from=paste&height=790&id=u483a9c8b&originHeight=1131&originWidth=1594&originalType=binary&ratio=1&rotation=0&showTitle=false&size=358477&status=done&style=none&taskId=u6dc7704b-fcb3-47e9-907a-db768a6bed3&title=&width=1112.9017564307885)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649947097171-fb800b50-f0b5-433e-ae2b-1bfc1c9eef7d.png#clientId=ud4edb878-cfa4-4&from=paste&height=803&id=uf0fac190&originHeight=1150&originWidth=1736&originalType=binary&ratio=1&rotation=0&showTitle=false&size=572290&status=done&style=none&taskId=u9e4aa42a-297a-44cd-a543-dfd1de2b6e6&title=&width=1212.043569111574)<br />转置卷积用filter在output上卷积，每个像素的值等于输入乘卷积核对应值\n<a name=\"UQmqa\"></a>\n# 3.13 U-Net Architecture Intuition\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649947436200-406713e6-eeb4-4e0f-9641-d900dae4691b.png#clientId=ud4edb878-cfa4-4&from=paste&height=827&id=u868c539c&originHeight=1185&originWidth=2009&originalType=binary&ratio=1&rotation=0&showTitle=false&size=663424&status=done&style=none&taskId=ud0425eb7-f30f-416d-b220-1d298abb02c&title=&width=1402.6471948992812)<br />前半部分像素减少，深度增加，网络可以识别到猫，之后有一条捷径将完整分辨率的信息传输到最后几层，以判断猫究竟覆盖了哪些像素\n<a name=\"DR39I\"></a>\n# 3.14 U-Net Architecture\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649947644338-a61542d4-bfcd-4f6c-8dda-eab709a998cb.png#clientId=ud4edb878-cfa4-4&from=paste&height=818&id=u7b48831b&originHeight=1172&originWidth=1997&originalType=binary&ratio=1&rotation=0&showTitle=false&size=387448&status=done&style=none&taskId=u2ea4ab44-66e3-4274-a3a2-12330bbb23c&title=&width=1394.2690135459754)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1649948017750-d699c22b-3456-4e28-9288-d2ce74c11659.png#clientId=ud4edb878-cfa4-4&from=paste&height=878&id=u0bc13534&originHeight=1257&originWidth=2023&originalType=binary&ratio=1&rotation=0&showTitle=false&size=581093&status=done&style=none&taskId=u210469a1-5e48-49d0-907a-684c0f8d273&title=&width=1412.4217398114713)<br />[U-Net+与FCN的区别+医学表现+网络详解+创新](https://zhuanlan.zhihu.com/p/118540575)\n\n<a name=\"twl0y\"></a>\n# 4.1 什么是人脸识别 Face Recognition\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650007670708-1c5ba130-0687-411f-8e65-83b769e6cc90.png#clientId=ufeb2e060-be6d-4&from=paste&height=861&id=u6037dcd5&originHeight=1233&originWidth=1970&originalType=binary&ratio=1&rotation=0&showTitle=false&size=808145&status=done&style=none&taskId=u6119ff0e-3e15-4c40-85b4-80487b4d183&title=&width=1375.4181055010372)<br />实现人脸识别首先需要实现人脸验证（Verification），输入图片是不是数据库中某个人，并且准确率要非常高才可实际应用\n<a name=\"W3ggk\"></a>\n# 4.2 One-Shot学习\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650009057112-2def56d7-99c1-4623-be91-9166f09b6d8e.png#clientId=ufeb2e060-be6d-4&from=paste&height=857&id=u26fdac2a&originHeight=1227&originWidth=1977&originalType=binary&ratio=1&rotation=0&showTitle=false&size=666805&status=done&style=none&taskId=uf18f9e79-2e6a-4577-8fe5-5c05925155c&title=&width=1380.3053779571324)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650009125807-c934506d-33f0-4dc4-9ddb-1143af1c72e5.png#clientId=ufeb2e060-be6d-4&from=paste&height=852&id=uaec2a6c0&originHeight=1220&originWidth=1963&originalType=binary&ratio=1&rotation=0&showTitle=false&size=650315&status=done&style=none&taskId=ufa610086-095d-4da4-82b7-ab38612321a&title=&width=1370.5308330449423)<br />Similarity函数通过判断两张图中脸的相似度解决一次学习任务，即使有新员工加入也只需要录一次脸即可\n<a name=\"Q0Dez\"></a>\n# 4.3 Siamese Net\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650009453421-8d127e5d-4a64-4e8a-98f4-244005167c4a.png#clientId=ufeb2e060-be6d-4&from=paste&height=864&id=u0a43ceeb&originHeight=1237&originWidth=1972&originalType=binary&ratio=1&rotation=0&showTitle=false&size=606443&status=done&style=none&taskId=ucbe2fdb5-54d2-463e-a39b-bf8c4a9c102&title=&width=1376.8144690599215)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650009540803-5efa021e-0597-4556-9a02-0132f6a5f135.png#clientId=ufeb2e060-be6d-4&from=paste&height=859&id=ucdb212fb&originHeight=1231&originWidth=1982&originalType=binary&ratio=1&rotation=0&showTitle=false&size=516443&status=done&style=none&taskId=uc859db39-0c6a-42ba-a2a1-d314dca647f&title=&width=1383.7962868543432)<br />SiameseNet通过最后的特征向量之间的距离判断是不是同一个人\n<a name=\"JOuez\"></a>\n# 4.4 Triplet Loss\n[为什么triplet loss有效？](https://bindog.github.io/blog/2019/10/23/why-triplet-loss-works/)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650020967482-1299b9f6-3ed4-4a86-982d-2a59fcb9b3ba.png#clientId=ufeb2e060-be6d-4&from=paste&height=866&id=u751880ea&originHeight=1240&originWidth=1965&originalType=binary&ratio=1&rotation=0&showTitle=false&size=925507&status=done&style=none&taskId=ue5fc32d2-727e-411b-aabe-c3c044dd54d&title=&width=1371.9271966038266)<br />间隔（Margin）α确保了不同人脸之间的差异足够大，<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650026519841-f9f3b0cf-dc91-4c59-b8ec-58cce6dccb2b.png#clientId=ufeb2e060-be6d-4&from=paste&height=873&id=u4ce2c940&originHeight=1251&originWidth=1970&originalType=binary&ratio=1&rotation=0&showTitle=false&size=611989&status=done&style=none&taskId=ud394bfb1-cc8b-41eb-bcfc-063fdd1139b&title=&width=1375.4181055010372)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650027160047-96a26de0-6af6-4d30-af20-874a8671b36f.png#clientId=ufeb2e060-be6d-4&from=paste&height=868&id=ua5c8dbfd&originHeight=1243&originWidth=1974&originalType=binary&ratio=1&rotation=0&showTitle=false&size=735784&status=done&style=none&taskId=uc8f9323e-040b-47fe-87d4-d3d3d9b6c63&title=&width=1378.2108326188059)<br />一个有用的策略是hard mining：选择最不像的Positive，选择最像的Negative，这样网络会全力找出最重要的特征<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650028900208-f6f3dfa5-9504-4cb9-8f68-5d9de9623d99.png#clientId=ufeb2e060-be6d-4&from=paste&height=827&id=u20c7ccc9&originHeight=1185&originWidth=1940&originalType=binary&ratio=1&rotation=0&showTitle=false&size=638278&status=done&style=none&taskId=u132a27fe-d82a-4593-aaae-2c9f23bce09&title=&width=1354.4726521177727)\n<a name=\"UxBXA\"></a>\n# 4.5 Face Verification and Binary Classification\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650028219284-9e846347-09e5-4558-8e30-c07c4aa34e0c.png#clientId=ufeb2e060-be6d-4&from=paste&height=865&id=u5b2855fb&originHeight=1239&originWidth=1958&originalType=binary&ratio=1&rotation=0&showTitle=false&size=867798&status=done&style=none&taskId=u98d272c8-2166-469f-b635-a32ba73050f&title=&width=1367.0399241477314)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650028960132-fe403ac5-48fa-4b27-8c41-14b36b7d7205.png#clientId=ufeb2e060-be6d-4&from=paste&height=49&id=u215559ab&originHeight=70&originWidth=542&originalType=binary&ratio=1&rotation=0&showTitle=false&size=11594&status=done&style=none&taskId=u80e69386-eabf-486d-a0fd-ed910d71df4&title=&width=378.41452445764577)<br />对输入的两张图分别运行网络，对最后的特征向量计算方差 / ![](https://cdn.nlark.com/yuque/__latex/a68e0467e32ed3823f0d5c951693d0f9.svg#card=math&code=%5Cchi%20&id=MBw9i)平方相似度，并使用Logistic Loss<br />两张图一张是录进数据库的，一张是摄像头实时捕捉的，数据库中的图可以预计算好特征向量<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650028852748-1302738c-7d5f-41fb-879c-142c7e39edff.png#clientId=ufeb2e060-be6d-4&from=paste&height=858&id=ua355f0d2&originHeight=1229&originWidth=1960&originalType=binary&ratio=1&rotation=0&showTitle=false&size=612731&status=done&style=none&taskId=u5b4df2e1-19cc-494f-b35f-6dde7a100f9&title=&width=1368.4362877066158)\n<a name=\"Rxco3\"></a>\n# 4.6 What is Neural Style Transfer?\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650029117995-dc31c2c4-d991-435b-aa75-4a99fb16cf4f.png#clientId=ufeb2e060-be6d-4&from=paste&height=863&id=u7c450a99&originHeight=1236&originWidth=1970&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1440296&status=done&style=none&taskId=ue488600f-b428-4155-8935-62b234d250b&title=&width=1375.4181055010372)\n<a name=\"V60H5\"></a>\n# 4.7 What are deep ConvNets learning?\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650030132020-2927c353-ddc0-4029-91c3-4eb07468afb1.png#clientId=ufeb2e060-be6d-4&from=paste&height=869&id=uef76f7ab&originHeight=1245&originWidth=1974&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1074197&status=done&style=none&taskId=uc166a063-9e4e-44e3-8569-b52b387f81f&title=&width=1378.2108326188059)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650030304969-c4b2754b-1756-4094-bf74-7ca218a01a35.png#clientId=ufeb2e060-be6d-4&from=paste&height=871&id=u623131f2&originHeight=1247&originWidth=1965&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1978897&status=done&style=none&taskId=u2b209820-3df6-4ac0-903b-f759d9acfdb&title=&width=1371.9271966038266)<br />浅层识别局部特征，深层识别更复杂的特征\n<a name=\"Ly2o7\"></a>\n# 4.8 Cost Function\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650030530709-604ce673-7b1f-4135-bee0-04d1fac05cc9.png#clientId=ufeb2e060-be6d-4&from=paste&height=864&id=u7b41a594&originHeight=1238&originWidth=1971&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1086975&status=done&style=none&taskId=ua6467cfe-f73b-46f7-8644-ff9bd386046&title=&width=1376.1162872804794)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650030758805-609f4221-565c-4a98-9d25-55cd26845ca6.png#clientId=ufeb2e060-be6d-4&from=paste&height=864&id=ua6c37819&originHeight=1238&originWidth=1962&originalType=binary&ratio=1&rotation=0&showTitle=false&size=956731&status=done&style=none&taskId=u35247c3f-daf5-479d-a1f6-319469c27ac&title=&width=1369.8326512655)<br />基本的风格迁移需要定义两个Cost Function计算C和S的cost，然后梯度下降去最小化cost\n<a name=\"GQODI\"></a>\n# 4.9 Content Cost Function\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650031081553-4684f8db-7a7d-478b-9352-23afcc52d96b.png#clientId=ufeb2e060-be6d-4&from=paste&height=816&id=u54a0cd67&originHeight=1169&originWidth=1972&originalType=binary&ratio=1&rotation=0&showTitle=false&size=825703&status=done&style=none&taskId=u654494ff-0cc8-4f09-b6fb-a9cfddad109&title=&width=1376.8144690599215)<br />选择网络的中间层的Activation计算Cost\n<a name=\"QNia6\"></a>\n# 4.10 Style Cost Function\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650031684978-609ed802-1e8f-44ab-9a7a-4204559103d4.png#clientId=ufeb2e060-be6d-4&from=paste&height=869&id=uec7434b9&originHeight=1244&originWidth=1969&originalType=binary&ratio=1&rotation=0&showTitle=false&size=819184&status=done&style=none&taskId=udffaa084-f449-47f9-92ac-9764e0d438a&title=&width=1374.7199237215953)<br />Style是L层的Activation在Channel之间的相关性（Correlation）<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650031992653-ed2c7afc-5aa6-442d-8123-c1c81e7072d7.png#clientId=ufeb2e060-be6d-4&from=paste&height=867&id=ub0f0d3d1&originHeight=1242&originWidth=1974&originalType=binary&ratio=1&rotation=0&showTitle=false&size=703257&status=done&style=none&taskId=u1c5938be-cf56-4299-91c9-b9db9374124&title=&width=1378.2108326188059)<br />风格的相似性检测思路完全不同于内容的相似性检测，这里使用出现的概率（通过相关系数描述）来判定风格相似性<br />比如L1层检测的是竖条纹，L2层检测的是红色块，如果L1与L2相关系数越高，竖条纹和红色块同时出现的概率越高<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650032739333-6879b040-e901-42e7-83d7-be9828d61712.png#clientId=ufeb2e060-be6d-4&from=paste&height=872&id=u84c6d4f4&originHeight=1249&originWidth=1984&originalType=binary&ratio=1&rotation=0&showTitle=false&size=730528&status=done&style=none&taskId=u7bb505f3-3c2f-4c7f-a588-61ce296c90c&title=&width=1385.1926504132275)<br />计算Style Cost需要先分别对S和G计算Style Matrix（Gram Matrix）：<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650032874538-2cef47a5-0151-4186-bb65-9f9b8f351ff7.png#clientId=ufeb2e060-be6d-4&from=paste&height=57&id=u5c1ca243&originHeight=81&originWidth=420&originalType=binary&ratio=1&rotation=0&showTitle=false&size=11441&status=done&style=none&taskId=u66c35fce-fe5c-407c-93bc-84e1aae3f97&title=&width=293.2363473657034)<br />k层与k'层的相关系数G等于将这两层对应位置相乘最后求和\n\n[https://zh.wikipedia.org/wiki/%E5%8D%8F%E6%96%B9%E5%B7%AE](https://zh.wikipedia.org/wiki/%E5%8D%8F%E6%96%B9%E5%B7%AE)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650033193921-d95ebe5c-4fa8-4ec7-ae60-2ce14f603e72.png#clientId=ufeb2e060-be6d-4&from=paste&height=65&id=ud5f1cab4&originHeight=93&originWidth=1069&originalType=binary&ratio=1&rotation=0&showTitle=false&size=24180&status=done&style=none&taskId=uf3c0f798-93a2-4318-ae48-d9634fd96c7&title=&width=746.3563222236593)<br />S和G之间的Style Cost Function：<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650033514979-6a393d29-a629-47f6-8b52-a52b1207cbbd.png#clientId=ufeb2e060-be6d-4&from=paste&height=75&id=ufdc3b8d3&originHeight=108&originWidth=650&originalType=binary&ratio=1&rotation=0&showTitle=false&size=15984&status=done&style=none&taskId=ufd39e525-de41-46fb-934f-d13bced14cb&title=&width=453.8181566373981)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650033746547-eb492697-6498-44f4-bde0-042e624e1d8b.png#clientId=ufeb2e060-be6d-4&from=paste&height=862&id=u3a7f9286&originHeight=1235&originWidth=1980&originalType=binary&ratio=1&rotation=0&showTitle=false&size=471204&status=done&style=none&taskId=ub7b40595-ce88-43ba-a8b3-f136aed5f3d&title=&width=1382.3999232954588)<br />然后对所有层计算J Style求和，λ是每个层的系数，最后就获得了总的Style Cost，梯度下降最小化之后就可以获得有C内容和S风格的G\n<a name=\"JvDUD\"></a>\n## Gram Matrix\n[为什么Gram matrix可以代表一个图片的style?(格莱姆矩阵) - Tomorrow1126 - 博客园](https://www.cnblogs.com/h694879357/p/13417302.html)<br />![](https://cdn.nlark.com/yuque/0/2022/png/504873/1650033451054-6ba49eec-1afd-4ccd-aa23-d5f365f9d893.png#clientId=ufeb2e060-be6d-4&from=paste&id=u53289f22&originHeight=1056&originWidth=1696&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u73ffcd96-1f9a-4776-a2fb-9e35c6d2cd8&title=)<br />[风格迁移(style_transfer)网络](https://zhuanlan.zhihu.com/p/84401154)<br />作者在他之前的一篇文章提到（[Texture Synthesis Using Convolutional Neural Networks](https://link.zhihu.com/?target=https%3A//arxiv.org/pdf/1505.07376.pdf)）图像经过**_卷积层后得到的特征图的协方差矩阵可以很好地表征图像的纹理特征_，**但是会损失位置信息。不过在风格迁移的任务中，我们可以忽略位置信息损失这个缺点，只需要找到一个方法可以表征图像的纹理信息，并把它这些纹理信息迁移到需要被风格迁移的图像中，完成风格迁移的任务；而现在，利用协方差矩阵可以得到纹理信息，我们就可以完成风格迁移。<br />协方差是一个二阶的统计信息，文章里使用**_Gram matrix来代替协方差矩阵_**（其实就是没有减去均值的协方差矩阵），它能够描述全局特征的自相关。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650037518562-f2100925-8f48-4ac5-b543-3adc1829701f.png#clientId=ufeb2e060-be6d-4&from=paste&id=uff1fa86b&originHeight=480&originWidth=680&originalType=url&ratio=1&rotation=0&showTitle=false&size=437455&status=done&style=none&taskId=u8bd46dcf-947d-4896-9445-6f862203c5e&title=)\n<a name=\"MiXa8\"></a>\n# 4.11 从一维到三维的推广\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650036984659-b0487213-de97-416e-b5d1-99b144751dab.png#clientId=ufeb2e060-be6d-4&from=paste&height=864&id=u06e61dc5&originHeight=1237&originWidth=1972&originalType=binary&ratio=1&rotation=0&showTitle=false&size=666294&status=done&style=none&taskId=u7111f507-3743-4c5b-894f-9cbfbe943fe&title=&width=1376.8144690599215)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650037025919-2d5cb547-11f0-45a4-b457-4f8dab38aece.png#clientId=ufeb2e060-be6d-4&from=paste&height=813&id=uac293631&originHeight=1164&originWidth=1970&originalType=binary&ratio=1&rotation=0&showTitle=false&size=554035&status=done&style=none&taskId=u589e4447-4b8f-4ea5-a13f-95b2fb384a7&title=&width=1375.4181055010372)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650037272189-e6411647-d851-4608-95fb-b04beb975ebf.png#clientId=ufeb2e060-be6d-4&from=paste&height=809&id=u42dfa879&originHeight=1159&originWidth=1966&originalType=binary&ratio=1&rotation=0&showTitle=false&size=390009&status=done&style=none&taskId=u3127971e-2e12-497c-a9e6-2646dc27391&title=&width=1372.6253783832688)<br />视频可以看作3D Volume，用来检测人物行为\n<a name=\"lhpv2\"></a>\n# 作业：人脸识别\n<a name=\"kvBDO\"></a>\n## 1对1\n<a name=\"oh2tr\"></a>\n### Triplet Loss\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650270217219-a0197617-9838-47cf-92dd-eb89d0a9eb0d.png#clientId=uef701377-d64a-4&from=paste&height=544&id=u3033c069&originHeight=779&originWidth=1187&originalType=binary&ratio=1&rotation=0&showTitle=false&size=164507&status=done&style=none&taskId=u702169e0-f1e2-4c00-a6bb-8e44ecc1d4e&title=&width=828.7417721978331)<br />![](https://cdn.nlark.com/yuque/0/2022/jpeg/504873/1650270222269-36624a50-eefb-410f-8485-5d95ef6be82a.jpeg#clientId=uef701377-d64a-4&from=paste&id=u1bcc2dac&originHeight=311&originWidth=500&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u6085e35e-153e-496d-90d0-45d3e150925&title=)<br />计算m个128维向量的**距离**，作业里的公式是L2范数的平方，也就是先平方后求和。。。<br />也可以简化为一般L2范数，相当与常见的向量length，np.linalg.norm<br />[Triplet Network, Triplet Loss及其tensorflow实现](https://zhuanlan.zhihu.com/p/35560666)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650271602725-914fadad-c61b-4683-b2c2-c15f909deebb.png#clientId=uef701377-d64a-4&from=paste&height=352&id=uad8ddb75&originHeight=504&originWidth=857&originalType=binary&ratio=1&rotation=0&showTitle=false&size=68047&status=done&style=none&taskId=u6051c423-e404-44b1-a85b-40715917635&title=&width=598.3417849819233)\n<a name=\"wSxBu\"></a>\n## 1对多\n实现验证给定的两张脸是不是同一人后，可以更进一步找出给定的人脸是否在数据库中，用for循环或者向量化找出features距离最近的脸即可\n\n<a name=\"rLO7G\"></a>\n# 作业：Neural Style Transfer\n<a name=\"ci5hj\"></a>\n## cost of C G\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650295632050-99ef1d35-53fb-4592-9e74-ff76a0a4205b.png#clientId=u22e36c4b-b976-4&from=paste&height=728&id=u7fb40933&originHeight=1043&originWidth=1204&originalType=binary&ratio=1&rotation=0&showTitle=false&size=477631&status=done&style=none&taskId=u0b771790-74d5-4ed4-a884-7a989838196&title=&width=840.6108624483497)\n\n- For the `shape` parameter, a `-1` tells the function to choose the correct dimension size so that the output tensor still contains all the values of the original tensor.\n- So `tf.reshape(a_C, shape=[m, n_H * n_W, n_C])` gives the same result as `tf.reshape(a_C, shape=[m, -1, n_C])`.\n- If you prefer to re-order the dimensions, you can use `tf.transpose(tensor, perm)`, where `perm` is a list of integers containing the original index of the dimensions.\n- For example, `tf.transpose(a_C, perm=[0,3,1,2])` changes the dimensions from ![](https://g.yuque.com/gr/latex?(m%2C%20n_H%2C%20n_W%2C%20n_C)#card=math&code=%28m%2C%20n_H%2C%20n_W%2C%20n_C%29&id=JdmLc) to ![](https://g.yuque.com/gr/latex?(m%2C%20n_C%2C%20n_H%2C%20n_W)#card=math&code=%28m%2C%20n_C%2C%20n_H%2C%20n_W%29&id=RNyqp).\n<a name=\"tQSjO\"></a>\n## cost of S G：Gram Matrix\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650299468698-d556bd2e-af4e-43b7-9483-1de6259f4092.png#clientId=u22e36c4b-b976-4&from=paste&height=730&id=u18fc0b65&originHeight=1045&originWidth=1169&originalType=binary&ratio=1&rotation=0&showTitle=false&size=505701&status=done&style=none&taskId=ucdc49836-8d5b-4b8c-8fce-50ac95dde29&title=&width=816.1745001678744)<br />Gram矩阵的一个元素G_ij表示的是第i个filter与第j个filter的activation的相似度，Gram矩阵边长为filter个数<br />对角线元素，比如G_ii，表示的是i filter的活跃程度，也就是被激活的次数，图中检测到i图形的次数<br />如果i检测的是竖条纹，G_ii表示的就是竖条纹的出现次数，越多越大<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650300138139-923eb7ce-91ac-4e7a-8e05-a177c8104711.png#clientId=u22e36c4b-b976-4&from=paste&height=334&id=uabc15e7a&originHeight=478&originWidth=1182&originalType=binary&ratio=1&rotation=0&showTitle=false&size=73947&status=done&style=none&taskId=u0584b65c-fa05-4065-b278-d14aa35dae0&title=&width=825.2508633006224)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650302068762-a08645f2-c53c-40a2-a41d-40313696d14d.png#clientId=u22e36c4b-b976-4&from=paste&height=179&id=u70985299&originHeight=256&originWidth=1119&originalType=binary&ratio=1&rotation=0&showTitle=false&size=48563&status=done&style=none&taskId=u83c09410-b91b-40dc-9085-07f124085be&title=&width=781.2654111957669)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650302078730-1d2480c9-3031-4360-a326-3591fce43210.png#clientId=u22e36c4b-b976-4&from=paste&height=87&id=uc3822dea&originHeight=125&originWidth=836&originalType=binary&ratio=1&rotation=0&showTitle=false&size=13221&status=done&style=none&taskId=uf830de96-dfb8-46b1-b9d1-4b804c37fa3&title=&width=583.6799676136382)<br />如何选择每一层的系数?更深层次的图像捕捉更高层次的概念，而更深层次的特征在图像中相对于其他层的局部化程度较低。因此，如果您希望生成的图像柔和地遵循样式图像，请尝试为更深的层选择较大的权值，为第一个层选择较小的权值。相反，如果您希望生成的图像严格遵循样式图像，请尝试为更深的层选择较小的权值，而为第一个层选择较大的权值。<br />Style特征需要多个隐藏层的activation组合，而content特征只需要一个隐藏层<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1650302274020-c2835b49-011f-483e-984a-786e5296c37c.png#clientId=u22e36c4b-b976-4&from=paste&height=126&id=u59dd21fb&originHeight=181&originWidth=993&originalType=binary&ratio=1&rotation=0&showTitle=false&size=20744&status=done&style=none&taskId=u2f7f39a3-8a2f-4f95-a130-6251f19fb93&title=&width=693.2945069860558)\n\n",
      "properties": {
        "title": "吴恩达 Convolutional Neural Networks",
        "urlname": "kzxl93",
        "author": "Jason Ma",
        "date": "2022-03-31 19:20:15",
        "updated": "2023-06-14 23:23:38"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "kzxl93"
        }
      ],
      "body": ""
    },
    {
      "id": 70121752,
      "doc_id": "xdbdqx",
      "title": "xdbdqx",
      "updated": 1686756207000,
      "body_original": "\n官网：<br />[Deep Learning](https://www.coursera.org/specializations/deep-learning#about)\n\n[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1FT4y1E74V)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647756975875-0ea729e1-85c7-4a38-80ed-15e456afa21a.png#averageHue=%23eeeceb&clientId=u703e8631-9dec-4&from=paste&height=686&id=u5e1b9fbb&originHeight=983&originWidth=1745&originalType=binary&ratio=1&rotation=0&showTitle=false&size=918771&status=done&style=none&taskId=ud36770d1-5c6f-428f-aeb2-f229288cb7d&title=&width=1218.3272051265533)\n\n<a name=\"TZ6Dw\"></a>\n# 1.2 什么是神经网络（Neural Network）\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647757561853-1f9776a2-68da-4df7-932c-cf85b200a3bf.png#averageHue=%23fcfbfd&clientId=u703e8631-9dec-4&from=paste&height=308&id=u6cc105b3&originHeight=1013&originWidth=1700&originalType=binary&ratio=1&rotation=0&showTitle=false&size=475808&status=done&style=none&taskId=u08d6c1ab-e10c-4638-937e-de774ac906a&title=&width=516.2908935546875)<br />通过一个神经元（Neuron）预测房价，这个神经元输入是面积，经过线性计算，输出不小于0的价格，也就是ReLU函数（修正线性单元，Rectified Linear Unit，修正是指取不小于0的值），这就是最简单的神经网络，大型神经网络通过堆叠神经元组成。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647758103402-00ddc09f-446e-48fb-af18-a352165d5a92.png#averageHue=%23d1d5db&clientId=u703e8631-9dec-4&from=paste&height=367&id=u10231d8e&originHeight=1031&originWidth=1677&originalType=binary&ratio=1&rotation=0&showTitle=false&size=534370&status=done&style=none&taskId=ube10efbc-2986-4c50-8f54-992433e8bc6&title=&width=596.2945556640625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647758242553-6df6a536-7572-438b-9ba1-16738873aacb.png#averageHue=%23cdd5dd&clientId=u703e8631-9dec-4&from=paste&height=723&id=u7ab8816f&originHeight=1036&originWidth=1802&originalType=binary&ratio=1&rotation=0&showTitle=false&size=631144&status=done&style=none&taskId=u40131bba-f6a4-4d6f-8122-3dc3eeafb8b&title=&width=1258.123566554756)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647758540404-37e482ff-e4ed-49b0-992b-6f6745368e62.png#averageHue=%23f7f5f3&clientId=u703e8631-9dec-4&from=paste&height=697&id=u47cd8093&originHeight=999&originWidth=829&originalType=binary&ratio=1&rotation=0&showTitle=false&size=418956&status=done&style=none&taskId=u23ce66cb-76da-4552-a69d-c707bad4cfa&title=&width=578.7926951575431)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647758557370-0130952f-8fc4-4ae6-98c5-e39c978da5b5.png#averageHue=%23fbf9f7&clientId=u703e8631-9dec-4&from=paste&height=279&id=u3287d64a&originHeight=421&originWidth=872&originalType=binary&ratio=1&rotation=0&showTitle=false&size=184599&status=done&style=none&taskId=uf22dca75-7f92-46bb-b06d-50043ab8986&title=&width=577.8145141601562)\n<a name=\"LveTK\"></a>\n# 1.3 用神经网络进行监督学习\n<a name=\"c3OaO\"></a>\n## 对不同的问题选择最合适的模型\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647767085299-322cd05d-3451-4593-8545-d35a918e292d.png#averageHue=%23e5e5e5&clientId=u703e8631-9dec-4&from=paste&height=728&id=u5ddbcb40&originHeight=1042&originWidth=1798&originalType=binary&ratio=1&rotation=0&showTitle=false&size=523511&status=done&style=none&taskId=u2458fe67-2fb0-437b-9c54-9e1de121bc5&title=&width=1255.3308394369874)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647767182316-dc207d70-cd49-46fa-8130-1120e1c5b26b.png#averageHue=%23eaeaea&clientId=u703e8631-9dec-4&from=paste&height=272&id=ucb2d1607&originHeight=1067&originWidth=1875&originalType=binary&ratio=1&rotation=0&showTitle=false&size=373435&status=done&style=none&taskId=u0d3eaa81-f54d-4b93-9c87-ad61aacc5f8&title=&width=477.28363037109375)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647767438534-83c5f9d3-f468-439b-bd40-408cf7190539.png#averageHue=%23e2e1e0&clientId=u703e8631-9dec-4&from=paste&height=315&id=u9a17dd4f&originHeight=1041&originWidth=1793&originalType=binary&ratio=1&rotation=0&showTitle=false&size=531847&status=done&style=none&taskId=ufdda3501-ca79-4003-a9d8-2732d48e4bd&title=&width=542.2945556640625)\n<a name=\"T7XxA\"></a>\n# 1.4 为什么深度学习会兴起\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647767864716-6ba41d30-22ed-4b19-bdc6-c0c4c5de06da.png#averageHue=%23e0e0df&clientId=uc64b5ae6-db0a-4&from=paste&height=755&id=u383d9ddd&originHeight=1082&originWidth=1782&originalType=binary&ratio=1&rotation=0&showTitle=false&size=508987&status=done&style=none&taskId=u4bddc18f-0f6a-4994-8c72-a7ec1bda7f4&title=&width=1244.159930965913)<br />随着人类在网络上创造的数据越来越多，收集大量数据越来越容易，并且随着投入数据的增加，大规模神经网络的性能增速要远超其他算法。同时硬件的快速发展也带动了神经网络的规模增大。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647768488217-701a2c70-ef6f-4217-b293-e6b8702b2a51.png#averageHue=%23e2e2e2&clientId=ue841acdc-a8ef-4&from=paste&height=754&id=u3f004a77&originHeight=1080&originWidth=1744&originalType=binary&ratio=1&rotation=0&showTitle=false&size=504325&status=done&style=none&taskId=u05027b4c-cc65-4f7c-be88-f348388995e&title=&width=1217.6290233471111)<br />算法的改进（比如将Logistic函数换成ReLU改进大于1时梯度过小的问题）可以提升训练速度和性能，速度的提升又能使算法迭代更快\n<a name=\"beAiP\"></a>\n# Geoffrey Hinton Interview\n[Geoffrey Hinton Interview - Introduction to Deep Learning | Coursera](https://www.coursera.org/learn/neural-networks-deep-learning/lecture/dcm5r/geoffrey-hinton-interview)<br />Geoffrey Hinton并不是第一个发明反向传播算法的人，但他的paper是第一个有显著影响力的。因为他花了大量工作让他人理解这套算法，1986年Nature的编辑里有个心理学家，Geoffrey也学过心理学，他用更直观的方式使编辑理解了算法。<br />只是埋头做研究还不够，让别人理解并接受研究成果同样重要。\n<a name=\"fmaxy\"></a>\n# 2.1 二分分类\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647774494268-738cada8-7cf4-41ea-8614-bfc92337a38d.png#averageHue=%23dedad8&clientId=ue841acdc-a8ef-4&from=paste&height=317&id=u6ac5870e&originHeight=1106&originWidth=1866&originalType=binary&ratio=1&rotation=0&showTitle=false&size=757923&status=done&style=none&taskId=u390b50bf-35a1-4f09-9f14-7c2fff8d46d&title=&width=535.2945556640625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647774753781-cce352eb-810d-44e8-b67f-a7fafb49f60a.png#averageHue=%23f0f0ef&clientId=ue841acdc-a8ef-4&from=paste&height=753&id=u984327a0&originHeight=1079&originWidth=1844&originalType=binary&ratio=1&rotation=0&showTitle=false&size=506776&status=done&style=none&taskId=u5eb4f710-a13f-4e44-9210-21eeae48839&title=&width=1287.4472012913263)<br />本课程比起ML有一些改进，X中的每个x向量改为列向量，编程环境改成python\n<a name=\"VBhby\"></a>\n# 2.2 Logistic Regression\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647775537077-9bc79e77-eaab-470e-bae0-6d5bb14d9691.png#averageHue=%23edecec&clientId=u5d0f776d-f3a8-4&from=paste&height=785&id=ud84151d9&originHeight=1125&originWidth=1850&originalType=binary&ratio=1&rotation=0&showTitle=false&size=587550&status=done&style=none&taskId=u9cc88174-2ed4-4227-bc9d-0e76499de78&title=&width=1291.636291967979)<br />这里使用新的符号表示线性计算：y=wx+b，ML课里的θ0在这里是b，更清晰了<br />2.3 Logistic<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647777512401-d712b6bd-2d97-4b40-9046-be6b7566cbb2.png#averageHue=%23e6e6e6&clientId=u5d0f776d-f3a8-4&from=paste&height=778&id=u4628359d&originHeight=1114&originWidth=1874&originalType=binary&ratio=1&rotation=0&showTitle=false&size=867178&status=done&style=none&taskId=u09a809ee-8aa7-4fb1-97a2-e59556f88e8&title=&width=1308.3926546745909)\n<a name=\"zcTqV\"></a>\n## 补充：对数几率回归\n逻辑回归（Logistic Regression）是一种广义线性回归。<br />（西瓜书里认为Logistic Regression翻译成逻辑回归不太准确，翻译成了对数几率回归）。 <br />线性回归解决的是回归问题，预测值是实数范围，逻辑回归则相反，解决的是分类问题，预测值是[0,1]范围。<br />所以逻辑回归名为回归，实为分类。<br />二分类情况下很容易理解，分类标签为0、1，预测结果在[0,1]之间，我们得到的实际上是样本为 0 或 1 的概率。\n<a name=\"HgkmE\"></a>\n# 2.4 梯度下降法\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647778547249-a83fb468-0e15-4fa2-b028-82c02075b67d.png#averageHue=%23e7e6e6&clientId=u5d0f776d-f3a8-4&from=paste&height=790&id=u689a6fa0&originHeight=1132&originWidth=1845&originalType=binary&ratio=1&rotation=0&showTitle=false&size=613063&status=done&style=none&taskId=u4760e0a3-1b25-4027-ae1e-52c943688f3&title=&width=1288.1453830707685)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647778936381-9848a026-dc02-4560-83d9-3628030d247e.png#averageHue=%23f9f9f9&clientId=u5d0f776d-f3a8-4&from=paste&height=701&id=u6d06b6d8&originHeight=1004&originWidth=1839&originalType=binary&ratio=1&rotation=0&showTitle=false&size=554873&status=done&style=none&taskId=ue02c3d67-bf1a-429d-b377-581fd049aed&title=&width=1283.9562923941155)\n<a name=\"kjKmM\"></a>\n# 2.7 计算图\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647856633065-5ff85f55-558b-47f2-9ee0-011dfbe94769.png#averageHue=%23efefef&clientId=u5ec0db54-1a12-4&from=paste&height=322&id=u11626ce0&originHeight=1091&originWidth=1865&originalType=binary&ratio=1&rotation=0&showTitle=false&size=353354&status=done&style=none&taskId=uc4bf35de-f703-4664-9dee-8259468b1a0&title=&width=550.2945556640625)<br />链式法则\n<a name=\"vXCNt\"></a>\n# 2.8 使用计算图求导\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647873559093-b202ecd1-f9a9-479e-8ac9-d20c80867cb2.png#averageHue=%23d8d7d6&clientId=u5ec0db54-1a12-4&from=paste&height=829&id=u07580c67&originHeight=1188&originWidth=1861&originalType=binary&ratio=1&rotation=0&showTitle=false&size=822114&status=done&style=none&taskId=ube1d26e9-08d7-4bce-bf4a-eefc595d79e&title=&width=1299.316291541843)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647873587607-8a7a0843-de24-4e9f-b79f-c9f5ad0094c2.png#averageHue=%23f5f2f2&clientId=u5ec0db54-1a12-4&from=paste&height=176&id=u660526be&originHeight=539&originWidth=913&originalType=binary&ratio=1&rotation=0&showTitle=false&size=182340&status=done&style=none&taskId=ub96ce81e-68c9-412a-b5ee-39617988dc2&title=&width=297.2945251464844)<br />反向传播类似链式法则，若求u关于J的偏导：dJ/du，从J出发走到u，有几条路最后就有几大项相加，同一条路每有几座桥最后就有几项相乘。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647874357963-0fab1d51-0abc-46f1-9038-ddb3ec230c2a.png#averageHue=%23fafaf9&clientId=u5ec0db54-1a12-4&from=paste&height=719&id=u91d139b9&originHeight=1030&originWidth=1860&originalType=binary&ratio=1&rotation=0&showTitle=false&size=702512&status=done&style=none&taskId=u3b3f152e-6f84-492f-a070-8b2a5e55b8e&title=&width=1298.6181097624008)<br />机器学习中的自动求导的原理是，对于每一个神经元中做的每一个最小的计算，预先算好导数，在需要求某个参数的导数时，按照链式法则从右向左反向依次将导数相乘得到结果\n\n<a name=\"g4XF1\"></a>\n## 补充：复合函数求导，链式法则\n[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1gQ4y1X7rL)\n<a name=\"d8LtL\"></a>\n## 补充：神经网络\n[[Deep Learning] 神经网络基础 - Poll的笔记 - 博客园](https://www.cnblogs.com/maybe2030/p/5597716.html)\n<a name=\"cRFXU\"></a>\n## 补充：反向传播\n[一文弄懂神经网络中的反向传播法——BackPropagation - Charlotte77 - 博客园](https://www.cnblogs.com/charlotte77/p/5629865.html)\n<a name=\"sSvvF\"></a>\n## 补充：自动求导\n[Tensorflow 是如何求导的？ - 知乎](https://www.zhihu.com/question/66200879/answer/870023448)\n\n<a name=\"ExRQh\"></a>\n# 2.9 Logistic回归中的梯度下降法\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647875697712-feecd909-ffcf-4f42-ab6b-be75536f6b32.png#averageHue=%23dbdbdb&clientId=u9e372332-f18e-4&from=paste&height=834&id=u37c29062&originHeight=1194&originWidth=1870&originalType=binary&ratio=1&rotation=0&showTitle=false&size=384132&status=done&style=none&taskId=u59bba64b-dcf8-46a4-a558-889ceabecb5&title=&width=1305.5999275568222)<br />将Logistic Regression写成神经网络的格式，第一步，对L(a,y)求导：<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647877826745-622e0618-6d4b-4709-ab6a-1bae72672620.png#averageHue=%23eeeded&clientId=u9e372332-f18e-4&from=paste&height=941&id=u432307be&originHeight=1348&originWidth=1042&originalType=binary&ratio=1&rotation=0&showTitle=false&size=138021&status=done&style=none&taskId=u6fe82c5c-37d7-4fda-bbba-f3f32c19500&title=&width=727.5054141787213)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647877841881-7a6dca18-98d7-4222-b707-b6e530f8d3b8.png#averageHue=%23fcfbfb&clientId=u9e372332-f18e-4&from=paste&height=805&id=u2bef2d0a&originHeight=1153&originWidth=1037&originalType=binary&ratio=1&rotation=0&showTitle=false&size=89577&status=done&style=none&taskId=ufb37ac28-8dc4-445c-abc2-217eead495f&title=&width=724.0145052815105)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647879056179-217b74b3-3f30-4972-b1de-6f14402228aa.png#averageHue=%23d6d4d4&clientId=u9e372332-f18e-4&from=paste&height=848&id=u2f475d45&originHeight=1214&originWidth=1870&originalType=binary&ratio=1&rotation=0&showTitle=false&size=638816&status=done&style=none&taskId=u4b7f6aa4-03e1-4d70-bcb8-9f5f0d180d6&title=&width=1305.5999275568222)<br />算好dz之后，求dwn只需和wn直接相乘就可以了，然后又是熟悉的梯度下降公式\n<a name=\"xAOyp\"></a>\n# 2.10 m个样本的梯度下降\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647879456185-0b51e7e3-74a9-42d4-ac44-43c83d8dddfb.png#averageHue=%23d6d6d6&clientId=u9e372332-f18e-4&from=paste&height=865&id=u49ae5df3&originHeight=1239&originWidth=1874&originalType=binary&ratio=1&rotation=0&showTitle=false&size=476294&status=done&style=none&taskId=ub9b19041-56e1-4e33-b3a7-01f6d488101&title=&width=1308.3926546745909)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647879732396-e2c76ba5-c034-47a8-b6a8-bbecb39d90e1.png#averageHue=%23dedddd&clientId=u9e372332-f18e-4&from=paste&height=834&id=u731368fa&originHeight=1194&originWidth=1798&originalType=binary&ratio=1&rotation=0&showTitle=false&size=640967&status=done&style=none&taskId=u8bd1e7cc-63eb-427c-a55e-b96015b80ac&title=&width=1255.3308394369874)<br />不使用向量化的单次梯度下降逻辑\n<a name=\"fbVch\"></a>\n# 2.11 向量化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881019391-7b195ad5-bbd2-4aed-9531-f2a0ef7cb852.png#averageHue=%23cdcdcd&clientId=u9e372332-f18e-4&from=paste&height=852&id=u2f44d1af&originHeight=1221&originWidth=1870&originalType=binary&ratio=1&rotation=0&showTitle=false&size=444290&status=done&style=none&taskId=ua4b2421e-a0e8-418f-a95b-820e469209c&title=&width=1305.5999275568222)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881044172-0d764aa7-13d4-483a-a303-dc1743175b37.png#averageHue=%23dadada&clientId=u9e372332-f18e-4&from=paste&height=851&id=u1f1ec886&originHeight=1219&originWidth=1866&originalType=binary&ratio=1&rotation=0&showTitle=false&size=439658&status=done&style=none&taskId=u249b9c62-c6c2-4973-ab3b-04b906736a6&title=&width=1302.8072004390535)\n<a name=\"BqOi2\"></a>\n# 2.12 向量化更多例子\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881183703-53236986-3d64-4fcb-b80f-7195c9482547.png#clientId=u9e372332-f18e-4&from=paste&height=851&id=u32a91830&originHeight=1219&originWidth=1867&originalType=binary&ratio=1&rotation=0&showTitle=false&size=440137&status=done&style=none&taskId=ucafa1753-6fa4-407f-af04-f4ad37c84b7&title=&width=1303.5053822184957)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881267249-bad3a371-dcdf-43b6-a96b-ff7b8528f7dc.png#clientId=u9e372332-f18e-4&from=paste&height=844&id=uef2ad90d&originHeight=1209&originWidth=1872&originalType=binary&ratio=1&rotation=0&showTitle=false&size=600917&status=done&style=none&taskId=ue9a4a355-6d27-443b-b0d2-e04cb5d7132&title=&width=1306.9962911157065)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881349484-d1c52ae1-1c19-4cfd-833b-da3dafc32ee4.png#clientId=u9e372332-f18e-4&from=paste&height=852&id=u6042e8f3&originHeight=1221&originWidth=1869&originalType=binary&ratio=1&rotation=0&showTitle=false&size=624496&status=done&style=none&taskId=u14aa1fcb-2839-4b03-ac80-7c717fc218b&title=&width=1304.90174577738)\n<a name=\"DQK68\"></a>\n# 2.13 向量化Logistic回归\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881551258-c4acf98e-3c37-45df-8694-6b34691ef206.png#clientId=u9e372332-f18e-4&from=paste&height=853&id=ufe4f10ef&originHeight=1222&originWidth=1869&originalType=binary&ratio=1&rotation=0&showTitle=false&size=837970&status=done&style=none&taskId=uad1e5630-c48e-4f2e-81f6-d05193e4266&title=&width=1304.90174577738)\n<a name=\"kuQYi\"></a>\n# 2.14 向量化Logistic回归的梯度输出\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881757744-945b0f4d-5955-4ab1-85de-6ec00a4e2b9a.png#clientId=u9e372332-f18e-4&from=paste&height=719&id=uc5b24bb7&originHeight=1030&originWidth=1862&originalType=binary&ratio=1&rotation=0&showTitle=false&size=801436&status=done&style=none&taskId=uaaa5e8db-5e96-42c3-b037-c9e5f3d680c&title=&width=1300.014473321285)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647881833990-7517a9e3-8a19-4747-b557-b3588003ba7a.png#clientId=u9e372332-f18e-4&from=paste&height=849&id=u35f89e17&originHeight=1216&originWidth=1867&originalType=binary&ratio=1&rotation=0&showTitle=false&size=699839&status=done&style=none&taskId=u21506bd6-55d2-4ab6-bf87-82a348b4daf&title=&width=1303.5053822184957)\n<a name=\"o2tcr\"></a>\n# 2.15 Python中的广播\n[https://www.runoob.com/numpy/numpy-broadcast.html](https://www.runoob.com/numpy/numpy-broadcast.html)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647882126382-809dbec0-d78b-4833-9419-234c931ec465.png#clientId=u9e372332-f18e-4&from=paste&height=734&id=u0344845a&originHeight=1051&originWidth=1866&originalType=binary&ratio=1&rotation=0&showTitle=false&size=671987&status=done&style=none&taskId=ub9a84de5-a8bf-4532-ae79-b1e63a3a4fe&title=&width=1302.8072004390535)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647882166305-25085594-666c-476f-98ad-7ac61ec4bebb.png#clientId=u9e372332-f18e-4&from=paste&height=718&id=u4fe1a59c&originHeight=1029&originWidth=1871&originalType=binary&ratio=1&rotation=0&showTitle=false&size=420579&status=done&style=none&taskId=u75e1dd04-ae5d-4ab8-87fe-976ad615af7&title=&width=1306.2981093362644)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647882226802-5f92d7a7-1df7-4f21-b437-2cb0fc497f15.png#clientId=u9e372332-f18e-4&from=paste&height=734&id=ua949cd38&originHeight=1052&originWidth=1871&originalType=binary&ratio=1&rotation=0&showTitle=false&size=274870&status=done&style=none&taskId=u3ac9fb02-29e7-4dfc-9dd3-fe23430f161&title=&width=1306.2981093362644)\n<a name=\"dn25e\"></a>\n# 2.16 关于Numpy向量的说明\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647882423781-814d787a-5480-4e34-9f3e-62f511dda28f.png#clientId=u9e372332-f18e-4&from=paste&height=806&id=ud19a7f8e&originHeight=1155&originWidth=1872&originalType=binary&ratio=1&rotation=0&showTitle=false&size=486120&status=done&style=none&taskId=uc025ecda-8712-494a-b60e-0d316583dba&title=&width=1306.9962911157065)<br />不要使用数组，始终用明确行列的矩阵，并适时使用assert确保shape是预期的，否则会产生各种难以调试的bug\n<a name=\"lOJAM\"></a>\n# 2.18 Logistic代价函数的解释\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647882704195-0d796f2c-2bc7-4d5b-8ed2-b158a5d7db87.png#clientId=u9e372332-f18e-4&from=paste&height=730&id=uc9923304&originHeight=1046&originWidth=1868&originalType=binary&ratio=1&rotation=0&showTitle=false&size=605680&status=done&style=none&taskId=u2ee8195b-7982-4a09-bfab-cc3f11ff04b&title=&width=1304.2035639979379)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647882786602-60e0844e-c4b1-4179-bbaf-998a7c51fad7.png#clientId=u9e372332-f18e-4&from=paste&height=848&id=ufc00f0e2&originHeight=1214&originWidth=1868&originalType=binary&ratio=1&rotation=0&showTitle=false&size=496017&status=done&style=none&taskId=ue653595c-a9b1-4162-8608-337765ff2d1&title=&width=1304.2035639979379)<br />最大似然估计、加log方便求导\n<a name=\"qJpw3\"></a>\n## 补充：交叉熵代价函数\n交叉熵（cross-entropy）<br />![](https://i.stack.imgur.com/LSVEc.png#from=url&id=fkQm6&originHeight=80&originWidth=288&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />[看得见的信息论-为什么用交叉熵作为逻辑回归的代价函数](https://zhuanlan.zhihu.com/p/31207556)<br />[逻辑回归与交叉熵](https://zhuanlan.zhihu.com/p/38853901)\n<a name=\"cpMID\"></a>\n# 3.1 神经网络概览\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647930261529-a1dea008-440b-4961-ba4f-16fda4ec5fd2.png#clientId=u22ce77e0-d0fc-4&from=paste&height=741&id=ue51e6412&originHeight=1061&originWidth=1878&originalType=binary&ratio=1&rotation=0&showTitle=false&size=562393&status=done&style=none&taskId=u3f1b213d-31b1-4e32-aa91-6d0ec45a460&title=&width=1311.1853817923595)<br />方括号表示Leyer，圆括号表示第几个样本\n<a name=\"A5hJh\"></a>\n# 3.2 神经网络表示\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647930596696-7f80ec11-dc49-407d-aaf2-8dcd0adcaf0d.png#clientId=u22ce77e0-d0fc-4&from=paste&height=721&id=u018869c1&originHeight=1032&originWidth=1879&originalType=binary&ratio=1&rotation=0&showTitle=false&size=602934&status=done&style=none&taskId=u7614202e-410a-4183-bab6-a7caafc2223&title=&width=1311.8835635718015)<br />这是一个双层神经网络的表示，一般忽略输入层，所以有实际计算的是隐藏层和输出层两层。<br />之前的X现在=a^[0]，预测结果y hat = a^[2]\n<a name=\"ryeAQ\"></a>\n# 3.3 计算神经网络的输出\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647931016827-c397980b-73bd-4470-ad27-aca719d5e656.png#clientId=u22ce77e0-d0fc-4&from=paste&height=739&id=ufb329aa7&originHeight=1058&originWidth=1887&originalType=binary&ratio=1&rotation=0&showTitle=false&size=499001&status=done&style=none&taskId=u272d3325-95a4-4674-b51b-7393aae4957&title=&width=1317.4690178073388)<br />方括号上标表示第几层，下标表示第几个节点<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647931889524-dce48363-767b-4ff8-ad6e-8212dcae29f1.png#clientId=u22ce77e0-d0fc-4&from=paste&height=726&id=uf0556e70&originHeight=1040&originWidth=1875&originalType=binary&ratio=1&rotation=0&showTitle=false&size=934415&status=done&style=none&taskId=u3adfeead-2a13-45a0-9d78-693236cb20f&title=&width=1309.090836454033)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647932006146-257d9937-ecbc-48cc-b240-9cbef8730084.png#clientId=u22ce77e0-d0fc-4&from=paste&height=827&id=u7255e7dd&originHeight=1185&originWidth=1882&originalType=binary&ratio=1&rotation=0&showTitle=false&size=737834&status=done&style=none&taskId=u1ae43eee-527e-4a97-898e-909349f45bf&title=&width=1313.978108910128)\n<a name=\"YHE5q\"></a>\n# 3.4 多个样本的向量化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647932205586-540ed580-a9db-4ec7-b9d5-0a8e4a006186.png#clientId=u22ce77e0-d0fc-4&from=paste&height=718&id=uc26eff21&originHeight=1028&originWidth=1855&originalType=binary&ratio=1&rotation=0&showTitle=false&size=635612&status=done&style=none&taskId=ua8959a3a-306f-4974-99cb-743120408ae&title=&width=1295.12720086519)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647933526877-25e79d36-55c0-4458-9c0f-de091f2ed549.png#clientId=u22ce77e0-d0fc-4&from=paste&height=711&id=u5c01f42c&originHeight=1018&originWidth=1840&originalType=binary&ratio=1&rotation=0&showTitle=false&size=702216&status=done&style=none&taskId=u8f6c65c6-c9ad-467d-976b-1ca748f9076&title=&width=1284.6544741735577)\n<a name=\"HizKD\"></a>\n# 3.5 向量化的解释\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647933985430-6b1e284a-17ef-4936-80b7-e0c1208178d4.png#clientId=u22ce77e0-d0fc-4&from=paste&height=733&id=u9e453a83&originHeight=1050&originWidth=1876&originalType=binary&ratio=1&rotation=0&showTitle=false&size=650820&status=done&style=none&taskId=u45e2fda8-a0bc-40d5-a0c9-aba4dcc5fc5&title=&width=1309.7890182334752)<br />矩阵两个维度，第几个参数/节点，第几个样本<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647935229648-9002bea8-6539-4012-afcd-ba9c42bce379.png#clientId=u22ce77e0-d0fc-4&from=paste&height=715&id=u499b7878&originHeight=1024&originWidth=1876&originalType=binary&ratio=1&rotation=0&showTitle=false&size=595552&status=done&style=none&taskId=ua37ab483-31f8-4471-b086-0efb563c0b2&title=&width=1309.7890182334752)\n<a name=\"CHOiE\"></a>\n# 3.6 激活函数\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647935895429-a46da5aa-9a1b-4215-bf6c-1b410d9dbf67.png#clientId=u22ce77e0-d0fc-4&from=paste&height=919&id=u6b3d1e00&originHeight=1316&originWidth=1875&originalType=binary&ratio=1&rotation=0&showTitle=false&size=833034&status=done&style=none&taskId=uaac855a7-b173-4fe4-9c75-85806a063de&title=&width=1309.090836454033)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647937365698-dfbaa901-07fc-4671-ad5b-9f898cbf4196.png#clientId=u22ce77e0-d0fc-4&from=paste&height=716&id=ubd6f82ba&originHeight=1026&originWidth=1850&originalType=binary&ratio=1&rotation=0&showTitle=false&size=354778&status=done&style=none&taskId=uc3c4abd5-d1d7-4f31-9e8f-1b17b1e53f2&title=&width=1291.636291967979)<br />激活函数（Activation Function）<br />[深度学习领域最常用的10个激活函数，一文详解数学原理及优缺点](https://finance.sina.com.cn/tech/2021-02-24/doc-ikftssap8455930.shtml)<br />Sigmoid函数适合用在二元分类最后的output节点中，非要用在隐藏层的话应该选择tanh函数，因为平均值更接近0，梯度下降更快。<br />目前最流行的是ReLU函数，因为大于0时梯度为1，梯度下降更快，可以直接在隐藏层中替换掉Sigmoid。<br />Leaky ReLU弥补了小于0梯度为0的缺点\n<a name=\"MY5Se\"></a>\n# 3.7 为什么需要非线性激活函数\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647938468510-2558388b-ba79-45c1-8044-9fe60deb24e1.png#clientId=u22ce77e0-d0fc-4&from=paste&height=730&id=u566efea6&originHeight=1045&originWidth=1874&originalType=binary&ratio=1&rotation=0&showTitle=false&size=652517&status=done&style=none&taskId=ud0fdc484-fb9e-43f9-b950-c2465613f0e&title=&width=1308.3926546745909)<br />线性激活函数是指输出直接等于输入，a=z，这会导致y hat就等于这些线性计算的组合，还是个线性函数，那么无论有多少层和一层是等效的。只能解决线性可分问题，如果要解决线性不可分问题就必须使用非线性激活函数\n<a name=\"eOE4t\"></a>\n# 3.8 激活函数的导数\n<a name=\"DkgE1\"></a>\n## Sigmoid\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647966312786-2815b7b0-fea5-4b8f-ab2f-601c08f455c9.png#clientId=u22ce77e0-d0fc-4&from=paste&height=852&id=uc1833e22&originHeight=1221&originWidth=1886&originalType=binary&ratio=1&rotation=0&showTitle=false&size=569234&status=done&style=none&taskId=u35ef9b40-3dea-42b1-a76f-2745ddee4cc&title=&width=1316.7708360278966)<br />关于g'=g(1-g)：<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647965416766-9ccdb5b6-034f-44fc-b291-48c5d50395a7.png#clientId=u22ce77e0-d0fc-4&from=paste&height=921&id=u7b4e308a&originHeight=1319&originWidth=1010&originalType=binary&ratio=1&rotation=0&showTitle=false&size=109717&status=done&style=none&taskId=u2138818c-5cda-45aa-a5b2-3924eca41af&title=&width=705.1635972365724)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647965426749-daddf520-9966-4900-ae4a-330d8d7684e5.png#clientId=u22ce77e0-d0fc-4&from=paste&height=721&id=u3b8ef3f5&originHeight=1032&originWidth=988&originalType=binary&ratio=1&rotation=0&showTitle=false&size=71887&status=done&style=none&taskId=u96011e43-3024-4c9f-bc31-9ab8753071f&title=&width=689.8035980888451)<br />![](https://cdn.nlark.com/yuque/__latex/d4cba2dfd06a707c85fd3a0b2c8794e7.svg#card=math&code=%20%5Cbegin%7Barray%7D%7Bl%7D%0A%5Cfrac%7Bd%7D%7Bdx%7D%5Cfrac%7B1%7D%7B1%2Be%5E%7B-x%7D%7D%5C%5C%0A%3D%5Cfrac%7B1%7D%7B1%2Be%5E%7B-x%7D%7D%5Cfrac%7Be%5E%7B-x%7D%7D%7B1%2Be%5E%7B-x%7D%7D%5C%5C%0A%3D%5Cfrac%7B1%7D%7B1%2Be%5E%7B-x%7D%7D%5Cleft%28%5Cfrac%7B1%2Be%5E%7B-x%7D%7D%7B1%2Be%5E%7B-x%7D%7D%20-%5Cfrac%7B1%7D%7B1%2Be%5E%7B-x%7D%7D%5Cright%29%5C%5C%0A%3D%5Cfrac%7B1%7D%7B1%2Be%5E%7B-x%7D%7D%5Cleft%28%201-%5Cfrac%7B1%7D%7B1%2Be%5E%7B-x%7D%7D%5Cright%29%0A%5Cend%7Barray%7D&id=XqEvn)\n<a name=\"LxUUy\"></a>\n## Tanh\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647966725289-a7889ad2-786e-46be-82c1-05b855e7bc13.png#clientId=u22ce77e0-d0fc-4&from=paste&height=849&id=uba075751&originHeight=1216&originWidth=1880&originalType=binary&ratio=1&rotation=0&showTitle=false&size=462810&status=done&style=none&taskId=u00cb0920-51a9-49d0-9671-ea8180807fa&title=&width=1312.5817453512436)<br />g'=1-g^2\n<a name=\"OToDR\"></a>\n## ReLU and Leaky ReLU\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647966819817-0440c718-2c86-4e9c-a1b8-9889f73b8715.png#clientId=u22ce77e0-d0fc-4&from=paste&height=729&id=u4632d57b&originHeight=1044&originWidth=1878&originalType=binary&ratio=1&rotation=0&showTitle=false&size=341453&status=done&style=none&taskId=u5dfcd887-a874-49d4-821f-aa6aea5e2cf&title=&width=1311.1853817923595)<br />这里的激活函数的导数很明显是预先计算好最优的，为了节省计算量尽可能复用正向传播的计算结果\n<a name=\"ZmkjP\"></a>\n# 3.9 神经网络梯度下降\n[一文弄懂神经网络中的反向传播法——BackPropagation - Charlotte77 - 博客园](https://www.cnblogs.com/charlotte77/p/5629865.html)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647967117059-93d9b075-bba4-4c37-b1c7-bd82371cb715.png#clientId=u22ce77e0-d0fc-4&from=paste&height=797&id=uc0a66644&originHeight=1142&originWidth=1876&originalType=binary&ratio=1&rotation=0&showTitle=false&size=569067&status=done&style=none&taskId=ucac40571-024c-43c7-a019-19bd9ed370f&title=&width=1309.7890182334752)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647968823454-dae6bbf3-e1f3-4e9f-bbf0-547c25b97528.png#clientId=u22ce77e0-d0fc-4&from=paste&height=697&id=u03ffa7e8&originHeight=999&originWidth=1878&originalType=binary&ratio=1&rotation=0&showTitle=false&size=705974&status=done&style=none&taskId=u2771fa86-0b01-4fb2-a706-5e532aa2d06&title=&width=1311.1853817923595)<br />反向传播上面的博客讲的很清楚了，还是要带入数值计算\n<a name=\"n75MG\"></a>\n# 3.10 直观理解反向传播\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647969937111-d2ccceab-15f7-4e0f-85a1-0554eb70da4e.png#clientId=u22ce77e0-d0fc-4&from=paste&height=823&id=u912b6e30&originHeight=1179&originWidth=1878&originalType=binary&ratio=1&rotation=0&showTitle=false&size=620329&status=done&style=none&taskId=u6650ca31-75a6-4987-9d52-f2aae16f48c&title=&width=1311.1853817923595)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647970453320-ff1bdde4-c16d-4d37-b76e-afea1038a157.png#clientId=u22ce77e0-d0fc-4&from=paste&height=737&id=ubaa690e2&originHeight=1056&originWidth=1888&originalType=binary&ratio=1&rotation=0&showTitle=false&size=830099&status=done&style=none&taskId=u80e0887b-0242-4eb7-928f-07a18fce8ca&title=&width=1318.167199586781)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647970560424-1922efda-ffc5-4dba-b524-1de204c8335c.png#clientId=u22ce77e0-d0fc-4&from=paste&height=731&id=ue3a69104&originHeight=1047&originWidth=1879&originalType=binary&ratio=1&rotation=0&showTitle=false&size=420107&status=done&style=none&taskId=u2731e07d-5fa4-4828-be85-2d17197cc8e&title=&width=1311.8835635718015)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647970676239-07edb00a-f79f-4005-ab5d-9a6f5027694a.png#clientId=u22ce77e0-d0fc-4&from=paste&height=731&id=ub14efd22&originHeight=1047&originWidth=1876&originalType=binary&ratio=1&rotation=0&showTitle=false&size=519862&status=done&style=none&taskId=ua67d6c39-fc82-4996-8b9f-5f9bc8251ce&title=&width=1309.7890182334752)<br />目前只是求导\n<a name=\"kABJD\"></a>\n# 3.11 随机初始化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647971085437-7fcbc12f-4f87-4468-8f03-fe4a5527c111.png#clientId=u22ce77e0-d0fc-4&from=paste&height=852&id=ub8d216d4&originHeight=1220&originWidth=1881&originalType=binary&ratio=1&rotation=0&showTitle=false&size=578502&status=done&style=none&taskId=ub645fa1d-8cbf-4893-b7b1-f1fb6658155&title=&width=1313.2799271306858)<br />如果并排的神经元的权重相同，则两个神经元的函数相同，出现对称，会影响梯度下降。<br />全部初始化为0则所有神经元的计算是一样的，对结果的共享一样，无论梯度下降运行多久，所有神经元的仍然进行一样的计算<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647971576973-9008db3c-5f45-4c61-8e9d-ec2c07aedfa0.png#clientId=u22ce77e0-d0fc-4&from=paste&height=855&id=ua82b1896&originHeight=1225&originWidth=1882&originalType=binary&ratio=1&rotation=0&showTitle=false&size=467130&status=done&style=none&taskId=ud54b7a70-a5e8-42c8-b0a5-402794e0bf5&title=&width=1313.978108910128)<br />初始参数太大可能导致分类算法的激活函数落在梯度接近0的部分，会减慢梯度下降速度，神经网络越深，初始值应该越小\n<a name=\"u0RHk\"></a>\n# Pieter Abbeel Interview\n深度强化学习应用前景广阔，比如让机器人学习叠衣服、走路等等，并且是无监督学习。还可以用在根据屏幕像素打游戏上\n<a name=\"ocOir\"></a>\n# 4.1 深层神经网络\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648128573788-c9b4428c-5980-4bb2-a7c4-00854c1aa195.png#clientId=uf4a6a742-1dde-4&from=paste&height=363&id=ue4845559&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1075299&status=done&style=none&taskId=u77e4c70d-8789-48e4-bf61-519eb9c3f72&title=&width=654)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648128945517-f475ad8a-60cb-4c20-97ea-166c939afad6.png#clientId=uf4a6a742-1dde-4&from=paste&height=889&id=u4c1f8dd5&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1006869&status=done&style=none&taskId=u30918004-0800-4d5a-aef0-968627ce807&title=&width=1600)<br />方括号上标代表神经网络层数，n代表当前层有几个神经元\n<a name=\"feMjW\"></a>\n# 4.2 深层网络中的正向传播\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648132619132-7f99486d-8204-4dfd-90a2-f0025ec2f56f.png#clientId=uf4a6a742-1dde-4&from=paste&height=889&id=u007e59a0&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1612746&status=done&style=none&taskId=u7a5eb4bc-453f-49af-ac07-965182dd324&title=&width=1600)\n<a name=\"YrovJ\"></a>\n# 4.3 检查矩阵的维度\n实现深层神经网络的时候一定要注意矩阵的维度，可以用纸和注释记录并检查<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648183683105-869d91bd-16d1-45ae-a97b-c36b88d1346e.png#clientId=u00caddac-c019-4&from=paste&height=889&id=u28ef6a80&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1407384&status=done&style=none&taskId=ud2a84d73-3b20-4a12-a994-2a7e217c0fe&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648184087161-ee556936-82d1-4b5c-9bb2-05f3d11e5ccc.png#clientId=u00caddac-c019-4&from=paste&height=889&id=u3133503e&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1075809&status=done&style=none&taskId=u941d0aa8-f70e-4118-8a23-3548fbf3ff4&title=&width=1600)<br />L是第几层，m是样本数，n是每层节点数<br />z = wx+b<br />a = Activision(z)<br />维度：<br />z、a：（n[L], n[L-1]）<br />Z、A：（n[L], m）<br />x：（n[L-1], 1）<br />X：（n[L-1], m）<br />b：（n[L], 1）广播到（n[L], m）\n<a name=\"Fhg9I\"></a>\n# 4.4 为什么使用深度表示\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648185236323-eacc27b0-b598-4745-b04f-22ffc5cd911a.png#clientId=u00caddac-c019-4&from=paste&height=889&id=ueb10944d&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1076039&status=done&style=none&taskId=ub49b6c7a-33c6-48f0-a3ab-bd4da83b89c&title=&width=1600)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648185465918-7f8a2db1-d921-4aeb-8e0d-1a5d138577cd.png#clientId=u00caddac-c019-4&from=paste&height=889&id=ub5740ddb&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1245276&status=done&style=none&taskId=u08c8fc27-8f43-4ad6-9696-28c9f5426a1&title=&width=1600)<br />神经网络将复杂的问题**分而治之**，如果要识别人脸，则先识别边缘，用边缘组合成局部，再组合成鼻子眼睛，最后组合成人脸。电路设计中也有同样的现象，同一个函数，如果用多个隐藏层实现，使用的门的数量是O(logn)，而只用一层需要的门的数量是O(2^n)，相当于穷举法\n<a name=\"LwQWz\"></a>\n# 4.5 搭建神经网络基础组成部分\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648190057129-261709e4-39fa-43e3-a169-da4feb06358e.png#clientId=u00caddac-c019-4&from=paste&height=889&id=u84c541cf&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1034586&status=done&style=none&taskId=u160d1cfa-2272-4aa0-9cfa-60d3b2f6ee5&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648190461898-52bd53e9-f977-416f-bd62-1ce5b7646674.png#clientId=u00caddac-c019-4&from=paste&height=889&id=u46a6c64d&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1028744&status=done&style=none&taskId=uca102a9f-f0ae-4047-893c-a373e7bbb4b&title=&width=1600)<br />将之前单层神经元的计算封装成可复用的模块\n<a name=\"sWilG\"></a>\n# 4.6 前向和反向传播\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648190693239-ff48872d-ace2-4030-9374-da957206043c.png#clientId=u00caddac-c019-4&from=paste&height=889&id=ufe6cc4ba&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=776856&status=done&style=none&taskId=u6dad6870-7562-45e0-b59b-2066a96964c&title=&width=1600)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648192026781-f6133378-82e0-4131-8d9d-d5085127237e.png#clientId=u00caddac-c019-4&from=paste&height=889&id=u71622e3c&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1194828&status=done&style=none&taskId=u1b8437e5-12d9-421e-9ac3-8057730a35b&title=&width=1600)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648192299715-a7bfb9a1-1b2d-4cbe-9dc2-e2baf925d77c.png#clientId=u00caddac-c019-4&from=paste&height=889&id=uae950a5b&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=867505&status=done&style=none&taskId=udb4c8b09-3333-4097-bb0d-7b770b405ec&title=&width=1600)<br />传播算法流程图<br />正向输入样本X，输出预测y hat和cost<br />反向输入da对于J的导数，中间模块输出每个元素的导数和上一层的da<br />中间模块可以任意修改层数L和每层神经元数n\n<a name=\"sWJyw\"></a>\n# 4.7 参数vs超参数\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648196689350-a0c24d8d-68bc-4135-85a3-73f44c24c83a.png#clientId=u00caddac-c019-4&from=paste&height=889&id=uf62f78c1&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=587436&status=done&style=none&taskId=u1fa121c1-3a30-4941-88b6-299d153906b&title=&width=1600)<br />超参数（Hyper Parameters）指影响W、b参数的参数，比如Iterations、Learning Rate、Layers<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648196955804-f2eaa57a-9a7c-4d44-a526-b3974679364e.png#clientId=u00caddac-c019-4&from=paste&height=889&id=uc0367004&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=798973&status=done&style=none&taskId=u78dd285c-ccd0-42ac-b747-ecfbde26e8b&title=&width=1600)<br />超参数的设置目前主要基于经验，多尝试几次，选择最适合自己的\n<a name=\"eyT1r\"></a>\n# 4.8 这与大脑有什么关系\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648197267528-30ea7cca-2890-4230-a7d6-30a4abe78f66.png#clientId=u00caddac-c019-4&from=paste&height=486&id=u9d255103&originHeight=759&originWidth=1124&originalType=binary&ratio=1&rotation=0&showTitle=false&size=93801&status=done&style=none&taskId=ud347994d-03cd-402c-950a-0234ac174d6&title=&width=719.36)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648197496897-745068e8-13c7-4fd4-9058-59ac961edebc.png#clientId=u00caddac-c019-4&from=paste&height=889&id=u83e347a3&originHeight=1389&originWidth=2500&originalType=binary&ratio=1&rotation=0&showTitle=false&size=952727&status=done&style=none&taskId=ud53d111e-0fec-4d0f-b347-e919eb7c368&title=&width=1600)<br />目前对大脑的研究还远远不足以解释神经元的学习原理，神经网络是对生物神经元的过度简化，他们之间一点都不像\n<a name=\"BOGAN\"></a>\n# 4.9 作业：一步步构建深度神经网络\n![final outline.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648206674221-ff0016b3-9977-40a2-a93b-f228dfab6185.png#clientId=u8a0ea10d-8d0a-4&from=paste&height=614&id=u4eda0fe8&originHeight=960&originWidth=1296&originalType=binary&ratio=1&rotation=0&showTitle=false&size=440402&status=done&style=none&taskId=uf76d84a2-fa5c-4b56-a629-ca9e636073f&title=&width=829.44)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1648218222620-a2c2a19c-8b90-40f4-a384-3613b1f8ec61.png#clientId=u8a0ea10d-8d0a-4&from=paste&height=548&id=udbe39a62&originHeight=856&originWidth=1577&originalType=binary&ratio=1&rotation=0&showTitle=false&size=144897&status=done&style=none&taskId=u8aa1df69-7a5a-48b1-8204-157ed3311ae&title=&width=1009.28)\n<a name=\"uhCNq\"></a>\n# 采访lan Goodfellow\n花书作者之一，GAN创始人，早期研究神经学<br />GAN是目前深度学习的中心，机器学习算法的安全性很重要\n\n\n\n\n\n",
      "properties": {
        "title": "吴恩达 Neural Networks and Deep Learning deeplearning.ai",
        "urlname": "xdbdqx",
        "author": "Jason Ma",
        "date": "2022-03-19 18:28:15",
        "updated": "2023-06-14 23:23:27"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "xdbdqx"
        }
      ],
      "body": ""
    },
    {
      "id": 56599362,
      "doc_id": "aoqhq0",
      "title": "aoqhq0",
      "updated": 1689519335000,
      "body_original": "---<br />tags:\n\n- Shader\n\n---\n\n作为TA，在做各种特殊材质时经常会用到Depth和Normal Buffer，以及Depth转WorldPos / Normal等等操作，趁编译引擎时在这里做个笔记，包含UE和Unity中一些常用的代码片段方便日后查阅。\n\n相关知识这篇文章中有非常详细的介绍，如有重复不再赘述，如有疑问或疏漏欢迎提出。<br />[Unity Shader-深度相关知识总结与效果实现（LinearDepth，Reverse Z，世界坐标重建，软粒子，高度雾，运动模糊，扫描线效果）_puppet_master的博客-CSDN博客](https://blog.csdn.net/puppet_master/article/details/77489948?tdsourcetag=s_pctim_aiomsg)\n<a name=\"TIU6U\"></a>\n## Depth to World Position\n方法有很多，这里只记录最方便且通用的逆矩阵方式，如果需要更高性能可以参考射线插值的方法。\n<a name=\"pXXZ7\"></a>\n### Unity\n// TODO\n<a name=\"TaPls\"></a>\n### UE\nCustom Node Code：\n```cpp\n// Input ScreenPos (or ClipPos) : min -1 max 1, LinearDepth : View Space Z \nfloat4 HomogeneousWorldPosition = mul(float4(ScreenPos * LinearDepth, LinearDepth, 1), View.ScreenToWorld); \nAbsoluteWorldPos = HomogeneousWorldPosition.xyz / HomogeneousWorldPosition.w; \n```\n\n\n<a name=\"Gxjo6\"></a>\n## World Position to Depth\n所谓的Depth代码中常见的分为LinearDepth和DeviceDepth（Unity中的EyeDepth）。<br />LinearDepth顾名思义直接等于ViewSpace的线性深度，Min/Max分别为Near/Far Clip Plane，需要注意浮点精度问题，某些情况下可能需要abs()。<br />DeviceDepth（EyeDepth）是指经过投影变换后的Depth，也就是ClipPos.z，一些常见的知识点在上面的参考文章中都有非常详细的总结。\n<a name=\"KczHL\"></a>\n### Unity\n// TODO\n<a name=\"JpJMc\"></a>\n### UE\n```cpp\nfloat3 RelativeWorldPos = AbsoluteWorldPos + View.PreViewTranslation;\nfloat3 ViewPos = mul(float4(RelativeWorldPos, w), View.TranslatedWorldToView).xyz;\nfloat4 ClipPos = mul(float4(ViewPos, w), View.ViewToClip);\nClipPos = ClipPos / ClipPos.w;\nLinearDepth = ViewPos.z;\nDeviceDepth = ClipPos.z;\n```\n<a name=\"IStoH\"></a>\n## World Position to Normal\n详细可以参考以下文章：<br />[Improved normal reconstruction from depth](https://wickedengine.net/2019/09/22/improved-normal-reconstruction-from-depth/)<br />这里只介绍使用ddxy重建法线，故只能在Fragment Shader使用，且没有插值。\n\n<a name=\"jqVEf\"></a>\n### World Space\n```cpp\nWorldNormal = normalize(cross(ddx(WorldPos), ddy(WorldPos))); \n```\n<a name=\"uqmDA\"></a>\n### Transform to Tangent Space\nShader中一旦涉及Tangent Space或Normal Map，那肯定离不开float3x3 TangentToWorld矩阵，TangentToWorld的[0]、[1]、[2]分别对应World Space的Tangent、Binormal、Normal，也就是TBN矩阵（UE中称为BTN，但实际值是一样的）。<br />TBN是正交矩阵，故有以下用法：\n\n- Tangent to World：mul(TangentDir, TBN)（左乘） == mul(transpose(TBN), TangentDir) （右乘）\n- World to Tangent：mul(WorldDir, transpose(TBN))（左乘） == mul(TBN, WorldDir) （右乘）\n```cpp\nTangentNormal = mul(TBN, WorldNormal); \n```\n等同于：<br />![](https://cdn.nlark.com/yuque/0/2023/webp/504873/1680166725229-ce0f6941-bd77-48a4-b9ab-c958a487e518.webp#averageHue=%234e5a42&clientId=u81c887a4-9a0e-4&from=paste&id=uca2dabdc&originHeight=141&originWidth=346&originalType=url&ratio=1.25&rotation=0&showTitle=false&status=done&style=none&taskId=ufd2869d0-a06e-4002-8d45-d71542d278f&title=)\n\n<a name=\"BMgGT\"></a>\n## Depth to Normal（？）\n<a name=\"xV3AG\"></a>\n## <br />Height to Normal\n如无必要，勿增实体——不要重复造轮子。\n\n<a name=\"OIMRe\"></a>\n### Unity\n[Normal From Height Node | Shader Graph | 6.9.2](https://docs.unity3d.com/Packages/com.unity.shadergraph@6.9/manual/Normal-From-Height-Node.html)\n<a name=\"vSSMW\"></a>\n### UE\n![](https://cdn.nlark.com/yuque/0/2023/webp/504873/1680167123004-b2181305-3c04-4e7e-a3a1-7c49a642f1b3.webp#averageHue=%23544c3b&clientId=u81c887a4-9a0e-4&from=paste&id=ue39630d9&originHeight=714&originWidth=1440&originalType=url&ratio=1.25&rotation=0&showTitle=false&status=done&style=none&taskId=u0b683442-f75b-468a-9855-dcf33755f26&title=)\n",
      "properties": {
        "title": "HLSL法线、高度、深度、世界坐标互转",
        "urlname": "aoqhq0",
        "author": "Jason Ma",
        "date": "2021-11-03 10:23:21",
        "updated": "2023-07-16 22:55:35",
        "tags": [
          "Shader"
        ]
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "aoqhq0"
        }
      ],
      "body": ""
    },
    {
      "id": 68289742,
      "doc_id": "dmfp4g",
      "title": "dmfp4g",
      "updated": 1699499278000,
      "body_original": "---<br />title: 吴恩达机器学习系列课程<br />---\n\n[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV164411b7dx)\n<a name=\"l8M0a\"></a>\n# 1-2什么是机器学习\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646407105216-721da485-810e-4541-a31c-78ffacb3f9b1.png#averageHue=%23e2e2e2&clientId=uda4fcd7c-e7bc-4&from=paste&height=261&id=u694dbc65&originHeight=691&originWidth=1229&originalType=binary&ratio=1&rotation=0&showTitle=false&size=412172&status=done&style=none&taskId=u62102af8-7b06-4dd0-bcf1-cbc9d1fdf92&title=&width=463.35638427734375)<br />机器学习（Machine Learning）一个适当的学习问题定义如下：计算机程序从经验E中学习解决一些任务T，并有性能指标P，T的性能P随着E的增长而提高。\n\n机器学习算法：\n\n- 监督（Supervised）学习\n- 非监督学习\n- 半监督学习\n- ……\n\nOthers：强化（Reinforcement）学习，推荐（Recommender）系统\n\n不同的算法适合解决不同类型的问题，本课程会大量教你如何运用这些算法工具解决实际问题\n\n<a name=\"dvDSQ\"></a>\n# 1-3监督学习\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646408687193-b889b345-1b29-4767-8cca-b8166315e44d.png#averageHue=%23f7f7f7&clientId=uda4fcd7c-e7bc-4&from=paste&height=369&id=uab578734&originHeight=870&originWidth=1098&originalType=binary&ratio=1&rotation=0&showTitle=false&size=348604&status=done&style=none&taskId=uc6280e86-1ae5-40ff-87b2-46427dd6e08&title=&width=465.35638427734375)<br />监督学习指已给出正确的数据集，需要机器学习推测出更多正确的数据\n\n对于该例子更专业的描述：这是一个（统计学）回归（Regression）问题，<br />预测连续的数值输出（Predict continuous valued output）\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646409300515-86392530-da6e-42f1-973c-79797fe5ffb3.png#averageHue=%23f8f8f8&clientId=uda4fcd7c-e7bc-4&from=paste&height=277&id=ub53bac40&originHeight=867&originWidth=1451&originalType=binary&ratio=1&rotation=0&showTitle=false&size=422631&status=done&style=none&taskId=u393d8fe1-e9dc-486b-9e27-bc89dbb8159&title=&width=463.35638427734375)<br />这个例子是分类（Classification）问题，预测一个离散（Discrete）值的输出。<br />肿瘤只有两种可能，恶性或良心，预测的结果也只有这两种可能。\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646409845863-63dc61c2-2d1d-41e1-a896-efb041eccf65.png#averageHue=%23f5f4f4&clientId=uda4fcd7c-e7bc-4&from=paste&height=287&id=u9f35ecfd&originHeight=846&originWidth=1346&originalType=binary&ratio=1&rotation=0&showTitle=false&size=368439&status=done&style=none&taskId=ueabbcdcb-d98a-4984-a841-5a7d914bb89&title=&width=457.0545654296875)\n\n<a name=\"QU4SH\"></a>\n# 1-4无监督学习\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646410209781-aa42b348-f605-4cf8-9456-cb8655939c4a.png#averageHue=%23faf9f8&clientId=uda4fcd7c-e7bc-4&from=paste&height=255&id=u3829cc2a&originHeight=888&originWidth=895&originalType=binary&ratio=1&rotation=0&showTitle=false&size=215172&status=done&style=none&taskId=u551c2a4b-ae38-4c7e-8f03-61a158a74a4&title=&width=256.87274169921875)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646410230461-7a5a308e-b365-4f64-96a3-37f74d01703b.png#averageHue=%23f6f6f6&clientId=uda4fcd7c-e7bc-4&from=paste&height=249&id=ue8b7aa20&originHeight=889&originWidth=778&originalType=binary&ratio=1&rotation=0&showTitle=false&size=179918&status=done&style=none&taskId=u6d56dfbd-3788-4e75-ba25-76aebdd856f&title=&width=218.17454528808594)<br />无监督学习尝试在没有标记的数据集里找到某种结构<br />这个例子中算法可能将数据分成两个簇，这就是聚类（Clustering）算法<br />比如谷歌新闻每天从无数新闻中将同一事件的新闻聚合到一起\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646410635493-cfda6ded-0263-4f9c-9668-919f538e1ee6.png#averageHue=%23cdc2be&clientId=uda4fcd7c-e7bc-4&from=paste&height=310&id=u79c1b12c&originHeight=948&originWidth=1455&originalType=binary&ratio=1&rotation=0&showTitle=false&size=969388&status=done&style=none&taskId=u9432c3b0-1265-4183-bd85-b95c3d1c1ef&title=&width=476.0545654296875)\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646411041778-99404b99-d01b-4ae1-8f27-79d454e4e027.png#averageHue=%23dedad2&clientId=uda4fcd7c-e7bc-4&from=paste&height=280&id=ua2433590&originHeight=881&originWidth=1490&originalType=binary&ratio=1&rotation=0&showTitle=false&size=485410&status=done&style=none&taskId=ucb4f9f00-1930-4d8d-93be-9cf09542cb8&title=&width=474.0545654296875)<br />此算法将两段不同位置录制的两种声音混在一起的音频，分离成两个单独的音频\n\n<a name=\"ZlBIu\"></a>\n# 2-1模型描述\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646468159623-f02fdf25-869d-4e82-bc3e-8f51d636d8fb.png#averageHue=%23f6f5f5&clientId=u1417862d-8f47-4&from=paste&height=280&id=uadb8aacd&originHeight=720&originWidth=1297&originalType=binary&ratio=1&rotation=0&showTitle=false&size=325895&status=done&style=none&taskId=uf8fc6181-b579-46e5-880b-ec5683619d5&title=&width=505.00726318359375)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646468371057-38eb7cc3-0f05-44d7-98ea-899dbb5e48d9.png#averageHue=%23f3f3f3&clientId=u1417862d-8f47-4&from=paste&height=301&id=uca39bd86&originHeight=734&originWidth=1249&originalType=binary&ratio=1&rotation=0&showTitle=false&size=393137&status=done&style=none&taskId=ue0033b00-7917-4e47-8b4f-a3c36ab8f03&title=&width=512.0072631835938)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646468708701-2c955ec5-e042-493e-ab23-1a54c43ff49a.png#averageHue=%23faf9f9&clientId=u1417862d-8f47-4&from=paste&height=361&id=uf0792343&originHeight=907&originWidth=1299&originalType=binary&ratio=1&rotation=0&showTitle=false&size=420259&status=done&style=none&taskId=u355bada8-d9d8-489a-b467-3f9e176af52&title=&width=517.0072631835938)<br />训练该例子之前根据问题的特征先设计一个假设（Hypothesis）算法：<br />![](https://cdn.nlark.com/yuque/__latex/1c3cf6fab978d816c96b99ed77b31941.svg#card=math&code=h_%5Ctheta%28x%29%3D%5Ctheta_0%2B%5Ctheta_1%20x%3Dy&id=yEZJs)<br />这就是一元线性回归 / 单变量（Univariate）线性回归\n<a name=\"kkcLT\"></a>\n## 补充：线性\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646710584860-f141d65f-8ec0-41ea-9938-48ed604f9e02.png#averageHue=%231a1d1f&clientId=u28ad041a-7e01-4&from=paste&height=379&id=u8a503b85&originHeight=592&originWidth=2093&originalType=binary&ratio=1&rotation=0&showTitle=false&size=286780&status=done&style=none&taskId=u10d48ea0-175f-489b-b9d7-86789efd6c3&title=&width=1339.52)\n\n\n<a name=\"B6O0F\"></a>\n# 2-2代价函数\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646470615273-ec0e59b7-e90d-402e-ad79-fc92c6f86e9f.png#averageHue=%23f9f9f9&clientId=u1417862d-8f47-4&from=paste&height=353&id=u19b5e699&originHeight=920&originWidth=1536&originalType=binary&ratio=1&rotation=0&showTitle=false&size=513947&status=done&style=none&taskId=u95a2b1c3-9e00-4e97-af26-61d3b24b76a&title=&width=589.0072631835938)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646470729209-98aa84f3-0d1f-4c2a-b538-4d1ebc266d46.png#averageHue=%23fbfbfb&clientId=u1417862d-8f47-4&from=paste&height=401&id=u07d29e1d&originHeight=851&originWidth=1255&originalType=binary&ratio=1&rotation=0&showTitle=false&size=477353&status=done&style=none&taskId=u0f50d36d-251b-4617-868b-729eeea49e1&title=&width=592.0072631835938)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646471258945-6bf59353-8ec0-4788-8e5d-0df75313ebcd.png#averageHue=%23fbfbfb&clientId=u1417862d-8f47-4&from=paste&height=403&id=u60f4954f&originHeight=966&originWidth=1754&originalType=binary&ratio=1&rotation=0&showTitle=false&size=724036&status=done&style=none&taskId=uab8c2a89-0b9c-4dd3-bd47-0e57dfcc6f6&title=&width=732)<br />训练要随着经验E的增长而使性能P增长，所以需要一个代价（Cost）函数告诉我们每一次采样的P，而任务T本质上就是找到最优的模型参数θ0、θ1使函数与样本之间的误差最小，也就是最小平方差：<br />![](https://cdn.nlark.com/yuque/__latex/104f0662e7d9c2e1573c7a4dcdee36de.svg#card=math&code=J%28%5Ctheta_0%2C%5Ctheta_1%29%3D%5Cfrac%7B1%7D%7B2m%7D%5Csum%20_%7Bi%3D1%7D%5E%7Bm%7D%28%20h_%7B%5Ctheta%20%7D%28%20x_%7Bi%7D%29%20-y_%7Bi%7D%29%5E%7B2%7D&id=XJ4Zq)<br />m是输入样本数量，x是输入（面积），y是输出（价格）\n\n<a name=\"ETafl\"></a>\n# 2-3代价函数（一）\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646472438769-73935733-2fec-40c9-841b-7e94e64dbc99.png#averageHue=%23fafafa&clientId=u1417862d-8f47-4&from=paste&height=400&id=ub7f8f533&originHeight=969&originWidth=1226&originalType=binary&ratio=1&rotation=0&showTitle=false&size=387241&status=done&style=none&taskId=uc8dd3851-7a93-43fd-b41a-274e3ea3bd7&title=&width=506.00726318359375)<br /> ![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646472663772-dafcd832-afbb-401f-85fc-53213b9f94dd.png#averageHue=%23fafafa&clientId=u1417862d-8f47-4&from=paste&height=280&id=u09911f3d&originHeight=735&originWidth=1342&originalType=binary&ratio=1&rotation=0&showTitle=false&size=321739&status=done&style=none&taskId=u12c02d25-ee2d-4d74-b7fc-a178f0d9aea&title=&width=512.0072631835938)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646473047175-fc1f9674-b583-4c6b-b120-15e281f12f5e.png#averageHue=%23faf9f9&clientId=u1417862d-8f47-4&from=paste&height=307&id=ufd2e2aac&originHeight=748&originWidth=1253&originalType=binary&ratio=1&rotation=0&showTitle=false&size=261747&status=done&style=none&taskId=uaf52e4aa-483d-4d5c-bda5-5a2e5f09497&title=&width=515.0072631835938)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646473196565-736ae823-b3a6-4e66-8f60-578bca30ee03.png#averageHue=%23f9f8f8&clientId=u1417862d-8f47-4&from=paste&height=318&id=ud901e3ae&originHeight=770&originWidth=1251&originalType=binary&ratio=1&rotation=0&showTitle=false&size=260606&status=done&style=none&taskId=u86381308-ae93-4eb3-b09b-c8c596ff6a6&title=&width=517.0072631835938)\n\n<a name=\"anccm\"></a>\n# 2-4代价函数（二）\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646473876493-4e710f80-ab42-4833-b2a3-2b3a09fbbe4c.png#averageHue=%23fafaf9&clientId=u1417862d-8f47-4&from=paste&height=309&id=uc9e99c42&originHeight=836&originWidth=1407&originalType=binary&ratio=1&rotation=0&showTitle=false&size=370105&status=done&style=none&taskId=u9dd20121-6f20-4527-acfe-2d8d4378275&title=&width=519.96728515625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646474031600-078451b2-c02a-47eb-831a-5fdf292bfda4.png#averageHue=%23fafaf9&clientId=u1417862d-8f47-4&from=paste&height=339&id=u7bd7db43&originHeight=903&originWidth=1394&originalType=binary&ratio=1&rotation=0&showTitle=false&size=506235&status=done&style=none&taskId=ua1a6257c-e919-4a90-bc82-27ef170fdee&title=&width=522.96728515625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646474133222-fe59955a-a456-4c97-adb2-9909ab1ec034.png#averageHue=%23fcfcfb&clientId=u1417862d-8f47-4&from=paste&height=406&id=u2f1306d9&originHeight=985&originWidth=1262&originalType=binary&ratio=1&rotation=0&showTitle=false&size=558302&status=done&style=none&taskId=u629fa24a-322d-428f-8d87-2fc1ed5b60f&title=&width=519.96728515625)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646474408533-2eb1cfb4-fbda-4cb5-b3b5-5e14a8e0f733.png#averageHue=%23fafafa&clientId=u1417862d-8f47-4&from=paste&height=376&id=u532bd97c&originHeight=926&originWidth=1296&originalType=binary&ratio=1&rotation=0&showTitle=false&size=561181&status=done&style=none&taskId=u7208004c-e72d-433b-8a93-880cfc37686&title=&width=525.96728515625)<br />所以我们的目标类似函数拟合，给出数据，选择最优类型的函数，算法自动找出使误差最小的参数。<br />越接近误差最小值，代价函数的梯度越小，反之越大，所以可以根据梯度调整参数，逼近最小值。\n\n<a name=\"O4JDx\"></a>\n# 2-5梯度下降\n**Gradient Descent**<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646475056586-40982958-fcf1-4dce-bf0b-4800113da9af.png#averageHue=%23f7f7f7&clientId=u1417862d-8f47-4&from=paste&height=385&id=u15161789&originHeight=896&originWidth=1258&originalType=binary&ratio=1&rotation=0&showTitle=false&size=445211&status=done&style=none&taskId=u72fdca7c-2ba6-49a6-aabf-665df655227&title=&width=540.96728515625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646475504639-993bbfc3-70df-4c0b-a901-e2e3964d87c8.png#averageHue=%23fcf9f4&clientId=u1417862d-8f47-4&from=paste&height=318&id=u513cdd38&originHeight=899&originWidth=1527&originalType=binary&ratio=1&rotation=0&showTitle=false&size=678366&status=done&style=none&taskId=ua9cde1d5-3065-49df-8481-6b581de925c&title=&width=540.96728515625)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646475597250-c60c00f4-652c-459a-bfe3-45a95b1a97df.png#averageHue=%23f9f9f9&clientId=u1417862d-8f47-4&from=paste&height=346&id=u1671cd71&originHeight=870&originWidth=1362&originalType=binary&ratio=1&rotation=0&showTitle=false&size=416032&status=done&style=none&taskId=u16c946d6-b271-418e-9828-22c6635ad7c&title=&width=541.96728515625)<br />Colon Equal：![](https://cdn.nlark.com/yuque/__latex/3462a11a6ec59da15dc1af2f8d0672f5.svg#card=math&code=%3A%3D&id=ocs8R)<br />例如![](https://cdn.nlark.com/yuque/__latex/d292c47a585a86fd355d48ee326df44e.svg#card=math&code=a%5Ccoloneq%20b&id=hHNq9)表示将b的**值赋**给a，与计算机编程语言中的=同义。<br />数学公式中的=与编程语言中的==同义，表示**等于**（判断）\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646476421308-bc3c4148-2b4f-4c30-aa8d-d146b9512c33.png#averageHue=%23f9f8f8&clientId=u1417862d-8f47-4&from=paste&height=355&id=u8f314e6c&originHeight=953&originWidth=1326&originalType=binary&ratio=1&rotation=0&showTitle=false&size=529759&status=done&style=none&taskId=u060a8961-7cee-4ed4-b89c-8a737ded994&title=&width=493.6581726074219)<br />a是学习率（Learning Rate），越大学习越快，下山的步长越大<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646476548764-de4d7efe-5398-4e82-8e13-408af7c246a9.png#averageHue=%23f8f8f8&clientId=u1417862d-8f47-4&from=paste&height=335&id=uca863bfe&originHeight=864&originWidth=1277&originalType=binary&ratio=1&rotation=0&showTitle=false&size=414536&status=done&style=none&taskId=uf14fff18-fe05-4391-b3d4-40ad923153d&title=&width=495.66546630859375)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646476923684-11d9bfce-b29f-4683-9535-11353789c7df.png#averageHue=%23f7f2ed&clientId=u1417862d-8f47-4&from=paste&height=328&id=u7970b36d&originHeight=951&originWidth=1436&originalType=binary&ratio=1&rotation=0&showTitle=false&size=685853&status=done&style=none&taskId=u3b72f06e-17ae-4c87-bab9-8e1c30ffff9&title=&width=495.66546630859375)<br />我们通常所说的梯度下降使用的迭代方法是对每一项参数计算完之后暂存，然后一次性同步更新（Simultaneous Update），再进入下一次迭代\n\n<a name=\"p208Q\"></a>\n# 2-6梯度下降知识点总结\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646479462103-0e9d475e-83b6-44bb-b7cc-4cf18ff308ce.png#averageHue=%23f8f8f8&clientId=u1417862d-8f47-4&from=paste&height=389&id=ue6e41bd1&originHeight=979&originWidth=1473&originalType=binary&ratio=1&rotation=0&showTitle=false&size=520833&status=done&style=none&taskId=u756f64fa-87a7-4249-8eb7-a79f9ed377e&title=&width=585.6581726074219)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646479751802-8060c4d8-615a-4b77-a839-227e78e1746f.png#averageHue=%23fbfafa&clientId=u1417862d-8f47-4&from=paste&height=424&id=u7ffb52c6&originHeight=1153&originWidth=1588&originalType=binary&ratio=1&rotation=0&showTitle=false&size=598146&status=done&style=none&taskId=ud6d7222c-2aa7-481a-b6b0-bd23c3de7db&title=&width=583.6654663085938)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646479922241-4b151845-d5bd-4a45-beac-36f862163468.png#averageHue=%23f8f8f7&clientId=u1417862d-8f47-4&from=paste&height=359&id=u6edd3790&originHeight=1098&originWidth=1801&originalType=binary&ratio=1&rotation=0&showTitle=false&size=749100&status=done&style=none&taskId=u62da9780-de2b-40ed-8a48-6f38b7d737b&title=&width=588.6654663085938)<br />梯度下降在一次次迭代中朝着切线的反方向前进，如果速度a太大则可能无法收敛，太小则收敛太慢。\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646480130203-ef43ad0c-a8e4-46ca-90dd-cb062adcc26b.png#averageHue=%23fcfafa&clientId=u1417862d-8f47-4&from=paste&height=382&id=ud225f248&originHeight=1018&originWidth=1327&originalType=binary&ratio=1&rotation=0&showTitle=false&size=512247&status=done&style=none&taskId=ub19af5a2-1c90-4430-b36c-82fa32d534f&title=&width=497.66180419921875)<br />如果初始参数已经是局部最小值，由于导数约等于零，所以结果不会发生变化。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646480338159-2ed280d2-e9a8-4b33-9e9c-ed4837632e6c.png#averageHue=%23f1f1f1&clientId=u1417862d-8f47-4&from=paste&height=332&id=uc41e1282&originHeight=1071&originWidth=1606&originalType=binary&ratio=1&rotation=0&showTitle=false&size=676682&status=done&style=none&taskId=u1888acaa-d782-4136-ac4d-b739df1ea6c&title=&width=497.66546630859375)<br />当越接近最小值时，梯度会越来越小，自动减小步长，所以随着迭代次数的增多，结果会稳定在最小值\n\n<a name=\"LkU0x\"></a>\n# 2-7线性回归的梯度下降\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646482003960-debd3301-e926-45ba-8da4-312c2d16b945.png#averageHue=%23f7f6f6&clientId=u1417862d-8f47-4&from=paste&height=268&id=u83ff6238&originHeight=729&originWidth=1634&originalType=binary&ratio=1&rotation=0&showTitle=false&size=356711&status=done&style=none&taskId=u6d23664b-13e9-4214-98f8-1178534cd36&title=&width=601.6654663085938)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646482021056-21122dba-4914-43ee-b1b5-5b1080434c7d.png#averageHue=%23f8faf8&clientId=u1417862d-8f47-4&from=paste&height=64&id=u43fe7163&originHeight=91&originWidth=766&originalType=binary&ratio=1&rotation=0&showTitle=false&size=78242&status=done&style=none&taskId=ua656441e-0f13-4077-88c9-b50adc64460&title=&width=534.8072430526876)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646482034474-e2cbac22-d372-4554-9bca-82564e17d7e1.png#averageHue=%23e7e9e7&clientId=u1417862d-8f47-4&from=paste&height=47&id=u2b7897de&originHeight=140&originWidth=1319&originalType=binary&ratio=1&rotation=0&showTitle=false&size=201449&status=done&style=none&taskId=uda4f99a7-f44d-4488-862d-be018fc2bf7&title=&width=440.654541015625)\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646486123041-fe9b8aad-7b1a-42ca-bb2d-298a6d3432f7.png#averageHue=%23fcfcfb&clientId=ue75418c6-774d-4&from=paste&height=354&id=u56f78972&originHeight=982&originWidth=1669&originalType=binary&ratio=1&rotation=0&showTitle=false&size=638376&status=done&style=none&taskId=uf8559c67-366c-4d79-949c-715d07256a5&title=&width=601.6654663085938)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646486380418-1c1bc31c-6666-4512-aecc-2dfc905c1ae3.png#averageHue=%23f6f6f6&clientId=ue75418c6-774d-4&from=paste&height=257&id=ua8ea0ae8&originHeight=753&originWidth=1586&originalType=binary&ratio=1&rotation=0&showTitle=false&size=341622&status=done&style=none&taskId=udbc5b567-9b48-41bc-acf7-f234e4218ac&title=&width=540.6654663085938)<br />这里将梯度下降的公式展开，分别写出θ0、θ1求导后的公式\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646486719651-d34edf26-b364-4fe4-9cc8-5d051af86bd3.png#averageHue=%23fcfcfa&clientId=ue75418c6-774d-4&from=paste&height=363&id=u9661c56e&originHeight=1079&originWidth=1466&originalType=binary&ratio=1&rotation=0&showTitle=false&size=707981&status=done&style=none&taskId=ubf21a6c0-ff2f-4181-ba1d-c3795d75033&title=&width=492.658203125)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646486746759-1c437d2a-0644-45ef-afff-74a5681aa37d.png#averageHue=%23f9f9f8&clientId=ue75418c6-774d-4&from=paste&height=324&id=u65ea9075&originHeight=1064&originWidth=1612&originalType=binary&ratio=1&rotation=0&showTitle=false&size=830351&status=done&style=none&taskId=u364ff227-6ff3-41c3-aa82-b7bd6317e55&title=&width=490.66546630859375)<br />当代价函数是一个标准的凹函数时，不论初始点在哪总是会收敛到全局最小值，否则会遇到局部最小值的问题。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646486983395-6deef603-c542-4b32-aff8-e22b0cb801e1.png#averageHue=%23f5f5f5&clientId=ue75418c6-774d-4&from=paste&height=328&id=u81b2b1d3&originHeight=989&originWidth=1469&originalType=binary&ratio=1&rotation=0&showTitle=false&size=425066&status=done&style=none&taskId=u2ec17358-727e-41e1-9209-e868ab2cf34&title=&width=486.66546630859375)<br />这被称为“Batch”梯度下降，Batch指下降的每一步都要遍历整个数据集（m）<br />还有其他梯度下降的方法，不用遍历全部数据。<br />对于线性回归问题，另有正态（正规）方程法（Normal Equations Method），可以直接算出代价函数最小值，但只适合比较小的数据集。\n\n<a name=\"APDLT\"></a>\n## 补充：求导\n[https://zh.wikipedia.org/wiki/%E5%AF%BC%E6%95%B0](https://zh.wikipedia.org/wiki/%E5%AF%BC%E6%95%B0)<br />[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1Lf4y1M72V)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646485148560-d551c914-07d6-4251-b78a-3707dd669432.png#averageHue=%23f6f6ef&clientId=u1417862d-8f47-4&from=paste&height=349&id=uf265822a&originHeight=790&originWidth=1348&originalType=binary&ratio=1&rotation=0&showTitle=false&size=241000&status=done&style=none&taskId=uc7df159f-301a-46ab-ae7e-c2421e441e3&title=&width=594.6654663085938)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646578670714-45663781-2ca4-4a62-8300-c03d24fab9c0.png#averageHue=%23191d1e&clientId=ub7402653-2256-4&from=paste&height=276&id=u3766220f&originHeight=609&originWidth=1242&originalType=binary&ratio=1&rotation=0&showTitle=false&size=99748&status=done&style=none&taskId=ubeb6ef52-e9d5-406e-be0f-884d46611e4&title=&width=562.589111328125)<br />[https://zh.wikipedia.org/wiki/%E5%AF%BC%E6%95%B0%E5%88%97%E8%A1%A8](https://zh.wikipedia.org/wiki/%E5%AF%BC%E6%95%B0%E5%88%97%E8%A1%A8)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646486044176-5f17d48e-5691-4a92-9dc6-287bfbecc6b9.png#averageHue=%23191b1d&clientId=ue75418c6-774d-4&from=paste&height=461&id=uca09c9c1&originHeight=661&originWidth=1509&originalType=binary&ratio=1&rotation=0&showTitle=false&size=149990&status=done&style=none&taskId=u5ecd0af8-f36e-4c1a-b224-f22333738c7&title=&width=1053.5563051782058)\n<a name=\"L59yt\"></a>\n## 补充：复合函数求偏导函数\n[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1gQ4y1X7rL)\n\n<a name=\"AyM5C\"></a>\n# 3-5矩阵乘法特征\n矩阵乘法不满足交换律（Commutative Laws），但是满足结合律（Associative Laws）。<br />略。\n<a name=\"xkfpd\"></a>\n# 3-6逆和转置\n只有方阵（Square Matrix，行数==列数）才有逆矩阵（Inverse）。<br />奇异（Singular）矩阵或退化（Degenerate）矩阵不存在逆矩阵。\n\n<a name=\"UjoFS\"></a>\n# 4-1多元线性回归\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646574321969-7fefc93e-4ae2-4ecd-ad62-a1210da91fdf.png#averageHue=%23f7f7f7&clientId=ub7402653-2256-4&from=paste&height=411&id=uf605451a&originHeight=953&originWidth=1307&originalType=binary&ratio=1&rotation=0&showTitle=false&size=514578&status=done&style=none&taskId=u0caef96c-d82f-45a9-a78f-8b2d979265a&title=&width=563.345458984375)<br />上标加括号的意义是什么呢？<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646574835782-6775d320-a08c-4a89-bc28-62db816bdbd1.png#averageHue=%23f9f3ed&clientId=ub7402653-2256-4&from=paste&height=395&id=uf83bc75c&originHeight=950&originWidth=1366&originalType=binary&ratio=1&rotation=0&showTitle=false&size=572279&status=done&style=none&taskId=u4f316f94-e3c4-4a4d-8b65-c0fda4789fe&title=&width=567.345458984375)<br />对于多元线性回归（Multivariate Linear Regression）有大量特征的情况，使用矩阵乘法简化计算，两个矩阵分别填充输入特征（Feature）和系数。\n\n<a name=\"F5vEr\"></a>\n# 4-2多元梯度下降法\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646575746077-59a3eba1-89f8-4bb9-9d1d-d5647d3b9b6f.png#averageHue=%23f9f9f9&clientId=ub7402653-2256-4&from=paste&height=350&id=ue5dcc88c&originHeight=796&originWidth=1311&originalType=binary&ratio=1&rotation=0&showTitle=false&size=309379&status=done&style=none&taskId=u1fd315dc-c973-44c7-9676-6173c777b90&title=&width=576.4400024414062)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646576315566-c0c8d878-89ae-4358-b3ee-6e517c1473db.png#averageHue=%23f7f1ec&clientId=ub7402653-2256-4&from=paste&height=339&id=u290287e0&originHeight=778&originWidth=1320&originalType=binary&ratio=1&rotation=0&showTitle=false&size=471398&status=done&style=none&taskId=ueaadc16e-215e-43af-9e8a-5db18eb7f02&title=&width=575.4400024414062)<br />多元梯度下降：<br />![](https://cdn.nlark.com/yuque/__latex/14db62c5bd3c918ad7e06a782b61409d.svg#card=math&code=%5Ctheta%20_%7Bj%7D%20%5Ccoloneq%20%5Ctheta%20_%7Bj%7D%20-a%5Cfrac%7B%5Cpartial%20%7D%7B%5Cpartial%20%5Ctheta%20_%7Bj%7D%7D%20J%28%20%5Ctheta%20%29&id=Q0xIH)<br />根据：<br />假设函数：![](https://cdn.nlark.com/yuque/__latex/adc3aa00d6c53e61541daa5bb77a8ce0.svg#card=math&code=h_%5Ctheta%28x%29%3D%5Ctheta%5ET%20x&id=XILIW)<br />代价函数：![](https://cdn.nlark.com/yuque/__latex/fa3af54ac82601edee30de51210a8170.svg#card=math&code=J%28%5Ctheta%29%3D%5Cfrac%7B1%7D%7B2m%7D%5Csum%20_%7Bi%3D1%7D%5E%7Bm%7D%28%20h_%7B%5Ctheta%20%7D%28%20x%5E%7B%28i%29%7D%29%20-y%5E%7B%28i%29%7D%29%5E%7B2%7D&id=NOhRw)<br />计算偏导数得：<br />![](https://cdn.nlark.com/yuque/__latex/5fff57eeb6a8cf149463516c97dd7ee3.svg#card=math&code=%5Ctheta%20_%7Bj%7D%20%5Ccoloneq%20%5Ctheta%20_%7Bj%7D%20-a%5Cfrac%7B1%7D%7Bm%7D%5Csum%20_%7Bi%3D1%7D%5E%7Bm%7D%5Cleft%28%20h_%7B%5Ctheta%20%7D%5Cleft%28%20x%5E%7B%28%20i%29%7D%5Cright%29%20-y%5E%7B%28%20i%29%7D%5Cright%29%20x_%7Bj%7D%5E%7B%28%20i%29%7D&id=JbMmX)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646577044795-bc018de6-f67c-4af1-9b91-4968453c063f.png#averageHue=%23f2f1f1&clientId=ub7402653-2256-4&from=paste&height=196&id=ue01188ca&originHeight=389&originWidth=722&originalType=binary&ratio=1&rotation=0&showTitle=false&size=166081&status=done&style=none&taskId=u532b1e4a-2407-493b-9acb-ecd068980e9&title=&width=363.0872802734375)<br />其中θj表示第j个系数<br />![](https://cdn.nlark.com/yuque/__latex/9386246ef8e02049d796698976d1c1e1.svg#card=math&code=x_%7Bj%7D%5E%7B%28%20i%29%7D&id=cKuaR)表示第i行第j列的输入特征<br />x为一整行的输入特征，是一个向量<br />θ为每个输入特征对应的系数，也是向量\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646579911547-f111ae55-b2b8-4779-852f-bcf8825280e9.png#averageHue=%231f2427&clientId=ub7402653-2256-4&from=paste&height=54&id=u845aa18f&originHeight=78&originWidth=635&originalType=binary&ratio=1&rotation=0&showTitle=false&size=34616&status=done&style=none&taskId=u94bf61a3-cf52-4214-9126-635d4ab93b7&title=&width=443.34542994576583)<br />![](https://cdn.nlark.com/yuque/__latex/9386246ef8e02049d796698976d1c1e1.svg#card=math&code=x_%7Bj%7D%5E%7B%28%20i%29%7D&id=m7y7F)是怎么来的：<br />![](https://cdn.nlark.com/yuque/__latex/009f9fc1aba552da83588311c34683e5.svg#card=math&code=%5Cfrac%7B%5Cpartial%20%7D%7B%5Cpartial%20%5Ctheta%20_%7Bj%7D%7D%20J%28%20%5Ctheta%20%29&id=euq4V)<br />计算![](https://cdn.nlark.com/yuque/__latex/8b100d1486ed5929fd09cd666038e86b.svg#card=math&code=J%28%20%5Ctheta%20%29&id=tLxa1)的**关于**![](https://cdn.nlark.com/yuque/__latex/77e7f15763cadd2c6a3c3da0d40ca6ff.svg#card=math&code=%5Ctheta%20_%7Bj%7D&id=abu0B)偏导数，θ是系数向量，除了θj之外都要看成常数，常数开导为0，得：<br />![](https://cdn.nlark.com/yuque/__latex/35c7b5ac1a12ae0f02fba0421325ef57.svg#card=math&code=%5Ctheta_j%20x_j&id=obxMM)<br />求导得：<br />![](https://cdn.nlark.com/yuque/__latex/405bfd0a8b0b056cdf7228308258cc72.svg#card=math&code=x_j&id=xxOY0)<br />带入![](https://cdn.nlark.com/yuque/__latex/19b2b53ddf16684e7279135988c0a558.svg#card=math&code=x%5E%7B%28%20i%29%7D&id=oarjj)得：<br />![](https://cdn.nlark.com/yuque/__latex/9386246ef8e02049d796698976d1c1e1.svg#card=math&code=x_%7Bj%7D%5E%7B%28%20i%29%7D&id=jw2WM)\n\n\n\n<a name=\"Y7HWe\"></a>\n# 4-3多元梯度下降法演练：特征缩放\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646580411358-277bf2d7-73b5-466f-833c-c3078d3e789e.png#clientId=ub7402653-2256-4&from=paste&height=759&id=uf940bfb4&originHeight=1087&originWidth=1713&originalType=binary&ratio=1&rotation=0&showTitle=false&size=794296&status=done&style=none&taskId=uac6a4869-3fe9-4f22-a900-87591b2f700&title=&width=1195.9853881844044)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646580572495-60e82e5d-eca9-4348-961f-7c4ba42e8317.png#clientId=ub7402653-2256-4&from=paste&height=735&id=u4e10889d&originHeight=1053&originWidth=1690&originalType=binary&ratio=1&rotation=0&showTitle=false&size=529899&status=done&style=none&taskId=uabd0d67a-5789-45fa-9b46-c26420931e4&title=&width=1179.927207257235)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646580772065-42b7bf0b-c120-40d7-950d-d8a5524c966a.png#clientId=ub7402653-2256-4&from=paste&height=751&id=u4d945633&originHeight=1076&originWidth=1640&originalType=binary&ratio=1&rotation=0&showTitle=false&size=683283&status=done&style=none&taskId=u7d168da7-2c7c-46e6-bea5-8386fa6a184&title=&width=1145.0181182851275)\n\n代价函数的等高线图像越接近圆形，梯度下降的速度越快，若输入特征的取值范围相差非常大，则会造成等高线图像非常狭长，不利于梯度下降。<br />可以用**特征缩放（Feature Scaling）**和**均值归一化（Mean Normalization）**来使输入特征保持在近似的取值范围：<br />![](https://cdn.nlark.com/yuque/__latex/b7b1266dddbef446493e7cf37b9a131a.svg#card=math&code=x%3D%5Cfrac%7Bx-%5Cmu%20%7D%7Bs%7D&id=aquyz)<br />μ是x的均值，s是x的范围（最大值-最小值）\n\n<a name=\"eYshE\"></a>\n# 4-4多元梯度下降法演练：学习率\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646581399598-77b7a93c-51e2-40ed-8ab6-c838699fc79f.png#clientId=ub7402653-2256-4&from=paste&height=179&id=uf39debb9&originHeight=507&originWidth=1043&originalType=binary&ratio=1&rotation=0&showTitle=false&size=159086&status=done&style=none&taskId=u55d48c67-1597-45db-bfae-75c4325c27a&title=&width=367.28729248046875)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646581692401-102d287e-341d-4a62-b24d-c80245a9afd6.png#clientId=ub7402653-2256-4&from=paste&height=306&id=uf3e9021f&originHeight=960&originWidth=1442&originalType=binary&ratio=1&rotation=0&showTitle=false&size=523171&status=done&style=none&taskId=u51f170d5-7bc2-4420-af2d-baccf581967&title=&width=460.2799987792969)<br />如果梯度下降工作正常，那么随着迭代次数的增加，梯度会不断减小，通过画出曲线可以帮助我们判断是否已收敛。也可以通过一些自动化的测试判断是否收敛。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646582115007-aa4e95af-5348-4298-8bec-6798a2838018.png#clientId=ub7402653-2256-4&from=paste&height=328&id=u86ea40bd&originHeight=984&originWidth=1421&originalType=binary&ratio=1&rotation=0&showTitle=false&size=576838&status=done&style=none&taskId=uc2404baf-c594-4ecf-a2a7-8c11fb079d8&title=&width=474.28729248046875)<br />如果无法收敛，通常是因为学习率太大。学习率足够小的情况下，每一次迭代梯度都会下降，但迭代次数也会相应增加。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646582378042-ba1775cd-e861-4676-9249-b14f4907c444.png#clientId=ub7402653-2256-4&from=paste&height=262&id=u64cb2ef3&originHeight=719&originWidth=1336&originalType=binary&ratio=1&rotation=0&showTitle=false&size=313423&status=done&style=none&taskId=u22eb91f0-029f-4f0c-9f72-6fd09b9feb4&title=&width=486.28729248046875)\n<a name=\"qpBAx\"></a>\n# 4-5特征和多项式回归\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646582563867-488cc262-6a81-4da7-8973-98b02629be6e.png#clientId=ub7402653-2256-4&from=paste&height=356&id=u5a3ec8f5&originHeight=947&originWidth=1307&originalType=binary&ratio=1&rotation=0&showTitle=false&size=467509&status=done&style=none&taskId=u6671a000-fcb9-40c1-ade5-cf030ea5d24&title=&width=491.28729248046875)<br />输入特征是有潜在优化空间的<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646582838200-082481bf-deb5-4951-8de6-059d41ceae64.png#clientId=ub7402653-2256-4&from=paste&height=362&id=uad614d60&originHeight=976&originWidth=1339&originalType=binary&ratio=1&rotation=0&showTitle=false&size=511270&status=done&style=none&taskId=uf6301e00-e52d-46e1-bebf-185f4b70403&title=&width=496.28729248046875)<br />可以将多项式回归转化成线性回归，转换一下输入特征的形式即可<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646585025153-01acde40-c1fc-4115-9285-0a76ce68d92f.png#clientId=ub7402653-2256-4&from=paste&height=367&id=uea5c7b65&originHeight=984&originWidth=1353&originalType=binary&ratio=1&rotation=0&showTitle=false&size=349471&status=done&style=none&taskId=ud02cc597-f911-4923-8177-45522f3076f&title=&width=503.9854736328125)<br />凭借对函数图像和数据趋势的了解我们可以选择更合适的函数\n\n\n<a name=\"EXRBs\"></a>\n# 4-6正规方程 （区别与迭代方法的直接解法）\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646585284101-d21dde16-e04a-4f90-ab42-215f8ccab1b6.png#clientId=ub7402653-2256-4&from=paste&height=291&id=u7aee7e3d&originHeight=1024&originWidth=1455&originalType=binary&ratio=1&rotation=0&showTitle=false&size=307847&status=done&style=none&taskId=u55f6a860-45a7-4058-a25b-c5e224de657&title=&width=413.9781799316406)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646585458165-274dba47-d281-4433-b8fd-9e6050887823.png#clientId=ub7402653-2256-4&from=paste&height=323&id=u131dee7e&originHeight=1055&originWidth=1616&originalType=binary&ratio=1&rotation=0&showTitle=false&size=562639&status=done&style=none&taskId=u85ca800e-faaa-4c4d-8988-12997dd8df5&title=&width=494.9854736328125)<br />对于一个简单的J(θ)，可以对其求导，并使其=0即可求出最小值的位置。<br />对于参数是向量的J(θ)，对于每一个元素求其偏导函数并=0，最终就可以直接得到最小化代价函数的θ值。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646586767079-24e45762-8ff5-48da-8982-aa8b1c7354d9.png#clientId=ub7402653-2256-4&from=paste&height=362&id=u206e0484&originHeight=1034&originWidth=1666&originalType=binary&ratio=1&rotation=0&showTitle=false&size=638575&status=done&style=none&taskId=uc8ef5e8d-6f2b-408f-a80a-221e3674e5d&title=&width=584)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646587235602-d2cec31f-d444-4493-9549-c5e40c4ddc72.png#clientId=ub7402653-2256-4&from=paste&height=371&id=u2c8f3daa&originHeight=1047&originWidth=1641&originalType=binary&ratio=1&rotation=0&showTitle=false&size=607832&status=done&style=none&taskId=u36192c31-775b-46f5-ab39-69d1acd9112&title=&width=582)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646709085086-75602cb1-005c-47f0-a5b9-d7d93e8b103a.png#clientId=u28ad041a-7e01-4&from=paste&height=376&id=u58efe523&originHeight=1240&originWidth=1921&originalType=binary&ratio=1&rotation=0&showTitle=false&size=816540&status=done&style=none&taskId=ub32f3270-b41d-4baf-82ed-6e3cb0b114d&title=&width=582)<br />将输入特征X和输出y写成矩阵形式然后矩阵求导做最小二乘法直接得到最小值<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646709895105-74300963-d0da-4245-a20a-5219c41ad49b.png#clientId=u28ad041a-7e01-4&from=paste&height=342&id=u077e07c6&originHeight=1161&originWidth=1956&originalType=binary&ratio=1&rotation=0&showTitle=false&size=754695&status=done&style=none&taskId=u592a6c27-f414-48c8-8a81-dd4bceae29c&title=&width=576)<br />正规方程的问题在于时间复杂度是矩阵维度的立方，当参数上万甚至百万时，计算将会非常耗时。<br />而梯度下降的时间复杂度只是随维度线性增长\n\n\n<a name=\"MZy8m\"></a>\n## 补充：矩阵最小二乘法\n> 弹幕：\n> XTX将不一定为方阵且大小不固定的矩阵转换为大小固定为（n+1）*（n+1）的方阵，转换为Ax=z的方程组形式\n> 并且这里的XTX=A是满秩的，从而可逆，接下来进行对x也就是theat的求解\n> 最小二乘法的矩阵形式\n> \n> 这个方程是求最佳近似向量，可以参考矩阵论课本\n> \n> 投影矩阵。将y向系数矩阵的列空间投影，得到近似解\n> \n> 此处运用了Moore-Penrose 广义逆矩阵\n> 课件当中，(XTX)^(-1)XT为X的左逆（M-P广义逆的一种，相对应的还有右逆）\n> (XTX)^(-1)X 也即左逆存在的条件是X列满秩，相对应的 右逆存在的条件为X行满秩\n\n[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1UK4y1t7bv)\n<a name=\"sS9Uk\"></a>\n# 4-7正规方程在矩阵不可逆情况下的解决方法\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646714372971-b17ee11a-9b56-4ab2-b752-0f5f8a2da5a4.png#clientId=u28ad041a-7e01-4&from=paste&height=270&id=u56df22c0&originHeight=940&originWidth=1646&originalType=binary&ratio=1&rotation=0&showTitle=false&size=357997&status=done&style=none&taskId=u71a14df1-2408-4abf-8bd1-7a2ccbe9686&title=&width=473)<br />pinv（Pseudo Inverse）无论XTX是否可逆总能给我们想要的θ值：<br />[https://www.geeksforgeeks.org/differenece-between-inv-and-pinv-functions-in-matlab/](https://www.geeksforgeeks.org/differenece-between-inv-and-pinv-functions-in-matlab/)\n\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646731843996-87dd903e-dcb4-40ff-b307-9582fb6f2786.png#clientId=u28ad041a-7e01-4&from=paste&height=314&id=u08fa40ec&originHeight=1183&originWidth=1786&originalType=binary&ratio=1&rotation=0&showTitle=false&size=752542&status=done&style=none&taskId=ub77163c3-da2f-4cfc-8248-e9e64c244ed&title=&width=474)\n\n> X^T*X出现不可逆的情况原因可能是：\n> 1. 方阵中的两个维度之间存在线性变换关系，导致方阵不满秩\n> 2. n（特征数量）相较于m（样本数量）过大，导致其产生的齐次方程组Ax=0不只有零解\n> \n\n方阵线性相关导致不满秩、无解、不可逆的代数、几何解释：<br />[https://www.zhihu.com/question/270393340](https://www.zhihu.com/question/270393340)\n<a name=\"zD9fM\"></a>\n# 5-6向量化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646733724587-fc78959e-1e70-45fd-b6da-12a87346b8cb.png#clientId=u21ebbf88-d711-4&from=paste&height=458&id=u16f9a9c2&originHeight=1167&originWidth=1425&originalType=binary&ratio=1&rotation=0&showTitle=false&size=607876&status=done&style=none&taskId=u353e8b63-83f6-41a8-b31d-345e68071eb&title=&width=559)<br />一些线性的计算可以可以用向量和矩阵的形式求解<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646734439233-49060603-6109-40e8-9c57-1c3450a9cdb8.png#clientId=u21ebbf88-d711-4&from=paste&height=410&id=u1bbd2f1d&originHeight=1054&originWidth=1423&originalType=binary&ratio=1&rotation=0&showTitle=false&size=425264&status=done&style=none&taskId=ub142fe9a-7652-429a-ac7a-8c82bb10210&title=&width=554)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1646735350787-785017a4-3d37-4394-a2ac-474c496299f3.png#clientId=u21ebbf88-d711-4&from=paste&height=844&id=ud85202cf&originHeight=1319&originWidth=1757&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1124856&status=done&style=none&taskId=uf0917190-b1e0-4651-9c52-75d3f650cf9&title=&width=1124.48)<br />遍历求和这种操作尤其适合向量化\n<a name=\"jDT8s\"></a>\n# 6-1分类\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647331089331-4028521b-aa43-4fa4-9919-478a09fcdd27.png#clientId=uda94383f-0dc9-4&from=paste&height=433&id=uc63854ac&originHeight=1052&originWidth=1314&originalType=binary&ratio=1&rotation=0&showTitle=false&size=432277&status=done&style=none&taskId=u6d44c836-ec34-4af0-9917-a1fada09443&title=&width=541)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647331379192-ec982c4b-605d-486f-b315-049d9d5e69bc.png#clientId=uda94383f-0dc9-4&from=paste&height=436&id=u3daa7b46&originHeight=1105&originWidth=1502&originalType=binary&ratio=1&rotation=0&showTitle=false&size=544288&status=done&style=none&taskId=u681a2212-95d2-47a2-bd9d-eefddd99a46&title=&width=593)<br />对于一个分类问题，比如判断肿瘤是否为恶性，如果使用之前学习的线性回归加阈值的方法可以跑通，但是如果出现几个距离阈值很远的样本，就会使平方差过大导致过拟合。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647331822969-45b9203c-e72b-4790-bd04-b66b567a1a3c.png#clientId=uda94383f-0dc9-4&from=paste&height=361&id=u3077de45&originHeight=1030&originWidth=1235&originalType=binary&ratio=1&rotation=0&showTitle=false&size=284406&status=done&style=none&taskId=uf0c24bc5-d648-4408-862c-cf56f068c2d&title=&width=433)\n<a name=\"pu4Gh\"></a>\n## Logistic Regression分类算法\n<a name=\"mZc2O\"></a>\n# 6-2假设陈述\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647334327671-fddc904c-8c6c-45cf-9d40-b9e714459bbb.png#clientId=uda94383f-0dc9-4&from=paste&height=446&id=ucfbe23b3&originHeight=1131&originWidth=1424&originalType=binary&ratio=1&rotation=0&showTitle=false&size=578860&status=done&style=none&taskId=uf1c1097a-a67b-4d55-b1b8-dcbc72766cd&title=&width=562)<br />假设函数在之前线性回归的基础上加以修改，结果带入Logistic（与Sigmoid同义）函数<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647334934938-a9ad7496-2549-4ba7-aeaf-2a76e2bbead3.png#clientId=uda94383f-0dc9-4&from=paste&height=412&id=u9a5f95d0&originHeight=1096&originWidth=1485&originalType=binary&ratio=1&rotation=0&showTitle=false&size=605020&status=done&style=none&taskId=u4dcee10c-e1d0-4e28-bf9e-481302b7a30&title=&width=558)<br />假设函数结果的意义是：肿瘤为恶性(y=1)在特定输入(输入的Size)下的概率\n<a name=\"bH9tr\"></a>\n# 6-3决策边界（Decision Boundary）\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647335351710-14c1aa99-60dc-4dd4-a10d-1a52ba535a42.png#clientId=uda94383f-0dc9-4&from=paste&height=500&id=u39ed7f71&originHeight=1168&originWidth=1483&originalType=binary&ratio=1&rotation=0&showTitle=false&size=673094&status=done&style=none&taskId=u839df53a-3978-4c95-9216-910b6b8ad02&title=&width=635)<br />还是以0.5为阈值将连续的概率划分为离散值<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647336854815-29a30081-899d-44ef-beee-256c52c59e06.png#clientId=uda94383f-0dc9-4&from=paste&height=430&id=u7387b9c5&originHeight=1178&originWidth=1741&originalType=binary&ratio=1&rotation=0&showTitle=false&size=717829&status=done&style=none&taskId=u59c5463e-d976-42aa-b12d-16149778fe3&title=&width=635)<br />对假设函数等量代换后得到的x1+x2=3这根线就是决策边界<br />当所有θ确定后，假设函数的决策边界也就确定了<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647337359135-66cc2392-0634-446f-8e7b-e3603aa7c60f.png#clientId=uda94383f-0dc9-4&from=paste&height=434&id=u1136753d&originHeight=1124&originWidth=1494&originalType=binary&ratio=1&rotation=0&showTitle=false&size=755254&status=done&style=none&taskId=u01d84851-8027-4fbe-b5f1-cc3994da310&title=&width=577)\n\n\n<a name=\"pj8NL\"></a>\n## 待补充：线性规划\n[https://zh.wikipedia.org/wiki/%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92](https://zh.wikipedia.org/wiki/%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92)\n\n<a name=\"YqFXP\"></a>\n# 6-4代价函数\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647349999319-2122b599-9e0e-4b60-868a-1151f63ecd0b.png#clientId=uda94383f-0dc9-4&from=paste&height=345&id=ue59c97c4&originHeight=1020&originWidth=1453&originalType=binary&ratio=1&rotation=0&showTitle=false&size=406878&status=done&style=none&taskId=u165478e9-389d-43bc-a259-8f922f9446d&title=&width=491)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647350316180-88d35af6-9c3d-46ba-8085-658d086962f1.png#clientId=uda94383f-0dc9-4&from=paste&height=331&id=ua63bd0a1&originHeight=845&originWidth=1504&originalType=binary&ratio=1&rotation=0&showTitle=false&size=440031&status=done&style=none&taskId=u40c20a83-7dc3-4888-8b51-a22b4b4b75b&title=&width=589)<br />之前的代价函数现在成了非凸函数，不利于梯度下降<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647350988070-54d3495a-2cef-4053-a40b-f931a7d96907.png#clientId=uda94383f-0dc9-4&from=paste&height=403&id=ue5b8e8ce&originHeight=1096&originWidth=1402&originalType=binary&ratio=1&rotation=0&showTitle=false&size=430781&status=done&style=none&taskId=u93a3a25f-0765-4f71-a9e9-25df06d15c0&title=&width=516)<br />这里使用新的代价函数，使用-log让预测错误时代价无限大，预测正确时代价为0\n\n<a name=\"SYrbB\"></a>\n## 待补充：凸优化\n[机器学习必知必会：凸优化](https://zhuanlan.zhihu.com/p/85408804)\n\n<a name=\"J7iOF\"></a>\n# 6-5简化代价函数与梯度下降\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647411163844-d3624bfb-5045-47c8-b03a-088148e18352.png#clientId=u697c350d-92a5-4&from=paste&height=450&id=ued1b8139&originHeight=1067&originWidth=1463&originalType=binary&ratio=1&rotation=0&showTitle=false&size=708032&status=done&style=none&taskId=u66ed6f29-1bbc-42f0-9de2-ca12fdc7bc6&title=&width=617)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647412325268-3149b3de-8049-4d52-a0fe-5efbdef195d6.png#clientId=u697c350d-92a5-4&from=paste&height=441&id=uef025ba0&originHeight=1070&originWidth=1501&originalType=binary&ratio=1&rotation=0&showTitle=false&size=459874&status=done&style=none&taskId=u21a69cde-d3d3-4420-8ef1-6aa55f31454&title=&width=619)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647520850200-c06585d0-6092-4052-ba18-1ccc08bfd42c.png#clientId=u87716da8-1cdb-4&from=paste&height=445&id=ud90f2e21&originHeight=1152&originWidth=1610&originalType=binary&ratio=1&rotation=0&showTitle=false&size=542477&status=done&style=none&taskId=ue755fe2f-5732-4cac-9217-0c0ca8830dc&title=&width=622)<br />Logistic回归公式<br />假设函数：<br />![](https://cdn.nlark.com/yuque/__latex/ffd58cbe208941b46f574ef225329f95.svg#card=math&code=h_%7B%5Ctheta%20%7D%28%20X%29%20%3D%5Cfrac%7B1%7D%7B1%2Be%5E%7B-%5Ctheta%20%5E%7BT%7D%20X%7D%7D&id=OV09I)<br />代价函数：<br />![](https://cdn.nlark.com/yuque/__latex/76a55e3f3ba0acf3ed37d8e1596a1802.svg#card=math&code=J%28%20%5Ctheta%20%29%20%3D-%5Cfrac%7B1%7D%7Bm%7D%5Csum%20_%7Bi%3D1%7D%5E%7Bm%7D%5Cleft%5B%20y%5E%7B%28%20i%29%7D%20logh_%7B%5Ctheta%20%7D%5Cleft%28%20x%5E%7B%28%20i%29%7D%5Cright%29%20%2B%5Cleft%28%201-y%5E%7B%28%20i%29%7D%5Cright%29%20log%5Cleft%28%201-h_%7B%5Ctheta%20%7D%5Cleft%28%20x%5E%7B%28%20i%29%7D%5Cright%29%5Cright%29%5Cright%5D&id=Y0T3M)<br />梯度下降法，对![](https://cdn.nlark.com/yuque/__latex/009f9fc1aba552da83588311c34683e5.svg#card=math&code=%5Cfrac%7B%5Cpartial%20%7D%7B%5Cpartial%20%5Ctheta%20_%7Bj%7D%7D%20J%28%20%5Ctheta%20%29&id=i8Q1a)开导后：<br />![](https://cdn.nlark.com/yuque/__latex/6a64dbf4abc1ae3ee290465c7ad7bb8f.svg#card=math&code=%5Ctheta%20_%7Bj%7D%20%3A%3D%5Ctheta%20_%7Bj%7D%20-a%5Cfrac%7B1%7D%7Bm%7D%5Csum%20_%7Bi%3D1%7D%5E%7Bm%7D%5Cleft%28%20h_%7B%5Ctheta%20%7D%5Cleft%28%20x%5E%7B%28%20i%29%7D%5Cright%29%20-y%5E%7B%28%20i%29%7D%5Cright%29%20x_%7Bj%7D%5E%7B%28%20i%29%7D&id=d213L)\n\n假设函数给出的是连续的概率，代价函数使用了极大似然估计\n\n<a name=\"qL2nR\"></a>\n## 补充：统计学中的极大似然估计\n似然估计<br />[https://zh.wikipedia.org/zh-hans/%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1](https://zh.wikipedia.org/zh-hans/%E6%9C%80%E5%A4%A7%E4%BC%BC%E7%84%B6%E4%BC%B0%E8%AE%A1)<br />[一文搞懂极大似然估计](https://zhuanlan.zhihu.com/p/26614750)<br />[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1Hb4y1m7rE)\n<a name=\"mHaBw\"></a>\n## 补充：对数\n[https://zh.wikipedia.org/wiki/%E5%AF%B9%E6%95%B0](https://zh.wikipedia.org/wiki/%E5%AF%B9%E6%95%B0)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647413777491-35d55534-ae2b-478e-91ed-0ed819ddcec6.png#clientId=u697c350d-92a5-4&from=paste&height=134&id=ub9b4dd53&originHeight=209&originWidth=909&originalType=binary&ratio=1&rotation=0&showTitle=false&size=31555&status=done&style=none&taskId=ua2192c11-4ce2-4e52-bd98-8b22b4ed717&title=&width=581.76)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647413756250-59203348-2ebd-4876-9154-f7ab56abaf5a.png#clientId=u697c350d-92a5-4&from=paste&height=179&id=ua012997a&originHeight=279&originWidth=1151&originalType=binary&ratio=1&rotation=0&showTitle=false&size=92103&status=done&style=none&taskId=u1835d80b-0ad8-4ff1-b891-b24bd26fae4&title=&width=736.64)\n<a name=\"RoTCy\"></a>\n## 补充：Logistic回归代价函数的推导\n[Logistic回归代价函数的数学推导及实现_空字符（公众号：月来客栈）的博客-CSDN博客_logistics回归的代价函数](https://blog.csdn.net/The_lastest/article/details/78761577)\n<a name=\"fxX8m\"></a>\n## 补充：Logistic Regression\n[【机器学习】逻辑回归（非常详细）](https://zhuanlan.zhihu.com/p/74874291)\n<a name=\"csu3x\"></a>\n# 6-6高级优化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647523333330-d4caabf8-263a-41b5-a787-30bc5db26532.png#clientId=u87716da8-1cdb-4&from=paste&height=349&id=u9f77634d&originHeight=786&originWidth=1441&originalType=binary&ratio=1&rotation=0&showTitle=false&size=328131&status=done&style=none&taskId=ubdf328af-4ef4-4dc6-b316-436a3dae32b&title=&width=639)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647586475331-c240d507-55c3-4579-b03b-04ebdef33605.png#clientId=u5f2b3058-6a81-4&from=paste&height=471&id=u42da1f7c&originHeight=1119&originWidth=1535&originalType=binary&ratio=1&rotation=0&showTitle=false&size=922056&status=done&style=none&taskId=udd1ae295-5d70-4e3d-9e55-9ff12e5b847&title=&width=646)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647586609665-b4fa2c12-6d6f-42f8-bd20-18e5789c6f88.png#clientId=u5f2b3058-6a81-4&from=paste&height=426&id=u83889bf9&originHeight=1087&originWidth=1472&originalType=binary&ratio=1&rotation=0&showTitle=false&size=705994&status=done&style=none&taskId=u18b0d073-853d-4a42-8737-285394ea779&title=&width=577)<br />通常不需要完全理解高级算法（比如共轭梯度法（Conjugate Gradient））的全部细节，直接调用就可以了，我们需要做的是实现计算![](https://cdn.nlark.com/yuque/__latex/8b100d1486ed5929fd09cd666038e86b.svg#card=math&code=J%28%20%5Ctheta%20%29&id=aLfi0)和![](https://cdn.nlark.com/yuque/__latex/009f9fc1aba552da83588311c34683e5.svg#card=math&code=%5Cfrac%7B%5Cpartial%20%7D%7B%5Cpartial%20%5Ctheta%20_%7Bj%7D%7D%20J%28%20%5Ctheta%20%29&id=EV3x6)\n<a name=\"JB4cP\"></a>\n# 6-7多元分类：一对多\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647592038962-6dedaae1-4a7f-4a9b-b60d-23a2d7bb6c68.png#clientId=u5f2b3058-6a81-4&from=paste&height=411&id=u432e1c5b&originHeight=1050&originWidth=1388&originalType=binary&ratio=1&rotation=0&showTitle=false&size=374195&status=done&style=none&taskId=u2a49734c-6d3f-4625-8b49-4867a68baef&title=&width=543)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647592288178-228cd784-30e0-4736-ab78-af8bb54f865c.png#clientId=u5f2b3058-6a81-4&from=paste&height=425&id=u135b976c&originHeight=1161&originWidth=1763&originalType=binary&ratio=1&rotation=0&showTitle=false&size=715036&status=done&style=none&taskId=u1ca4d186-6b08-4fe4-9fd8-45086cf3a10&title=&width=645)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647592377125-be838e11-1f30-4912-9af3-28dc774622f4.png#clientId=u5f2b3058-6a81-4&from=paste&height=428&id=u260c5fcb&originHeight=1067&originWidth=1457&originalType=binary&ratio=1&rotation=0&showTitle=false&size=423222&status=done&style=none&taskId=u94540e39-78bd-478e-a4d0-dae1f6ce22d&title=&width=584)<br />一对多：针对每个类别分别训练模型，在预测新样本时选择概率最高的模型结果\n<a name=\"XMt1P\"></a>\n# 7-1过拟合（Over Fitting）问题\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647593046502-175213a2-cc7f-4cf5-9e33-819fd8baf812.png#clientId=u5f2b3058-6a81-4&from=paste&height=682&id=uee881484&originHeight=1065&originWidth=1582&originalType=binary&ratio=1&rotation=0&showTitle=false&size=695382&status=done&style=none&taskId=u8bcbcf51-05f0-4e5a-9c20-8a090760262&title=&width=1012.48)<br />当特征过少，比如用直线拟合房价，就会出现欠拟合（Under Fitting），或称作具有高偏差（High Bias）。<br />一个优秀的模型应当适当（Just Right）拟合，以增强泛化（Generalize，预测新样本）能力。<br />但特征过多，就会面临过拟合（Over Fitting），或称作高方差（High Variance），失去预测新样本的能力。 <br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647594217094-da749f36-381c-4ac8-8b2d-07a1e04bfc1c.png#clientId=u5f2b3058-6a81-4&from=paste&height=405&id=u69b485e1&originHeight=1122&originWidth=1572&originalType=binary&ratio=1&rotation=0&showTitle=false&size=401571&status=done&style=none&taskId=u28e7607b-d070-4a9a-8e9f-f6c6eec9265&title=&width=567)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647594407407-7fef6e7d-330e-4263-a7f5-70a6a5283258.png#clientId=u5f2b3058-6a81-4&from=paste&height=473&id=ub9eb1b4c&originHeight=1065&originWidth=1393&originalType=binary&ratio=1&rotation=0&showTitle=false&size=503444&status=done&style=none&taskId=ud4720e6c-511e-440c-8e0a-d34a18551a4&title=&width=619)<br />为了避免过拟合，我们可以减少特征的数量，这就涉及到特征提取。<br />理想的特征应该尽可能少，同时尽可能描述样本之间的差异<br />另一个选择是**正则化（Regularization**），保留所有特征但是减小θj\n<a name=\"RpiLD\"></a>\n## 补充：特征提取（Feature Extraction）\n[机器学习之数据清洗、特征提取与特征选择](https://zhuanlan.zhihu.com/p/34450286)<br />[https://zh.wikipedia.org/wiki/%E7%89%B9%E5%BE%B5%E6%8F%90%E5%8F%96](https://zh.wikipedia.org/wiki/%E7%89%B9%E5%BE%B5%E6%8F%90%E5%8F%96)<br />[https://www.bilibili.com/video/BV1734y117nR?p=3](https://www.bilibili.com/video/BV1734y117nR?p=3)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647594628755-36a7d83e-ed7e-4922-ba82-7285379dfa66.png#clientId=u5f2b3058-6a81-4&from=paste&height=680&id=u1f483c54&originHeight=1063&originWidth=1513&originalType=binary&ratio=1&rotation=0&showTitle=false&size=953135&status=done&style=none&taskId=ue878c8d7-db4d-4e3f-8ee6-6a2d45d32d2&title=&width=968.32)\n<a name=\"cEptR\"></a>\n# 7-2正则化（Regularization）代价函数\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647595304414-8637e792-5864-4c95-afb5-6f73214579de.png#clientId=u40a7cf3c-b1d8-4&from=paste&height=454&id=u70b8ad78&originHeight=1082&originWidth=1407&originalType=binary&ratio=1&rotation=0&showTitle=false&size=494795&status=done&style=none&taskId=u0130de7f-ea68-48ac-a2e8-164bd79df48&title=&width=591)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647596568228-7776c964-37ab-4ce9-9862-05a67c0b0770.png#clientId=u40a7cf3c-b1d8-4&from=paste&height=415&id=u97e78047&originHeight=1084&originWidth=1724&originalType=binary&ratio=1&rotation=0&showTitle=false&size=609351&status=done&style=none&taskId=u53a948c9-774e-4195-b70d-21bdd5c9379&title=&width=660)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647596753091-19db0a35-1242-46a3-a5c5-a22f7a76ea6b.png#clientId=u40a7cf3c-b1d8-4&from=paste&height=442&id=ufd9ff928&originHeight=1078&originWidth=1513&originalType=binary&ratio=1&rotation=0&showTitle=false&size=433064&status=done&style=none&taskId=uf793a50f-9db7-48b5-a883-3d85cdb9551&title=&width=621)<br />正则化通过增大θ过大的惩罚来缩小θ，从而简化参数，平滑曲线，消除过拟合<br />![](https://cdn.nlark.com/yuque/__latex/3aa688dd88814862b803b2030766bd5f.svg#card=math&code=%5Clambda%20&id=xuMGm)（Lambda）为正则化系数<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647602032276-899f5113-6a51-45a7-8ab4-f584c6965002.png#clientId=u40a7cf3c-b1d8-4&from=paste&height=427&id=u68a98103&originHeight=1068&originWidth=1517&originalType=binary&ratio=1&rotation=0&showTitle=false&size=567546&status=done&style=none&taskId=u31a03050-3213-4fa5-b0fa-36bee090617&title=&width=607)<br />正则化系数过大时会导致欠拟合<br />**多重选择**会自动选择最合适的正则化系数\n<a name=\"CCN4X\"></a>\n# 7-3线性回归的正则化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647606931812-86228e1c-3249-4278-bc41-c8f98af61b84.png#clientId=uf95b3f44-10b4-4&from=paste&height=260&id=ua3d2b04d&originHeight=674&originWidth=1630&originalType=binary&ratio=1&rotation=0&showTitle=false&size=167602&status=done&style=none&taskId=ueab58142-bae1-4dda-a315-b3e6ef0ffa6&title=&width=628)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647607558870-c0d0150f-eaad-45b6-861f-e44f53a4b41b.png#clientId=uf95b3f44-10b4-4&from=paste&height=437&id=u79a31cab&originHeight=1222&originWidth=1869&originalType=binary&ratio=1&rotation=0&showTitle=false&size=933339&status=done&style=none&taskId=ub17d17cc-0a19-4b80-aed6-56892134e52&title=&width=668)<br />对于θ1-n，在计算代价时加入惩罚，求导并简化后可以直观地看到，相当于每次迭代把θj缩小一点点，说的正式一点就是θj的平方**范数**变小了\n<a name=\"lraWR\"></a>\n## 正规方程的正则化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647608541324-bf9d05f7-b1d2-459b-9cb4-84e19a869934.png#clientId=uf95b3f44-10b4-4&from=paste&height=388&id=u89d507d9&originHeight=1195&originWidth=1577&originalType=binary&ratio=1&rotation=0&showTitle=false&size=603250&status=done&style=none&taskId=uce0c3c80-260d-4a9f-b771-dcd757bca17&title=&width=512)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647609741008-9bbbc528-c33f-44a8-ae27-ec5c3d9a367e.png#clientId=uf95b3f44-10b4-4&from=paste&height=373&id=u9d31dea3&originHeight=1172&originWidth=1922&originalType=binary&ratio=1&rotation=0&showTitle=false&size=512230&status=done&style=none&taskId=ua2678740-11c9-450f-b180-44909e72ebb&title=&width=611)<br />结论是在XTX之后加上![](https://cdn.nlark.com/yuque/__latex/1f61b3cfb4c050144773a11a37d3db03.svg#card=math&code=%5Clambda%5Cbegin%7Bbmatrix%7D%0A0%20%26%20%20%26%20%20%26%20%5C%5C%0A%20%26%201%20%26%20%20%26%20%5C%5C%0A%20%26%20%20%26%20%5Cddots%20%20%26%20%5C%5C%0A%20%26%20%20%26%20%20%26%201%0A%5Cend%7Bbmatrix%7D&id=ujbAQ)就可以实现正规方程法的正则化<br />这还顺便解决了一些不可逆的问题，比如XTX不满秩的情况下，加上该矩阵后即满秩\n<a name=\"DmesH\"></a>\n# 7-4Logistic回归的正则化\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647612754153-4086e438-1460-4f97-bd3c-f95627f6199b.png#clientId=uf95b3f44-10b4-4&from=paste&height=388&id=u49a13e41&originHeight=1060&originWidth=1592&originalType=binary&ratio=1&rotation=0&showTitle=false&size=574885&status=done&style=none&taskId=ue602286b-ef6c-4652-a84f-20b8a506754&title=&width=583)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647612876593-b9ec510a-2eae-4da1-bbe8-6bf44466ef93.png#clientId=uf95b3f44-10b4-4&from=paste&height=313&id=u9bb98d8b&originHeight=781&originWidth=1431&originalType=binary&ratio=1&rotation=0&showTitle=false&size=265647&status=done&style=none&taskId=ucbc35abd-161c-4114-bd11-124d8d5d535&title=&width=573)<br />不能说很像，只能说一模一样<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1647613111315-40b0917c-331f-4479-8bb2-83ee2800cecd.png#clientId=uf95b3f44-10b4-4&from=paste&height=374&id=u407cb073&originHeight=917&originWidth=1448&originalType=binary&ratio=1&rotation=0&showTitle=false&size=634628&status=done&style=none&taskId=ue2d791a5-bb24-4d94-bbc0-1676abc4a62&title=&width=591)\n\n\n\n\n\n\n\n\n\n\n\n<a name=\"HGns4\"></a>\n# 注意事项\n\n- 第五章Octave教程、第十八章应用实例，这两章可以不用学，有点过时了。\n- 原版的octave作业可以不用做，可以做修改过的python版本作业。\n- 如果和吴恩达老师的《深度学习》公开课一起看，第四、五、六周的内容可以直接学习《深度学习》的相关内容。\n- 这个教程建议在三个月内看完，如果有些地方看不懂，没关系，以后用到的时候再回头看看。\n- 这个课程建议配合课程笔记一起看。本站已经提供了笔记下载\n",
      "properties": {
        "title": "吴恩达机器学习系列课程",
        "urlname": "dmfp4g",
        "date": "2022-03-04 12:51:39",
        "updated": "2023-11-09 03:07:58",
        "author": "Jason Ma"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "dmfp4g"
        }
      ],
      "body": "",
      "realName": "吴恩达机器学习系列课程",
      "relativePath": "/Reading/吴恩达机器学习系列课程.md"
    },
    {
      "id": 30545536,
      "doc_id": "anpupr",
      "title": "anpupr",
      "updated": 1693144674000,
      "body_original": "---<br />tags:\n\n- Shader\n\n---<br />[Per-Component数学运算 - Win32 apps](https://learn.microsoft.com/zh-cn/windows/win32/direct3dhlsl/dx-graphics-hlsl-per-component-math#matrix-ordering)\n<a name=\"RRMqw\"></a>\n# 构造矩阵\n按行填充分量\n```python\n\nfloat2x2 fMatrix = { 0.0f, 0.1, // row 1\n                     2.1f, 2.2f // row 2\n                   };   \n\nfloat3 row0 = float3(1, 0, 0);\nfloat3 row1 = float3(0, 1, 0);\nfloat3 row2 = float3(0, 0, 1);\n\nfloat3x3 matrix = float3x3(row0, row1, row2);\n```\n<a name=\"kmeNn\"></a>\n# 访问矩阵元素\n可以使用数组访问表示法（一组从零开始的索引）访问矩阵。 每个索引都位于方括号内。 使用以下索引访问 4x4 矩阵：\n\n- [0][0], [0][1], [0][2], [0][3]\n- [1][0], [1][1], [1][2], [1][3]\n- [2][0], [2][1], [2][2], [2][3]\n- [3][0], [3][1], [3][2], [3][3]\n\n所以使用单个方括号时为按行访问\n```\nfloat2x2 fMatrix = { 1.0f, 1.1f, // row 1\n                     2.0f, 2.1f  // row 2\n                   };\nfloat temp;\n\ntemp = fMatrix[0][0] // single component read\ntemp = fMatrix[0][1] // single component read\nfMatrix[0] // row 1\nfMatrix[1] // row 2\n```\n还可以使用_mXX访问任意位置:<br />_m00、_m01、_m02、_m03<br />_m10、_m11、_m12、_m13<br />_m20、_m21、_m22、_m23<br />_m30、_m31、_m32、_m33\n```\n// given\nfloat2x2 fMatrix = { 1.0f, 1.1f, // row 1\n                     2.0f, 2.1f  // row 2\n                   }; \n\nfloat f_1D;\nf_1D = matrix._m00; // read the value in row 1, column 1: 1.0\nf_1D = matrix._m11; // read the value in row 2, column 2: 2.1\n\nf_1D = matrix._11;  // read the value in row 1, column 1: 1.0\nf_1D = matrix._22;  // read the value in row 2, column 2: 2.1\n```\n<a name=\"kOcvD\"></a>\n# unity_ObjectToWorld / UNITY_MATRIX_M\n\n- 第1行、第2行、第3行 = Object Rotation的xyz axis，length = 其xyz缩放，normalize = xyz hat\n- unity_ObjectToWorld._m03_m13_m23 = Object Center World Pos\n\n\n<a name=\"GEh0U\"></a>\n# UNITY_MATRIX_V\ncamera right = V[0].xyz<br />camera up= V[1].xyz<br />camera forward = -V[2].xyz\n\n\n<a name=\"TUiXj\"></a>\n# UNITY_MATRIX_P\n![](https://cdn.nlark.com/yuque/0/2021/png/504873/1614098323531-65af77f3-2658-4859-9104-dfc9db3b8a44.png#averageHue=%23fcfbfa&height=174&id=yo0qp&originHeight=174&originWidth=338&originalType=binary&ratio=1&rotation=0&showTitle=false&size=0&status=done&style=none&title=&width=338)![](https://cdn.nlark.com/yuque/0/2021/png/504873/1614098431195-5bad3cfc-8971-4d0c-a484-209ce33f5365.png#averageHue=%23fbfbfa&height=171&id=sVFTt&originHeight=171&originWidth=354&originalType=binary&ratio=1&rotation=0&showTitle=false&size=0&status=done&style=none&title=&width=354)\n",
      "properties": {
        "title": "Unity Shader矩阵",
        "urlname": "anpupr",
        "date": "2021-01-22 04:07:34",
        "updated": "2023-08-27 13:57:54",
        "author": "Jason Ma"
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "anpupr"
        },
        {
          "title": "Unity",
          "doc_id": "anpupr"
        }
      ],
      "body": "",
      "realName": "Unity Shader矩阵",
      "relativePath": "/TA/Unity/Unity Shader矩阵.md"
    },
    {
      "id": 44671602,
      "doc_id": "gbkk7e",
      "title": "gbkk7e",
      "updated": 1689519340000,
      "body_original": "---<br />tags:\n\n- Shader\n\n---\n<a name=\"XLifF\"></a>\n# 结论\n一张贴图，如果是作为颜色贴图使用，要勾选sRGB。此时在Shader中直接采样贴图输出就是原本的颜色。<br />如果不是颜色贴图，需要在Shader中进行特殊计算，不要勾选sRGB。此时在Shader中采样获得的是贴图原本的颜色。\n\n将非颜色数据输出进行Debug时一定要注意Gamma的影响\n<a name=\"ZDM45\"></a>\n# 过程\n勾sRGB：<br />贴图直接取色（0.5）→ sRGB To Linear → Shader采样（0.217）→ 后处理 Linear To sRGB → 屏幕（0.5）<br />不勾sRGB：<br />贴图直接取色（0.5）→ Shader采样（0.5）→ 后处理 Linear To sRGB → 屏幕（0.729）\n\n本质区别就是不勾sRGB可以直接在Shader采样得到贴图实际的颜色，适合用来做一些数学计算。<br />同理，Material Editor中的Color也会有Gamma的问题。\n\n",
      "properties": {
        "title": "颜色空间 sRGB Gamma",
        "urlname": "gbkk7e",
        "author": "Jason Ma",
        "date": "2021-05-03 00:08:51",
        "updated": "2023-07-16 22:55:40",
        "tags": [
          "Shader"
        ]
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "gbkk7e"
        }
      ],
      "body": ""
    },
    {
      "id": 53149615,
      "doc_id": "cdn0ga",
      "title": "cdn0ga",
      "updated": 1695124014000,
      "body_original": "<a name=\"MrxNf\"></a>\n# 熵和热力学第二定律\n<a name=\"eJUfO\"></a>\n## 熵是什么\n ![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632616222414-7dde3691-f4f5-41ce-a097-3bc7d3f54f2f.png#averageHue=%23142029&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=471&id=u0dcc3b1d&originHeight=941&originWidth=1644&originalType=binary&ratio=1&rotation=0&showTitle=false&size=798012&status=error&style=none&taskId=ua5ef1420-2bba-4f45-92c1-6214744c94d&title=&width=822)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632616261904-950d2b01-b256-4f7f-8195-ff9c7f8924ce.png#averageHue=%23131e28&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=480&id=u796c3551&originHeight=960&originWidth=1745&originalType=binary&ratio=1&rotation=0&showTitle=false&size=760290&status=error&style=none&taskId=u2d51cc09-108f-410f-a11e-02fec2f4111&title=&width=872.5)<br />熵描述了系统可能的状态数，状态越少熵越低越稳定，状态越多熵越高越混乱\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632616506415-6435772e-9d4d-448a-8ccf-70c2de0d1c44.png#averageHue=%2315232c&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=487&id=u00854cd9&originHeight=974&originWidth=1691&originalType=binary&ratio=1&rotation=0&showTitle=false&size=991783&status=error&style=none&taskId=u66659326-1358-4e39-90f5-b393d8f4eb4&title=&width=845.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632616568182-87e6a929-69b4-4a72-bbfb-e87545ee7859.png#averageHue=%2328343b&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=450&id=ub13160dc&originHeight=900&originWidth=1521&originalType=binary&ratio=1&rotation=0&showTitle=false&size=867069&status=error&style=none&taskId=u605c4420-8f3f-43b1-9551-1ed63b6eec6&title=&width=760.5)<br />事物发展往往向着熵更高的方向。<br />混乱是常态，有序是需要刻意营造的。\n\n<a name=\"zM7P4\"></a>\n## 熵增定律\n**在封闭系统中，熵会随着时间的推移增加**<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632616825381-bf7cc870-99f1-4d2b-b1b7-9e14e9fc57ac.png#averageHue=%23b7a342&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=456&id=ua3e0766b&originHeight=912&originWidth=1256&originalType=binary&ratio=1&rotation=0&showTitle=false&size=599135&status=error&style=none&taskId=ube540917-cfd1-4221-9d2b-7abf63b815e&title=&width=628)<br />分子随着时间在2倍大的空间里随机分布，可能的状态数增加，熵增<br />崭新的自行车只有唯一的状态，随着时间的推移不可控地变旧，也就是可能的状态数不断增加，熵增\n\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632617038965-fb3ab38b-708f-4959-8fe9-b9619aa2ebb7.png#averageHue=%23a1a79e&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=466&id=ucb918564&originHeight=932&originWidth=1416&originalType=binary&ratio=1&rotation=0&showTitle=false&size=584947&status=error&style=none&taskId=u882ab011-1621-41cd-8174-e42a4d89ea1&title=&width=708)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632617229419-fdde4c1c-2298-4137-a856-9369237d33ec.png#averageHue=%231b1f22&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=302&id=uc3b9ed49&originHeight=604&originWidth=1083&originalType=binary&ratio=1&rotation=0&showTitle=false&size=108462&status=error&style=none&taskId=u88881f30-4550-456a-84cf-dce8023d901&title=&width=541.5)<br />麦克斯韦妖可以使熵减，对应大自然中的一些无形的规则、制度、法律，始终维持事物、社会向好的方向发展<br />**感知和选择是可以让事物更加有序的**<br />就大脑而言，我们可以通过反思感知思维，通过选择过滤掉一些无助益的思维，从而使只有的思考更加专注、有序\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632617678909-f700a3ee-3d69-42e5-aac6-1cfc02da9045.png#averageHue=%231d2b33&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=482&id=u8ac21c54&originHeight=964&originWidth=1112&originalType=binary&ratio=1&rotation=0&showTitle=false&size=440432&status=error&style=none&taskId=u51f407dc-1d0c-4d08-9851-fc5e25a4f27&title=&width=556)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632617703283-60a46309-a3bf-413b-96d9-e8e8c9079c8c.png#averageHue=%23627665&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=500&id=uded316f2&originHeight=1000&originWidth=1312&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1815264&status=error&style=none&taskId=u59374b00-ce29-4a6c-802c-826abd98764&title=&width=656)<br />麦克斯韦妖需要信息和能量保持运作，这就是一个耗散结构，比如不会腐败，每时每刻状态都不相同的河流<br />人也是耗散结构，体内细胞是在不断更新的<br />耗散结构同时是动态平衡体，是一直在变的，但又一直保持着稳定形态的\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632618852928-890527a9-1d15-436c-80af-f91b1799adca.png#averageHue=%23132530&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=496&id=u32602713&originHeight=991&originWidth=1634&originalType=binary&ratio=1&rotation=0&showTitle=false&size=862017&status=error&style=none&taskId=ub449c993-ff4f-4efb-ba1c-8825077060d&title=&width=817)<br />正信息：增加世界的确定性<br />负信息：增加世界的不确定性的信息，撒谎、谣言、胡思乱想等，增加世界的熵\n\n产生负面情绪往往是体内积累了太多熵，要想排出熵要把注意力放在蓝色的输入部分，对于红色部分采取接纳态度。<br />若无法接纳红色部分，产生了自责，其实就产生了更多熵，进一步阻止排除熵。\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632619249765-97f43dfb-0fbb-43bd-94ad-cb58dde9fc58.png#averageHue=%23243037&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=389&id=u92c2ec32&originHeight=777&originWidth=1452&originalType=binary&ratio=1&rotation=0&showTitle=false&size=802917&status=error&style=none&taskId=ua49333fc-29f2-4248-bd8f-252740db4e3&title=&width=726)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632619271308-03666f9e-3c75-4495-a685-a503bf8f2886.png#averageHue=%23202b33&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=440&id=u7976aabc&originHeight=879&originWidth=1562&originalType=binary&ratio=1&rotation=0&showTitle=false&size=951649&status=error&style=none&taskId=u996fa855-fefa-4c8a-a357-642befacfef&title=&width=781)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632619296853-b109a11c-dd85-4ed1-abd2-0eff2ddd08f3.png#averageHue=%23142430&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=480&id=tL4zo&originHeight=960&originWidth=1604&originalType=binary&ratio=1&rotation=0&showTitle=false&size=858541&status=error&style=none&taskId=u5f9a04e0-03e7-44b4-a0b4-f122260927d&title=&width=802)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632619372267-10e8ca05-523b-45bd-a396-5b8e4a404634.png#averageHue=%2329343b&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=389&id=u1b5bb2bf&originHeight=778&originWidth=1294&originalType=binary&ratio=1&rotation=0&showTitle=false&size=645968&status=error&style=none&taskId=ua8dea582-4e32-4dbe-8432-a67194f105d&title=&width=647)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632619892528-4576f4ad-fd4e-48a6-98b5-6f9e87cefb04.png#averageHue=%23162029&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=328&id=u5cf93819&originHeight=656&originWidth=1320&originalType=binary&ratio=1&rotation=0&showTitle=false&size=661746&status=error&style=none&taskId=u0208a3ed-5832-4099-baeb-c104de289f1&title=&width=660)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632619950051-92e08818-d602-47e3-ab3a-7a5125b4181d.png#averageHue=%23f6f4ed&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=303&id=ufffd3351&originHeight=605&originWidth=1346&originalType=binary&ratio=1&rotation=0&showTitle=false&size=225998&status=error&style=none&taskId=ue60c7fe1-4d44-422d-8fc9-700bb0c1d94&title=&width=673)\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632620007623-647d9f23-2959-46ed-98ce-40592186f493.png#averageHue=%23d8d4bd&clientId=u867f4da5-c0b2-4&errorMessage=unknown%20error&from=paste&height=390&id=u1608ab52&originHeight=779&originWidth=1001&originalType=binary&ratio=1&rotation=0&showTitle=false&size=750095&status=error&style=none&taskId=uc0c8af1b-8473-4dd1-a182-1d63d59c92f&title=&width=500.5)\n\n为了建立耗散结构需要走出舒适区，从小事开始一步一步积累\n\n<a name=\"Ih9Ik\"></a>\n# 系统论\n<a name=\"avQMG\"></a>\n## 生活的飞轮\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632874698289-d2f7a43f-3c18-49c3-b062-43a23582ea54.png#averageHue=%231e2830&clientId=u21eccdbf-1841-4&errorMessage=unknown%20error&from=paste&height=269&id=u18935985&originHeight=537&originWidth=1489&originalType=binary&ratio=1&rotation=0&showTitle=false&size=535823&status=error&style=none&taskId=u484c1b65-afec-4830-a2a6-116f041ff5d&title=&width=744.5)<br />工程分解聚焦局部，只见树木<br />系统论把森林当成整体，研究每棵树之间的关系，既见树木也见森林\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632875109021-400d2bdb-0202-4fc0-a620-680526544453.png#averageHue=%23151f28&clientId=u21eccdbf-1841-4&errorMessage=unknown%20error&from=paste&height=419&id=u153d56c5&originHeight=838&originWidth=1074&originalType=binary&ratio=1&rotation=0&showTitle=false&size=370470&status=error&style=none&taskId=u2a641b60-d955-4daf-9cd4-f4e69640be4&title=&width=537)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632875430337-ef1118e4-4382-4963-91dc-48147fd0e356.png#averageHue=%23141e27&clientId=u21eccdbf-1841-4&errorMessage=unknown%20error&from=paste&height=382&id=u95e266a4&originHeight=764&originWidth=1188&originalType=binary&ratio=1&rotation=0&showTitle=false&size=400451&status=error&style=none&taskId=ub215eea8-40eb-4be9-b325-a4af47d9557&title=&width=594)<br />当陷入一个消极的系统中时，要改变整个系统需要找到杠杆解（Leverage）<br />否则做出的改变最终会被系统修正（世界线收束？\n\n<a name=\"s0ZKR\"></a>\n## 什么是系统\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632875502596-accd6365-cf72-4cfd-8444-b115be891959.png#averageHue=%2317212a&clientId=u21eccdbf-1841-4&errorMessage=unknown%20error&from=paste&height=407&id=u4ad67e82&originHeight=814&originWidth=1130&originalType=binary&ratio=1&rotation=0&showTitle=false&size=555950&status=error&style=none&taskId=ub3ca86cb-ade7-444e-979d-fbcbcbba4ed&title=&width=565)\n\n四种系统：<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632875658203-4e86d008-31dc-4b83-bb8a-f845bc0400b5.png#averageHue=%23162029&clientId=u21eccdbf-1841-4&errorMessage=unknown%20error&from=paste&height=305&id=u0d58a2a3&originHeight=609&originWidth=1093&originalType=binary&ratio=1&rotation=0&showTitle=false&size=387316&status=error&style=none&taskId=uc5e03297-ae15-4c55-b2e5-c5320954b00&title=&width=546.5)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632875681029-72a58472-deb9-4d49-8d84-60c23334fa88.png#averageHue=%232c3333&clientId=u21eccdbf-1841-4&errorMessage=unknown%20error&from=paste&height=85&id=u0d57c123&originHeight=170&originWidth=1125&originalType=binary&ratio=1&rotation=0&showTitle=false&size=122202&status=error&style=none&taskId=uff8937c3-cbec-4437-8818-4042c2ca057&title=&width=562.5)<br />要素和关系分正负，作用分快慢，可以构成5种系统现象：<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1632875741799-973dff42-767b-423f-bc40-51f6c4ad8f66.png#averageHue=%23131e26&clientId=u21eccdbf-1841-4&errorMessage=unknown%20error&from=paste&height=383&id=u2fc55d6c&originHeight=766&originWidth=1193&originalType=binary&ratio=1&rotation=0&showTitle=false&size=481299&status=error&style=none&taskId=uf9d03351-67b1-4942-9012-dc1bbfb01ad&title=&width=596.5)\n<a name=\"HZT35\"></a>\n## 要素\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653607869-18980def-c5f6-46b6-9c90-0fc4e97e5bd2.png#averageHue=%23111c24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=483&id=u17a57028&originHeight=966&originWidth=1310&originalType=binary&ratio=1&rotation=0&showTitle=false&size=422291&status=error&style=none&taskId=ufad0f057-146b-42bc-9a25-45e91829e74&title=&width=655)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653646000-5fc9313b-259b-4380-a4e2-148a975c9113.png#averageHue=%23141f27&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=415&id=u6c619c96&originHeight=830&originWidth=1653&originalType=binary&ratio=1&rotation=0&showTitle=false&size=717060&status=error&style=none&taskId=uebc50a48-aa8f-4fed-881a-dab857c7e1c&title=&width=826.5)\n<a name=\"DpuBP\"></a>\n## 关系\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653664015-1544375e-49c8-4412-a2c5-7f8f2e7060ce.png#averageHue=%23121c25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=472&id=u25bd1df5&originHeight=943&originWidth=1159&originalType=binary&ratio=1&rotation=0&showTitle=false&size=337989&status=error&style=none&taskId=ucd77886d-364d-4ba8-a042-6f336a4a6bc&title=&width=579.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653742156-86788eea-9376-412a-b0b4-399ae145d9b1.png#averageHue=%23111c25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=488&id=u1e8ab79f&originHeight=975&originWidth=1446&originalType=binary&ratio=1&rotation=0&showTitle=false&size=529736&status=error&style=none&taskId=u269c787d-61ba-4d85-a9f6-26fb7755eca&title=&width=723)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653792473-cf19a69f-bb7f-42f7-a788-2f11611990c8.png#averageHue=%23111c25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=493&id=ua1a0e618&originHeight=985&originWidth=1478&originalType=binary&ratio=1&rotation=0&showTitle=false&size=560608&status=error&style=none&taskId=u4dfb63dd-0da3-459b-b5cc-108601fc187&title=&width=739)\n<a name=\"m4ySE\"></a>\n## 良性循环\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653845687-77e29d66-1120-43e5-b6e3-3ac7ae57a7cf.png#averageHue=%23121d25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=469&id=ufb1ec4f0&originHeight=937&originWidth=1559&originalType=binary&ratio=1&rotation=0&showTitle=false&size=606868&status=error&style=none&taskId=ud9b41a5a-c601-47a6-b1a9-44cbd282a08&title=&width=779.5)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653862234-05254187-9833-49b6-816e-463c4195987d.png#averageHue=%23525a5e&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=442&id=u07e44c3e&originHeight=884&originWidth=1438&originalType=binary&ratio=1&rotation=0&showTitle=false&size=419915&status=error&style=none&taskId=ubaca4c2e-4308-44ea-8abb-125161cb34c&title=&width=719)\n<a name=\"hUiEn\"></a>\n## 恶性循环\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653905396-d4639fed-4de2-4553-80b5-cfc3693f6aed.png#averageHue=%23131d26&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=475&id=u2068e8fe&originHeight=950&originWidth=1187&originalType=binary&ratio=1&rotation=0&showTitle=false&size=413068&status=error&style=none&taskId=uc2e99331-6c52-4409-9261-0f4f3d8794c&title=&width=593.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653915152-062e9bdf-4851-4dfa-b614-4fd302447b7d.png#averageHue=%237a7f81&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=403&id=u0ec8b25f&originHeight=806&originWidth=1484&originalType=binary&ratio=1&rotation=0&showTitle=false&size=469619&status=error&style=none&taskId=ube78aa4b-e422-4ec1-9b84-a4e849c1e67&title=&width=742)\n<a name=\"O0WHQ\"></a>\n## 贤者时刻\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633653946423-60075aca-e881-4e49-b396-ba555b8a8130.png#averageHue=%23121d26&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=463&id=u5d53e118&originHeight=926&originWidth=1221&originalType=binary&ratio=1&rotation=0&showTitle=false&size=426852&status=error&style=none&taskId=uea21e391-5e31-4704-85ba-799be5d5081&title=&width=610.5)<br />过度娱乐产生的负罪感<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654015290-73518aa3-9845-4194-92ed-3ca2f2f109a8.png#averageHue=%23111c24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=480&id=uaf17aa95&originHeight=959&originWidth=1432&originalType=binary&ratio=1&rotation=0&showTitle=false&size=403534&status=error&style=none&taskId=u67e674e4-e179-491d-9323-e72dd19af8a&title=&width=716)\n<a name=\"V6eSk\"></a>\n## 回归平庸\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654044696-2dac519b-6130-4781-822d-31e576b728eb.png#averageHue=%23111b24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=487&id=u9287fb26&originHeight=973&originWidth=1280&originalType=binary&ratio=1&rotation=0&showTitle=false&size=474914&status=error&style=none&taskId=ub3d0674c-9b89-42d7-b102-365ecd2ebc5&title=&width=640)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654103792-67699d16-e10f-4b13-8db2-eaaad6af3429.png#averageHue=%23101b23&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=464&id=u0c1be194&originHeight=927&originWidth=1464&originalType=binary&ratio=1&rotation=0&showTitle=false&size=508560&status=error&style=none&taskId=u21fccbee-56e4-496f-bd78-ee88f6f30ee&title=&width=732)\n<a name=\"Pt4xW\"></a>\n## 均值回归\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654083526-f1e76d5d-8b16-48d2-a07f-9d241be722cf.png#averageHue=%23121d25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=440&id=u94a049b9&originHeight=880&originWidth=1708&originalType=binary&ratio=1&rotation=0&showTitle=false&size=620093&status=error&style=none&taskId=ubb672183-6c49-4e01-af4f-8b74c8b887b&title=&width=854)\n<a name=\"odrvj\"></a>\n## 滞后效应\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654191758-0e932702-cfae-4e03-b528-7abae44a0548.png#averageHue=%23111c25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=467&id=uf6b1d061&originHeight=934&originWidth=1319&originalType=binary&ratio=1&rotation=0&showTitle=false&size=428823&status=error&style=none&taskId=u34d2c657-124d-4a93-8662-bb1f5b31676&title=&width=659.5)\n<a name=\"JgdfC\"></a>\n## 分析\n<a name=\"DCiZ6\"></a>\n### 找到恶性循环\n利用因果分析（5Why法）<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654417063-7153f142-7ca0-42ad-9c81-85dbe40c92d7.png#averageHue=%23111c24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=472&id=uf0b605cc&originHeight=943&originWidth=1161&originalType=binary&ratio=1&rotation=0&showTitle=false&size=423307&status=error&style=none&taskId=ubf22d300-c2b0-4d1c-ae94-7318ea07e49&title=&width=580.5)\n<a name=\"DiQBV\"></a>\n### 用杠杆解化解循环\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654445499-584c026d-85c4-4913-bc9d-61a352b70aa2.png#averageHue=%23131e26&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=478&id=ud7920fed&originHeight=956&originWidth=1158&originalType=binary&ratio=1&rotation=0&showTitle=false&size=423563&status=error&style=none&taskId=uaef85581-10c1-4fda-b94c-433734c4529&title=&width=579)<br />马克思：要找到主要矛盾的主要方面<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654646252-18f0c672-71c0-485a-b41b-3e110d9c1e9e.png#averageHue=%2316222f&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=474&id=u869ffdc7&originHeight=947&originWidth=1412&originalType=binary&ratio=1&rotation=0&showTitle=false&size=609158&status=error&style=none&taskId=u7cc45155-8051-40df-904c-71e2d575178&title=&width=706)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654664594-f2132a79-b688-4efd-a2a3-3150d2ff4472.png#averageHue=%23141e27&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=460&id=uc3dc073c&originHeight=919&originWidth=1486&originalType=binary&ratio=1&rotation=0&showTitle=false&size=467435&status=error&style=none&taskId=u3db52ec5-e165-4942-9210-9624d860f3a&title=&width=743)\n<a name=\"r6Hx8\"></a>\n#### 仪式\n仪式是一套固定的，自动执行的动作的组合。也就是习惯。<br />一旦开始仪式，剩下的步骤都可以顺着惯性自动完成，建立仪式可以减少精力消耗。<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633654837217-94620140-cbdd-417a-8dd3-c70f5599ba9a.png#averageHue=%23121c25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=494&id=u0f8778f3&originHeight=988&originWidth=1363&originalType=binary&ratio=1&rotation=0&showTitle=false&size=472499&status=error&style=none&taskId=u53053f32-0d48-4743-bf72-5753031e0ec&title=&width=681.5)<br />褪黑素可以促进睡眠，但是在黑暗的时候才会分泌，所以睡前要远离灯光。<br />冥想是极好的睡前仪式。<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633655051803-cd6eaca5-55bb-4c95-b4fb-99ed7cf68e31.png#averageHue=%231d1f1f&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=110&id=u8db985d6&originHeight=220&originWidth=1288&originalType=binary&ratio=1&rotation=0&showTitle=false&size=345281&status=error&style=none&taskId=ufc898c88-fe5b-4288-82dd-23d27280785&title=&width=644)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633655058940-afcfb009-3911-4a58-9662-7e596157b6d8.png#averageHue=%23181a19&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=101&id=ud5a296a6&originHeight=201&originWidth=1684&originalType=binary&ratio=1&rotation=0&showTitle=false&size=425511&status=error&style=none&taskId=ub9adff2d-e6d2-4a8e-a335-adecce5cce6&title=&width=842)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633655062478-44b06900-3007-4d50-9c63-bb8cbfc60577.png#averageHue=%23111412&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=79&id=u5e7ce7c3&originHeight=157&originWidth=1009&originalType=binary&ratio=1&rotation=0&showTitle=false&size=175736&status=error&style=none&taskId=ue8be6835-c979-4964-b661-e7ac4c5e334&title=&width=504.5)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633655070791-3d3bed6a-cb44-40e4-afc6-aaf6ef2ff109.png#averageHue=%23292b2a&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=89&id=ud4dec42e&originHeight=178&originWidth=1314&originalType=binary&ratio=1&rotation=0&showTitle=false&size=319361&status=error&style=none&taskId=uf2af828b-5239-4be2-8d4d-12ec601f7d1&title=&width=657)\n<a name=\"ndo8i\"></a>\n#### 马太效应\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633655103859-b62fb56d-d0da-4aaa-acb0-99ed558a736b.png#averageHue=%2317222a&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=340&id=uc690d39a&originHeight=680&originWidth=1131&originalType=binary&ratio=1&rotation=0&showTitle=false&size=326104&status=error&style=none&taskId=uf64a636f-ad17-441b-9a2c-6f3b6e3f7fd&title=&width=565.5)<br />**“天之道，损有余而补不足;人之道则不然，损不足以奉有余。”**\n\n意思是：天道是减损有余的，增补不足的。人道就不是这样，而是减损不足的，增补有余的。\n\n老子认为，天道的运行规律是损有余而补不足。《周易·谦》卦里说：“天道亏盈而益谦，地道变盈而流谦。”即是说，天道是减损满盈，增益谦下;地道是高山变为深谷，深谷变为高山，也是减损满盈流向谦下。《周易·丰》卦的彖辞说：“日中则昃，月盈则食，天地盈虚，与时消息。”即是说，太阳到了正午就开始西斜，月亮到了圆满就将亏蚀，天地盈虚，随着时序的更替而消长。\n\n然而，人类社会的活动规律则恰恰相反，不是“损有余而补不足”，而是损不足以补有余。也就是说，在阶级社会里，统治阶级凭借手中的财产和权力，剥削和压迫劳苦大众，使穷的更穷，富的更富。二者相较，当然天道优于人道了。\n\n那么，谁能够用“有余”的东西去奉养天下那些“不足”的人呢?老子认为，只有有道的人才能做到。圣人就是有道之人。因此，圣人做了贡献而不显示自己贤能，成就了功业但不居功骄傲，因为“天道”就是如此的。反之，如果做了贡献就显示自己才能，成就了功业就居功骄傲，就落入人道的劣根性上去了。\n\n<a name=\"Fwn22\"></a>\n#### 用小的良性循环不断积累成为大的良性循环\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633655871756-fc967ef7-a8f0-474f-9f68-14b2a9210b67.png#averageHue=%23111c24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=485&id=u4ed285f5&originHeight=970&originWidth=1556&originalType=binary&ratio=1&rotation=0&showTitle=false&size=509522&status=error&style=none&taskId=u5f2a8d4a-0c2d-44dc-860c-58db9841d28&title=&width=778)<br />开始可以每天健身很少的时间，每一次完成的虽然是很简单的事情，但都意味着一次良心循环，自信就会增加。<br />久而久之慢慢增加运动量，就变成了大的良性循环。<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656014435-b50be287-2af1-415a-a8e9-22bc05edf46a.png#averageHue=%23101b24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=492&id=u16bc2276&originHeight=983&originWidth=1582&originalType=binary&ratio=1&rotation=0&showTitle=false&size=531556&status=error&style=none&taskId=u75f436cc-4656-45bc-a5e9-21d7c52374e&title=&width=791)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656032498-8084cb63-2844-481c-a2af-bc53ec397531.png#averageHue=%239c9e9c&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=72&id=u4753ba23&originHeight=143&originWidth=1585&originalType=binary&ratio=1&rotation=0&showTitle=false&size=227210&status=error&style=none&taskId=u8e2ddd8a-dfa8-463c-84d7-f5b723ec9d8&title=&width=792.5)<br /> ![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656072347-9f4bc130-b4bf-4276-bcb2-a4bcafde38b0.png#averageHue=%23111c24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=471&id=uddd3f612&originHeight=941&originWidth=1539&originalType=binary&ratio=1&rotation=0&showTitle=false&size=492165&status=error&style=none&taskId=u450d0f2b-0ec5-4793-b504-040dcda80f4&title=&width=769.5)<br />工作中的信任也是从小事慢慢积累起来的\n<a name=\"OQ0uz\"></a>\n### 均值回归\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656125139-61eb2fd6-3c3e-4d2f-ba0f-56e6b2568b41.png#averageHue=%23152028&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=252&id=ua67d6b60&originHeight=504&originWidth=1206&originalType=binary&ratio=1&rotation=0&showTitle=false&size=219250&status=error&style=none&taskId=ua75529a0-c11b-414f-810b-3bec8482037&title=&width=603)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656136138-c5007df5-02b4-4219-bef3-4c400b20ecac.png#averageHue=%23b1b3b3&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=66&id=u807c3882&originHeight=131&originWidth=1099&originalType=binary&ratio=1&rotation=0&showTitle=false&size=106962&status=error&style=none&taskId=u4c6930be-a4cb-4c57-96fe-84570daa5fc&title=&width=549.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656161231-f9c62db8-b16c-420a-980e-b958817cfae5.png#averageHue=%23111b24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=477&id=u480e70ec&originHeight=953&originWidth=1645&originalType=binary&ratio=1&rotation=0&showTitle=false&size=620495&status=error&style=none&taskId=u02ae15c0-dc77-40fd-8f12-a1f51ebb53e&title=&width=822.5)<br />选择圈子很重要，如果身边的人都在打游戏，自己很难静下心学习。<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656232709-ec52664c-b3f2-4455-9e82-613f607f10f1.png#averageHue=%23101b24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=462&id=uff88bfc4&originHeight=924&originWidth=1420&originalType=binary&ratio=1&rotation=0&showTitle=false&size=428591&status=error&style=none&taskId=u1d261496-fdfe-4f25-9e62-5a1a965c7ba&title=&width=710)<br />涨薪对于工作能力的提升是有着严重的滞后效应的。<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656308467-e0bc412f-e3d9-4064-bdf8-0d119ca377a4.png#averageHue=%23121d25&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=475&id=u8fa70653&originHeight=949&originWidth=1545&originalType=binary&ratio=1&rotation=0&showTitle=false&size=725573&status=error&style=none&taskId=u75e40206-d56e-4bab-8984-d22851d07dd&title=&width=772.5)<br />为了走出均值回归，必须舍弃一样。\n<a name=\"FhDhp\"></a>\n### 滞后效应\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656430829-d2ed1533-2a08-4b8d-8381-b9d5de7d4caf.png#averageHue=%23101b23&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=439&id=u58271ce3&originHeight=877&originWidth=1442&originalType=binary&ratio=1&rotation=0&showTitle=false&size=377846&status=error&style=none&taskId=u5e39b028-4108-480c-b864-e6a5ee2da9d&title=&width=721)<br />年轻时不注意身体，到中年的时候就开始显现出后果，然后又开始健身/养生用力过猛，导致更多副作用。<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656569367-15e08677-d781-4163-bcd6-0ef7b8db0c4e.png#averageHue=%23111c24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=477&id=uec929ef9&originHeight=953&originWidth=1298&originalType=binary&ratio=1&rotation=0&showTitle=false&size=416349&status=error&style=none&taskId=u08e081fa-5143-45b5-89ee-8e2c6255f65&title=&width=649)<br />改变生活习惯也是一种投资，也许要很多链接之后才能看到成果。\n<a name=\"XcJZw\"></a>\n### 储蓄池\n很多时候一个行业总体的上升趋势也是有滞后效应的，长期是上升状态，但短期内会有很多波动<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656678937-6b2767bf-459a-4fe5-900b-f46a8e865326.png#averageHue=%23eeeeeb&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=466&id=u87558692&originHeight=932&originWidth=1483&originalType=binary&ratio=1&rotation=0&showTitle=false&size=526064&status=error&style=none&taskId=u52f13aab-87d7-4bfa-a7a7-7846fa80d87&title=&width=741.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656718409-bfdce4df-b87c-412c-ac13-55f900ce02e0.png#averageHue=%23131e26&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=388&id=u220ddd4c&originHeight=775&originWidth=956&originalType=binary&ratio=1&rotation=0&showTitle=false&size=332564&status=error&style=none&taskId=ua7f83e74-70ff-4120-8610-297a60aef76&title=&width=478)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656753383-f130f7af-5953-4d06-abdf-7b6814aadde5.png#averageHue=%23b7b6b3&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=475&id=u717c77bc&originHeight=950&originWidth=1459&originalType=binary&ratio=1&rotation=0&showTitle=false&size=607595&status=error&style=none&taskId=u2d28eb05-2fe3-4823-b03e-db240a5afac&title=&width=729.5)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656799452-87566e09-8e63-4caa-b547-2f5a889a4c0b.png#averageHue=%23e4e5dd&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=497&id=u7b117993&originHeight=994&originWidth=1512&originalType=binary&ratio=1&rotation=0&showTitle=false&size=514078&status=error&style=none&taskId=u3b795425-910c-44c6-89d9-09c255d1e05&title=&width=756)<br />有储蓄池就提高了抗风险能力，不容易中途放弃<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656868468-5e6d71e7-5435-410c-b5d2-62fd9db7e540.png#averageHue=%23919596&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=267&id=u98187de0&originHeight=534&originWidth=1567&originalType=binary&ratio=1&rotation=0&showTitle=false&size=414518&status=error&style=none&taskId=u77c0fb30-304c-43b0-a36b-13ee367539f&title=&width=783.5)\n<a name=\"s7lUw\"></a>\n### 好系统的三大特征\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1633656953044-655d4d8d-0bf0-4726-97fa-cba1d73e3e2c.png#averageHue=%23101b24&clientId=uc66bc31f-c1d4-4&errorMessage=unknown%20error&from=paste&height=401&id=u51fa056c&originHeight=802&originWidth=994&originalType=binary&ratio=1&rotation=0&showTitle=false&size=368546&status=error&style=none&taskId=uf9ee1aa2-449f-4d2a-898a-82639b8d255&title=&width=497)\n<a name=\"FC4FV\"></a>\n#### 适应力\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634002793517-9321eea3-6cba-43ea-92ce-c7cf8ff17496.png#averageHue=%23141e26&clientId=u59d95e85-518d-4&errorMessage=unknown%20error&from=paste&height=365&id=uadf08813&originHeight=730&originWidth=1331&originalType=binary&ratio=1&rotation=0&showTitle=false&size=626006&status=error&style=none&taskId=ude00230a-72cc-4b0d-ae46-9a4c4fbc8fa&title=&width=665.5)<br />计算机中的鲁棒性。承受风险的能力。<br />可以通过模拟攻击 / 走出舒适区建立适应力。<br /> \n<a name=\"ThbOW\"></a>\n#### 自组织\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634002773682-91505a5b-8d52-4f5d-bb49-d4a67399f401.png#averageHue=%23141e27&clientId=u59d95e85-518d-4&errorMessage=unknown%20error&from=paste&height=418&id=u6fe66c47&originHeight=836&originWidth=1115&originalType=binary&ratio=1&rotation=0&showTitle=false&size=555650&status=error&style=none&taskId=u4222115d-d270-470b-a09a-7287538be78&title=&width=557.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634002893455-334ccae9-2d94-4d7b-87e1-2dd7346e4600.png#averageHue=%230f212e&clientId=u59d95e85-518d-4&errorMessage=unknown%20error&from=paste&height=403&id=u7eb5a57f&originHeight=806&originWidth=1075&originalType=binary&ratio=1&rotation=0&showTitle=false&size=470124&status=error&style=none&taskId=ubf13d4ef-94b2-48c1-9f9f-4b9e4d57f0f&title=&width=537.5)<br />人体就是一个自动运行的自组织的系统，要提高运作质量，要从控制源头的输入开始，事后抱怨/后悔没有任何作用。\n\n<a name=\"S2UPH\"></a>\n#### 层次性\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634003040210-adbb8581-bbc3-434c-8bca-63a2d16972ae.png#averageHue=%23ececeb&clientId=u59d95e85-518d-4&errorMessage=unknown%20error&from=paste&height=445&id=u3734d6e3&originHeight=890&originWidth=1124&originalType=binary&ratio=1&rotation=0&showTitle=false&size=546501&status=error&style=none&taskId=u77cf9cce-8c05-4ec1-bdbf-10b45e28aab&title=&width=562)<br />大的系统由很多子系统构成，子系统又能细分子系统。<br />封装子系统就像封装函数，总结经验，封装行为模式，灵活应对问题。\n\n\n<a name=\"INW8C\"></a>\n# 工程学\n很多人知而不行，但王阳明说：未有知而不行者，知而不行只是未知。<br />知易行难往往是因为还有某些东西不知。<br />工程学的核心是实现，其中一些方法论可以为生活提供指导。\n\n<a name=\"QqZ7V\"></a>\n## 行胜于言\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634175569987-276a1732-9c33-4abe-a182-3124796daa14.png#averageHue=%2317212a&clientId=u05f9542d-42d6-4&errorMessage=unknown%20error&from=paste&height=455&id=u51ef454d&originHeight=909&originWidth=1282&originalType=binary&ratio=1&rotation=0&showTitle=false&size=679585&status=error&style=none&taskId=u9d884210-f890-4cc1-ba6c-c8fc450c8a2&title=&width=641)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634175659289-98322172-bac6-441d-964e-6410e6f58797.png#averageHue=%231e2830&clientId=u05f9542d-42d6-4&errorMessage=unknown%20error&from=paste&height=313&id=u17b23f00&originHeight=625&originWidth=1526&originalType=binary&ratio=1&rotation=0&showTitle=false&size=576502&status=error&style=none&taskId=u28665977-579c-4ace-b2ed-4ddb63d95cd&title=&width=763)<br />搬砖思维相信量变产生质变 (努力, 登山, 战术) ，风口思维相反 (选择, 冲浪, 战略) 。生活中这两种都需要。<br />战略=要做什么，战术=怎么做。<br />脚踏实地，仰望星空，首先要确定终极目标，然后分割阶段性目标，最后逐步去实现，道路（战术）可能会变，但目标（战略）不变。\n\n\n\n<a name=\"ob8IH\"></a>\n### 快乐\n多巴胺 / 内啡肽<br />你干了一天活，终于下班了，感觉很高兴，这种感觉是内啡肽造成的。<br />你娱乐了一天，但是该睡了，感觉意犹未尽，这种感觉是多巴胺造成的。<br />声色犬马多巴胺，促人奋进内啡肽\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634694786986-4a181f1e-fd29-48df-b005-2f4780d2e0f3.png#averageHue=%23162029&clientId=ud2ebf2f9-dc0b-4&errorMessage=unknown%20error&from=paste&height=412&id=ub512fa0c&originHeight=823&originWidth=1420&originalType=binary&ratio=1&rotation=0&showTitle=false&size=584394&status=error&style=none&taskId=ue7e5b25f-fe18-4e9c-a8fe-02353529670&title=&width=710)\n\n生活中我们要避免沉迷多巴胺的循环，在完成一个阶段性目标之后可以奖励自己，在这之前要忍着，保持专注。\n\n<a name=\"uB8O8\"></a>\n## 分解结构\n<a name=\"csAtD\"></a>\n### 天下难事 必做于易 天下大事 必作于细\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634694968965-83946d2b-7498-4c10-94a4-b973679b34ae.png#averageHue=%230e1922&clientId=ud2ebf2f9-dc0b-4&errorMessage=unknown%20error&from=paste&height=221&id=u5b719031&originHeight=441&originWidth=1109&originalType=binary&ratio=1&rotation=0&showTitle=false&size=381119&status=error&style=none&taskId=uf59d4a9b-9032-4c1d-9d87-77a098e1940&title=&width=554.5)![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634694981237-c1b3bb98-0085-4e7a-a8fb-de8959c11bea.png#averageHue=%2317212a&clientId=ud2ebf2f9-dc0b-4&errorMessage=unknown%20error&from=paste&height=192&id=ud0fd7ccb&originHeight=384&originWidth=1393&originalType=binary&ratio=1&rotation=0&showTitle=false&size=366580&status=error&style=none&taskId=ua3a6a354-de86-4f3f-8d49-3fc88b3a337&title=&width=696.5)<br />没有做不到的事情，只有接受不了的成本。<br />如果要造火箭，可以先拆解火箭，聚焦每个模块，然后再拆解到零件，不断分解直到找到那个可以直接上手开干的动作。\n\n万事开头难，但<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634695247350-452f3084-5da6-4f58-96f1-4d7ae021cb67.png#averageHue=%230e1922&clientId=ud2ebf2f9-dc0b-4&errorMessage=unknown%20error&from=paste&height=194&id=XTpts&originHeight=388&originWidth=1407&originalType=binary&ratio=1&rotation=0&showTitle=false&size=479999&status=error&style=none&taskId=u1bab074b-9ec9-4fd9-9f78-f5098aa7d08&title=&width=703.5)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1634695408935-5c084c7d-6025-4411-ba32-d65407c12825.png#averageHue=%23111b24&clientId=ud2ebf2f9-dc0b-4&errorMessage=unknown%20error&from=paste&height=377&id=u6329a010&originHeight=754&originWidth=901&originalType=binary&ratio=1&rotation=0&showTitle=false&size=264411&status=error&style=none&taskId=u164cd7bc-42a9-459b-8f3f-e404c20a1cd&title=&width=450.5)<br />把难事分解清楚，第一步先从简单的抓住梯子开始，然后不断攀爬去抓下一个把手，最终抵达目标。<br />和吸引力法则同理，不要担心目标过于远大，利用工程分解拆解成小目标，一步一步去实现。\n\n<a name=\"cpYzf\"></a>\n### 工程分解\n![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1653130375987-8aedeefa-a370-4fea-b988-a3f548460269.png#averageHue=%230f1a23&clientId=u1d0b98f1-8492-4&errorMessage=unknown%20error&from=paste&height=591&id=u3efd3e71&originHeight=847&originWidth=1863&originalType=binary&ratio=1&rotation=0&showTitle=false&size=769469&status=error&style=none&taskId=u2170b97d-4597-4237-a725-8666b9d5752&title=&width=1300.712655100727)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1653130398154-f2ed1d46-8b66-4067-b83e-42544f2edf24.png#averageHue=%23fbfdfc&clientId=u1d0b98f1-8492-4&errorMessage=unknown%20error&from=paste&height=206&id=ua30c4a18&originHeight=945&originWidth=1167&originalType=binary&ratio=1&rotation=0&showTitle=false&size=388919&status=error&style=none&taskId=uaa484e1f-8367-420d-9a41-7fce1e6d606&title=&width=254.621826171875)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1653130412783-7270cf26-390a-4c1a-9ca4-ad12af5474f1.png#averageHue=%23fafcfa&clientId=u1d0b98f1-8492-4&errorMessage=unknown%20error&from=paste&height=210&id=u29f0cd49&originHeight=940&originWidth=1105&originalType=binary&ratio=1&rotation=0&showTitle=false&size=384433&status=error&style=none&taskId=ue58069f2-dfd7-4740-9149-8cbb31e2df6&title=&width=246.6181640625)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1653130504709-3977d99c-0811-4856-963f-c98fbc142e6b.png#averageHue=%230d1921&clientId=u1d0b98f1-8492-4&errorMessage=unknown%20error&from=paste&height=128&id=u35831f44&originHeight=492&originWidth=1778&originalType=binary&ratio=1&rotation=0&showTitle=false&size=537633&status=error&style=none&taskId=uba0615d5-5ecf-4767-b773-bd558475d12&title=&width=463.62908935546875)![image.png](https://cdn.nlark.com/yuque/0/2022/png/504873/1653130542698-4870d060-f2bc-49da-a8ce-8c370fea1f47.png#averageHue=%23bac0ab&clientId=u1d0b98f1-8492-4&errorMessage=unknown%20error&from=paste&height=218&id=u1fe73de2&originHeight=922&originWidth=1081&originalType=binary&ratio=1&rotation=0&showTitle=false&size=809391&status=error&style=none&taskId=u5fb9a2bb-306d-4a92-8057-36ea5bd9c4a&title=&width=255.62908935546875)\n<a name=\"jQRhd\"></a>\n## 量化\n<a name=\"WPOLd\"></a>\n### 从想到做\n从想法到行动在脑科学中指的是从一个激活的脑区跨越到激活另一个脑区.\n\n生物的智能呈现出敏感性. 鸟群, 鱼群在遇到障碍时可以集体躲避障碍, 从一只鸟的行为改变到整个鸟群的行为改变类似于大脑神经元激活状态的改变. 这种群体存在着临界状态, 但变化高于某个阈值时就会快速扩散, 神经网络中的激活函数模拟这一现象. \n\n远距离神经元激活可能是自我意识的体现, 通过仪器观测神经元活动甚至可以预测人的\"自主选择\".\n\n\n\n<a name=\"C7RfH\"></a>\n## 列清单\n\n\n<a name=\"R9O3m\"></a>\n## 取舍\n",
      "properties": {
        "title": "林超 给年轻人的跨学科通识课",
        "urlname": "cdn0ga",
        "date": "2021-09-11 05:32:21",
        "updated": "2023-09-19 11:46:54",
        "author": "Jason Ma"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "cdn0ga"
        }
      ],
      "body": "",
      "realName": "林超 给年轻人的跨学科通识课",
      "relativePath": "/Reading/林超 给年轻人的跨学科通识课.md"
    },
    {
      "id": 26482904,
      "doc_id": "vbban1",
      "title": "vbban1",
      "updated": 1686756191000,
      "body_original": "---<br />title: 3D数学基础 图形和游戏开发<br />---\n<a name=\"m6ICS\"></a>\n# 一 笛卡尔坐标系\n<a name=\"C9Y1Z\"></a>\n## 1.1 一维数学\n有理数是可数的（与自然数一一对应），实数是不可数的。<br />自然数和整数的研究成为**离散数学**（Discrete Mathematics）<br />对实数的研究成为**连续数学**（Continuous Mathematics）\n\n> **计算机图形学第一定律：如果看起来是正确的，那就是对的。**\n\n\n<a name=\"kUJVP\"></a>\n## 1.2 二维笛卡尔空间\n笛卡尔坐标系有一个原点（Origin）和两条轴（Axis）\n\n<a name=\"FfAHq\"></a>\n## 1.3 三维笛卡尔空间\n三维空间分为左右手坐标系，拇指指向+x，食指指向+y，中指指向+z。<br />旋向性相同的三维空间可以旋转达到轴对齐<br />左/右手螺旋定则规定了对应坐标系中的旋转正方向\n\n**本书使用左手坐标系**\n\n<a name=\"R7iP6\"></a>\n## 1.4 一些零散的基础知识介绍\n<a name=\"KYRBa\"></a>\n### 求和\n求和表示法（Summation Notation）类似于for循环：<br />![](https://cdn.nlark.com/yuque/__latex/a61e6af3dd1a084803ca60014e97e1ea.svg#card=math&code=%5Csum%20%5E%7Bn%7D_%7Bi%3D1%7D%20x_%7Bi%7D%20%3Dx_%7B1%7D%20%2Bx_%7B2%7D%20%2B...%2Bx_%7Bn%7D&height=49&id=HwmUB)<br />求和符号为希腊字母sigma Σ的大写。\n<a name=\"glroK\"></a>\n### 求积\n求积表示法：<br />![](https://cdn.nlark.com/yuque/__latex/897dfe042187e1ac2030107ff9f38084.svg#card=math&code=%5Cprod%20%5E%7Bn%7D_%7Bi%3D1%7D%20x_%7Bi%7D%20%3Dx_%7B1%7D%20%5Ctimes%20x_%7B2%7D%20%5Ctimes%20...%5Ctimes%20x_%7Bn%7D%0A&height=49&id=KE07x)<br />求积符号是![](https://cdn.nlark.com/yuque/__latex/4f08e3dba63dc6d40b22952c7a9dac6d.svg#card=math&code=%5Cpi&height=12&id=IYG5O)的大写。\n<a name=\"Mxaag\"></a>\n### 区间\n[1, 5]表示所有大于等于1，小于等于5的数，是闭区间，包含端点。<br />(1, 5)表示开区间，不包含端点。<br />(x, y)也可表示二维点。<br />[x, y]也可表示二维向量。\n<a name=\"wzPQr\"></a>\n### 角度\n通常用希腊字母![](https://cdn.nlark.com/yuque/__latex/2554a2bb846cffd697389e5dc8912759.svg#card=math&code=%5Ctheta%0A&height=16&id=AN8Y0)表示一个角度，角度的单位是度（°）或弧度（rad）。<br />一个完整的圆=360°=2![](https://cdn.nlark.com/yuque/__latex/4f08e3dba63dc6d40b22952c7a9dac6d.svg#card=math&code=%5Cpi&height=12&id=cEIbs)\n> 度和弧度之间可以相互转换，转换规则为：\n> 1rad = (180/π)° ≈ 57.3°\n> 1° = (π/180)rad ≈ 0.01745rad\n\n<a name=\"rZRxZ\"></a>\n### 三角函数\n三角函数的定义方法之一：在二维坐标中，以+x方向开始，向逆时针方向旋转![](https://cdn.nlark.com/yuque/__latex/2554a2bb846cffd697389e5dc8912759.svg#card=math&code=%5Ctheta%0A&height=16&id=xxap6)度，在该角度方向绘制长度为1的线段，线段终点坐标(x, y)。<br />余弦 (cosine) = ![](https://cdn.nlark.com/yuque/__latex/30b6122066142038a381bf4c2cfc3b70.svg#card=math&code=cos%5Ctheta%3Dx&height=16&id=ADQVw)<br />正弦 (sine) = ![](https://cdn.nlark.com/yuque/__latex/81b83ac1c933337d4ed10fd35daa91cf.svg#card=math&code=sin%5Ctheta%3Dy&height=18&id=MgH3z)<br />[https://zh.wikipedia.org/wiki/%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0](https://zh.wikipedia.org/wiki/%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1608996675357-30c5ec15-a169-46bd-9859-1b5d57f1041f.png#averageHue=%231a1d1f&height=1260&id=YZqgZ&originHeight=1260&originWidth=1440&originalType=binary&ratio=1&rotation=0&showTitle=false&size=251783&status=done&style=none&title=&width=1440)<br />三角恒等式<br />[https://zh.wikipedia.org/wiki/%E4%B8%89%E8%A7%92%E6%81%92%E7%AD%89%E5%BC%8F](https://zh.wikipedia.org/wiki/%E4%B8%89%E8%A7%92%E6%81%92%E7%AD%89%E5%BC%8F)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1608997106807-af3b0da3-dc9a-4bbe-96b5-d932a47d96bb.png#averageHue=%231e2122&height=312&id=Eo0cv&originHeight=312&originWidth=773&originalType=binary&ratio=1&rotation=0&showTitle=false&size=65948&status=done&style=none&title=&width=773)\n<a name=\"Qa1kH\"></a>\n# 二 矢量\n<a name=\"V8Su0\"></a>\n## 2.1 一些数学定义\n在线性代数中Vector被称为“向量”，在几何中Vector被称为“矢量”。\n\n向量：\n\n- 速度（Velocity）：起点与终点间距离除以时间，并**注明方向**\n- 位移（Displacement）\n\n标量（Scalar）：\n\n- 速率（Speed）：距离除以时间，无方向\n- 距离（Distance）\n\n向量写法有行向量（Row Vector）和列向量（Column Vector）<br />可以使用下标（Subscript）表示各个分量（Components），下标可以用1 2 3或x y z\n\n- 标量用斜体的小写罗马字母或希腊字母：![](https://cdn.nlark.com/yuque/__latex/d604231ec8c646fddf65d4b937a56669.svg#card=math&code=a%5C%20b%5C%20x%5C%20%5Ctheta%20%5C%20%5Comega%20%5C%20%5Cgamma%20&height=19&id=NfJKw)\n- 向量用粗体小写字母：![](https://cdn.nlark.com/yuque/__latex/180659ee1e275a3fa339bb6e70e277d6.svg#card=math&code=%5Cmathbf%7Ba%7D%20%5C%20%5Cmathbf%7Bb%7D%20%5C%20%5Cmathbf%7Bu%7D%20%5C%20%5Cmathbf%7Bv%7D&height=16&id=ciabz) （或者是在字母上画一个箭头：![](https://cdn.nlark.com/yuque/__latex/8fd082536a0a420385519d1473c9d27e.svg#card=math&code=%5Cvec%7Ba%7D&height=16&id=ZV9Od)）\n- 矩阵用粗体大写字母：![](https://cdn.nlark.com/yuque/__latex/ff2561950d2a206ed25eea3d38339dc9.svg#card=math&code=%5Cmathbf%7BA%5C%20B%5C%20M%7D&height=16&id=qyCcB)\n\n在线性代数中维数n的向量和矩阵可用于求解n个未知数的n个线性方程组，而不关心数字的物理意义。在3D数学中我们主要关注向量运算的几何解释。\n\n<a name=\"9iqrM\"></a>\n## 2.2 矢量的几何定义\n\n- 矢量的大小（Magnitude）：指矢量长度，矢量可以有非负长度\n   - 长度（Length）/ 范数（Norm）\n   - ![](https://cdn.nlark.com/yuque/__latex/7b6d1dcc41e92c04a62cda4a1c98837c.svg#card=math&code=%7Cv%7C&height=20&id=GTvcj)或![](https://cdn.nlark.com/yuque/__latex/e9b7de66fd0147a62978e0ab6922d4cb.svg#card=math&code=%7C%7Cv%7C%7C&height=20&id=PWnf3)\n- 矢量的方向（Direction）：描述矢量在空间中指向的方向\n\n<a name=\"snMKc\"></a>\n## 2.11矢量点积\n点积 Dot Product / 内积 Inner Product<br />点乘必须要有“![](https://cdn.nlark.com/yuque/__latex/571ca3d7c7a5d375a429ff5a90bc5099.svg#card=math&code=%5Ccdot&height=8&id=vRUsJ)”，否则视为矩阵乘法<br />![](https://cdn.nlark.com/yuque/__latex/0908c024103c8b53923511f5ed209cb7.svg#card=math&code=%5Chat%7B%5Cmathbf%7Ba%7D%7D&height=16&id=RbUUE)称为a帽（hat），代表a方向的单位向量<br />![](https://cdn.nlark.com/yuque/__latex/6da8170e4e908e7168254cf641544bc3.svg#card=math&code=%0A%5Chat%7B%5Cmathbf%7Ba%7D%7D%20%5Ccdot%20%5Cmathbf%7Bb%7D&height=16&id=TOsxr)可以视为b在a方向上的投影<br />点乘满足乘法结合律、乘法交换律、乘法分配律<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1609608832533-3da527d9-afae-469d-8e64-870eda3057b0.png#averageHue=%23c8b490&height=222&id=d9Um5&originHeight=222&originWidth=209&originalType=binary&ratio=1&rotation=0&showTitle=false&size=9141&status=done&style=none&title=&width=209)\n<a name=\"WYvYJ\"></a>\n## 2.12矢量叉积\n叉积 Cross Product<br />u X v = <br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1610464905274-ddcb5d88-4431-463f-b75d-5e28507fa0c4.png#averageHue=%231e2021&height=90&id=x043D&originHeight=90&originWidth=247&originalType=binary&ratio=1&rotation=0&showTitle=false&size=7671&status=done&style=none&title=&width=247)<br />![](https://cdn.nlark.com/yuque/__latex/aeff73baaa88f12bffcee77e61ae0b07.svg#card=math&code=%5Cmathbf%7Ba%7D%20%5Ccdot%20%28%5Cmathbf%7Bb%7D%20%5Ctimes%20%5Cmathbf%7Bc%7D%29%20%5C%20&height=20&id=DpTsY)称为**三重积**<br />叉乘不可交换、不可结合<br />叉乘反交换：a X b = - ( a X b )\n\n叉乘产生一个新矢量，垂直于原始矢量的平面<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1610466086611-71f820b4-a238-4d5b-9a71-bbdc56f63ad7.png#averageHue=%231b1f21&height=345&id=fMMME&originHeight=345&originWidth=1409&originalType=binary&ratio=1&rotation=0&showTitle=false&size=80686&status=done&style=none&title=&width=1409)<br />产生的矢量的方向决定于左/右手螺旋定则\n\n<a name=\"t5A6U\"></a>\n## 矢量线性代数恒等式\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1610466310756-fd8dd589-3601-4e14-a970-00b4a96a7628.png#averageHue=%23dadada&height=461&id=IxnTT&originHeight=461&originWidth=621&originalType=binary&ratio=1&rotation=0&showTitle=false&size=169404&status=done&style=none&title=&width=621)\n\n\n<a name=\"YK4yV\"></a>\n# 十一 力学1：线性运动学和微积分\n<a name=\"NOopm\"></a>\n## 概述\n通常认为宇宙在空间和时间上都是离散的。物质可以被分解为原子，空间和时间的结构也可以被分解为离散的碎片。我们使用连续的理论对离散进行模拟。\n\n经典力学，也就是牛顿力学（Newtonian Mechanics）的一些简化的假设：\n\n- 时间是绝对的\n- 空间是欧几里得空间\n- 可以进行精确测量\n- 宇宙表现出因果关系和完全可预测性\n\n前两个被相对论打破，后两个被量子力学打破，但在游戏中够用\n\n我们通过学习运动学（Kinematics）了解力学，运动学是在简单常见的情况下描述粒子运动方程式的研究。<br />而运动是动力学（Dynamics）的主题\n\n<a name=\"BKXLs\"></a>\n## 基本数量和单位\n长度（Length）<br />时间（TIme）<br />质量（Mass）\n\n质量更精确的定义是对惯性（Inertia）的度量，是物质的固有属性，而重量（Wieght）则取决于当前被施加的引力（Gravity）强度。<br />速度（Velocity）定义为净位移（Net Displacement）/时间，可以为付<br />速率（Speed）定义为L/T，不可为负<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1625319238152-76220c9d-7c7f-4b75-a84e-421e52875918.png#averageHue=%23efefef&height=680&id=xb5zE&originHeight=886&originWidth=917&originalType=binary&ratio=1&rotation=0&showTitle=false&size=272133&status=done&style=none&title=&width=704)\n<a name=\"DXGoJ\"></a>\n## 瞬时速度和导数\n计算平均速度需要计算经过的时间和距离，而瞬时速度则不存在ΔT ΔL，为此，牛顿发明了导数（Derivative）。<br />导数可以适用于任何一个变量随着其他变量的变化而变化的问题。\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1625325827820-105d863f-c736-4e97-9953-af291e2b0619.png#averageHue=%23eeeeee&height=410&id=yhcsc&originHeight=528&originWidth=932&originalType=binary&ratio=1&rotation=0&showTitle=false&size=186246&status=done&style=none&title=&width=723)\n\n导数可以测量函数的变化率（Rate of Change）。<br />但一段时间内的速度恒定时可以用平均速度表示瞬时速度，当速度随时间变化时，可以使用导数函数计算任意时间点的瞬时速度。<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1625326224362-8f1822f6-a4b8-4053-9326-3a5a0c13c0ff.png#averageHue=%23f2f2f2&height=100&id=oHEd2&originHeight=112&originWidth=906&originalType=binary&ratio=1&rotation=0&showTitle=false&size=31815&status=done&style=none&title=&width=806)\n<a name=\"pdxcK\"></a>\n## 通过定义计算导数\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1625327852881-02c44d1f-8238-4045-956a-67d4dd93323e.png#averageHue=%23f6f6f6&height=131&id=Eed6c&originHeight=131&originWidth=891&originalType=binary&ratio=1&rotation=0&showTitle=false&size=25761&status=done&style=none&title=&width=891)<br />导数的定义：但输入的变化无穷小时，输出的变化除以输入的变化的比率。\n\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1625328816518-459a268e-160c-47b6-afc8-849da8a7854d.png#averageHue=%23f2f2f2&height=574&id=e4OTm&originHeight=574&originWidth=900&originalType=binary&ratio=1&rotation=0&showTitle=false&size=180576&status=done&style=none&title=&width=900)<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1625328854234-c8159369-1ce8-486a-be8a-afa4f0563810.png#averageHue=%23eeeeee&height=392&id=l250f&originHeight=392&originWidth=890&originalType=binary&ratio=1&rotation=0&showTitle=false&size=138397&status=done&style=none&title=&width=890)\n<a name=\"JquxL\"></a>\n## 导数的表示方法\n![image.png](https://cdn.nlark.com/yuque/0/2021/png/504873/1625329521740-35091d5c-7d8f-4acd-9ae7-5b78b81501e5.png#averageHue=%23e8e8e8&height=943&id=xAV5v&originHeight=943&originWidth=900&originalType=binary&ratio=1&rotation=0&showTitle=false&size=429372&status=done&style=none&title=&width=900)\n\n\n",
      "properties": {
        "title": "3D数学基础 图形和游戏开发",
        "urlname": "vbban1",
        "author": "Jason Ma",
        "date": "2020-12-26 20:40:20",
        "updated": "2023-06-14 23:23:11"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "vbban1"
        }
      ],
      "body": ""
    },
    {
      "id": 5864400,
      "doc_id": "mypdxo",
      "title": "mypdxo",
      "updated": 1686756423000,
      "body_original": "---<br />title: GAMES101笔记-现代计算机图形学入门-闫令琪<br />---<br />[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1X7411F744)\n\n<a name=\"Zicwn\"></a>\n# 概览 [Overview of Computer Graphics](https://www.bilibili.com/video/BV1X7411F744?p=1)\n图形学的应用：\n\n- 视频游戏 Video Games\n   - PBR\n   - NPR\n- 电影 Movies\n- 动画 Animations\n- 设计 Design\n- 可视化 Visualization\n- 虚拟现实 Virtual Reality\n- 数字绘图 Digital Illustration\n- 模拟 Simulation\n- GUI\n- 字体 Typography\n\n**We learn Graphics，not Graphics APIs！**\n\n<a name=\"ZLNP6\"></a>\n# 线性代数 [Review of Linear Algebra](https://www.bilibili.com/video/BV1X7411F744?p=2)\n图形学中的向量一般是**列向量**，矩阵可以**左乘**\n<a name=\"6W1Rh\"></a>\n## Dot Product 点积\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1585988185143-1dc3615c-0e3b-4420-baf6-ea94a7544c7f.png#averageHue=%23efefef&height=214&id=scEwp&originHeight=526&originWidth=1011&originalType=binary&ratio=1&rotation=0&showTitle=false&size=165618&status=done&style=none&title=&width=411)\n\n![](https://cdn.nlark.com/yuque/__latex/7bb1b48a5b002029cbfc43efdc26d31b.svg#card=math&code=%5Chat%7Ba%7D&height=16&id=XVben)  =  ![](https://cdn.nlark.com/yuque/__latex/032e291fd1e5592fcd3b7abe2ea18bef.svg#card=math&code=%5Cvec%20a&height=16&id=GpfJm)的单位向量  = a hat\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586003474234-3ddb1b50-76f8-45d0-a83a-7e29cf39a8a7.png#averageHue=%23fcfcfc&height=279&id=HciWL&originHeight=727&originWidth=979&originalType=binary&ratio=1&rotation=0&showTitle=false&size=151491&status=done&style=none&title=&width=376)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586004043968-35818d5e-2e79-4ac9-9ea5-8e7f92b23a74.png#averageHue=%23fefefe&height=149&id=bTyXM&originHeight=208&originWidth=452&originalType=binary&ratio=1&rotation=0&showTitle=false&size=28854&status=done&style=none&title=&width=323)\n\n向量点乘满足**交换律、结合律、分配律**\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586004563720-3194e64d-6d69-4758-bb6c-969643b70370.png#averageHue=%23fcfbfb&height=222&id=YgNa6&originHeight=519&originWidth=988&originalType=binary&ratio=1&rotation=0&showTitle=false&size=165865&status=done&style=none&title=&width=422)\n\n点乘可以用来计算向量**夹角**和向量间的**投影**<br />垂直 ![](https://cdn.nlark.com/yuque/__latex/b70979a357cfbe7c61e4c686ea2beb93.svg#card=math&code=%5Cperp&height=16&id=ugtoo) Perpendicular\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005032223-6357a437-7155-46ea-8b06-f89b8fd5e2c5.png#averageHue=%23fbfafa&height=214&id=jDQtU&originHeight=792&originWidth=1509&originalType=binary&ratio=1&rotation=0&showTitle=false&size=396953&status=done&style=none&title=&width=408)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005051019-09e88e6b-247a-4cec-9b9d-d61a05cffdb6.png#averageHue=%23fdfcfc&height=207&id=qsZfI&originHeight=712&originWidth=851&originalType=binary&ratio=1&rotation=0&showTitle=false&size=176201&status=done&style=none&title=&width=248)\n\n点乘可以**分解向量、判断\n<a name=\"1XG2A\"></a>\n## Cross Product 叉积\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005104022-413913be-cef1-4200-8904-56e30e80528a.png#averageHue=%23908465&height=295&id=o00S5&originHeight=1058&originWidth=1460&originalType=binary&ratio=1&rotation=0&showTitle=false&size=431773&status=done&style=none&title=&width=407)\n\n叉积**垂直**于两条初始向量，叉积方向取决于**右手螺旋法则**，叉积大小 = ![](https://cdn.nlark.com/yuque/__latex/99974ef42812f85e9666ac86db1856b8.svg#card=math&code=%5C%7C%20a%5C%7C%20%5C%20%5C%7C%20b%5C%7C%20%5C%20%5Csin%20%5Ctheta%20&height=20&id=XNZJ8)\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005504683-1419e226-fc8b-4df5-9f1d-5f3cc70fc9d9.png#averageHue=%23fdfdfd&height=486&id=jdTy0&originHeight=971&originWidth=1492&originalType=binary&ratio=1&rotation=0&showTitle=false&size=304846&status=done&style=none&title=&width=746)\n\n叉乘可以构建坐标系，![](https://cdn.nlark.com/yuque/__latex/93677ffffd0b5736308c028aa585a151.svg#card=math&code=%5Cvec%7Bx%7D%20%5Ctimes%20%5Cvec%7By%7D%20%5C%20%3D%5C%20%2B%5Cvec%7Bz%7D&height=19&id=tjC5p)则说明是右手坐标系\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005747896-ed215b34-25a4-42e8-8a51-ed9702c3bf5c.png#averageHue=%23dcdcdb&height=260&id=khSVy&originHeight=961&originWidth=1544&originalType=binary&ratio=1&rotation=0&showTitle=false&size=446995&status=done&style=none&title=&width=418)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005754468-2bbd2cf1-1aed-4ebe-a169-ac77c28a1169.png#averageHue=%23fcfcfc&height=197&id=llmZO&originHeight=719&originWidth=1508&originalType=binary&ratio=1&rotation=0&showTitle=false&size=286600&status=done&style=none&title=&width=413)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005758732-fadf891d-4f67-4193-b780-57d753e7cdea.png#averageHue=%23fcfcfc&height=162&id=C8cWR&originHeight=684&originWidth=1652&originalType=binary&ratio=1&rotation=0&showTitle=false&size=183598&status=done&style=none&title=&width=392)\n\n叉积在图形学中可以判断**左右**和**内外**<br />左图给定**右手坐标系**，![](https://cdn.nlark.com/yuque/__latex/d61f77d5d586c5fe8f55526eb590dc27.svg#card=math&code=%5Cvec%7Ba%7D%20%5Ctimes%20%5Cvec%7Bb%7D%20%5C&height=20&id=TysxS)得到**向上**的向量，说明a在b的**右边**<br />右图同理，若**ab在ap右侧**且**bc在bp右侧**且**ca在cp右侧**则p在abc**内部**<br />无论是按顺时针或逆时针输入3个顶点，只要p一直在左侧或者右侧就说明在内部，<br />**光栅化**将会用到类似原理\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586005966907-ae891f6f-624e-4665-8e3c-8f33737d423c.png#averageHue=%23fdfdfd&height=306&id=Ghsv1&originHeight=1009&originWidth=1472&originalType=binary&ratio=1&rotation=0&showTitle=false&size=366185&status=done&style=none&title=&width=446)\n\n对于3D空间中的任意右手、单位、垂直 UVW坐标系：<br />p可以表示为p在UVW3个轴上的投影（直接点乘，依据在上面）的和\n<a name=\"PzYrm\"></a>\n## Matrix 矩阵\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586006407763-06b72ca2-27d4-4181-a670-9f0cc50e8eab.png#averageHue=%23fdfdfd&height=207&id=yvtFQ&originHeight=785&originWidth=1524&originalType=binary&ratio=1&rotation=0&showTitle=false&size=328716&status=done&style=none&title=&width=402)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586006411373-9585efe8-d0f2-4919-ab16-5b782afa34b8.png#averageHue=%23ded5cf&height=268&id=nj5QV&originHeight=1007&originWidth=1517&originalType=binary&ratio=1&rotation=0&showTitle=false&size=547481&status=done&style=none&title=&width=403)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586006430980-a9527a23-fdcd-4928-bfc9-de8e2e102195.png#averageHue=%23efeeef&height=195&id=UvUyz&originHeight=616&originWidth=1003&originalType=binary&ratio=1&rotation=0&showTitle=false&size=226081&status=done&style=none&title=&width=318)\n\n矩阵乘法不满足交换律\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586006475875-9716b58b-4a4b-4eb0-9200-dce3d14bcea5.png#averageHue=%23fefefe&height=201&id=QcZUv&originHeight=801&originWidth=1200&originalType=binary&ratio=1&rotation=0&showTitle=false&size=223115&status=done&style=none&title=&width=301)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586006482647-bb6899f6-1037-410d-821e-96a60ddeb827.png#averageHue=%23fdfdfd&height=213&id=QHXnd&originHeight=1014&originWidth=1430&originalType=binary&ratio=1&rotation=0&showTitle=false&size=344916&status=done&style=none&title=&width=300)\n\n矩阵转置是将原矩阵行列互换\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586006522588-fc055b84-efef-4fbf-93ea-5379c59baf35.png#averageHue=%23fdfdfd&height=190&id=UTcsR&originHeight=964&originWidth=1484&originalType=binary&ratio=1&rotation=0&showTitle=false&size=272791&status=done&style=none&title=&width=292)\n\n矩阵与其逆相乘等于单位矩阵\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586006956911-95864d1f-b009-4a38-b281-b9f0dee2d9bf.png#averageHue=%23fdfdfd&height=257&id=QNBHu&originHeight=1067&originWidth=1584&originalType=binary&ratio=1&rotation=0&showTitle=false&size=442805&status=done&style=none&title=&width=382)<br /> \n\n向量点乘叉乘的**矩阵形式**<br />叉乘的矩阵形式：先将a向量转换成矩阵![](https://cdn.nlark.com/yuque/__latex/1304435c8bc4c0f5b8ecbe7f16727d75.svg#card=math&code=A%5E%2A&height=16&id=rQIFd)（**dual matrix**）再与向量相乘\n<a name=\"QL37K\"></a>\n# 变换 [Transformation](https://www.bilibili.com/video/BV1X7411F744?p=3)\n<a name=\"5Bwgy\"></a>\n## Scale 缩放\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586007128258-103b2205-bee6-405a-9f8f-c2f4eb487ad3.png#averageHue=%23fbfbfb&height=289&id=d3pkA&originHeight=1102&originWidth=1588&originalType=binary&ratio=1&rotation=0&showTitle=false&size=416705&status=done&style=none&title=&width=416)\n\n![](https://cdn.nlark.com/yuque/__latex/30b94bbbad526eeb6dd345afdaeaccf8.svg#card=math&code=x%27&height=18&id=sQUn5)（x **\\prime**）\n<a name=\"eYdP8\"></a>\n## Shear 切变\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586007242413-0959fb44-3383-4970-8f15-c32af5516441.png#averageHue=%23c6b8b2&height=285&id=hvSgL&originHeight=1112&originWidth=1613&originalType=binary&ratio=1&rotation=0&showTitle=false&size=590195&status=done&style=none&title=&width=414)\n\n<a name=\"YgxLP\"></a>\n## Rotation 旋转\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586007281781-bc6d84db-d220-4989-838e-2a535804d423.png#averageHue=%23e8e2cf&height=279&id=BibyE&originHeight=1082&originWidth=1600&originalType=binary&ratio=1&rotation=0&showTitle=false&size=637739&status=done&style=none&title=&width=413)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586007285404-4cf567bc-042a-47ac-b1b4-4f800db9a68e.png#averageHue=%23fefdfb&height=271&id=vXOHL&originHeight=1048&originWidth=1598&originalType=binary&ratio=1&rotation=0&showTitle=false&size=930834&status=done&style=none&title=&width=413)\n\n<a name=\"4B0Jh\"></a>\n## Linear Transform 线性变换\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586007330456-1c86c584-01ca-4ff3-9edb-cb6aa36518ee.png#averageHue=%23fbfafa&height=312&id=l43fV&originHeight=978&originWidth=1263&originalType=binary&ratio=1&rotation=0&showTitle=false&size=249474&status=done&style=none&title=&width=403)\n\n**线性变换**：由**相同维度**的矩阵进行的变换（？？\n\n<a name=\"K9gtd\"></a>\n## Homogeneous Coordinate 齐次坐标\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586007929470-c3b03450-3672-4634-bd8f-8e1698077426.png#averageHue=%23f7f7f7&height=286&id=CHGfe&originHeight=943&originWidth=1418&originalType=binary&ratio=1&rotation=0&showTitle=false&size=401995&status=done&style=none&title=&width=430)\n\n齐次坐标：增加一个维度以复合多种类型的变换\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586007999527-3bc340aa-0c1f-4226-b089-0d03f211815a.png#averageHue=%23f7f7f7&height=330&id=BZkhc&originHeight=1094&originWidth=1417&originalType=binary&ratio=1&rotation=0&showTitle=false&size=455580&status=done&style=none&title=&width=427)\n\n规定：<br />齐次坐标中的点末位为1，向量为0。<br />若齐次坐标中的**向量末位不为0**，则其代表一个点，**点的坐标为此向量 / 向量末位**<br />齐次坐标中**两点相加等于他们的中点**\n\n<a name=\"dvFld\"></a>\n## Affine Transformation 仿射变换\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008241154-66a51488-48d4-4c47-8222-ef796832264a.png#averageHue=%23f9f9f9&height=312&id=b5XZT&originHeight=968&originWidth=1282&originalType=binary&ratio=1&rotation=0&showTitle=false&size=326351&status=done&style=none&title=&width=413)\n\n齐次坐标中的矩阵变换**先进行线性变换再进行仿射变换**\n\n<a name=\"k5Xaa\"></a>\n## 2D 矩阵变换\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008429385-6e5e4906-7bdb-4f1d-bf48-e9a4512a074e.png#averageHue=%23fbfbfb&height=325&id=wCxMA&originHeight=1115&originWidth=1309&originalType=binary&ratio=1&rotation=0&showTitle=false&size=324338&status=done&style=none&title=&width=381)\n\n<a name=\"EWw7D\"></a>\n## Inverse 逆变换\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008434932-a5914de8-b9ba-4c44-96ae-c093aa8928e8.png#averageHue=%23fafafa&height=277&id=C4uCS&originHeight=1126&originWidth=1519&originalType=binary&ratio=1&rotation=0&showTitle=false&size=370542&status=done&style=none&title=&width=374)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008439519-151debe3-1044-4d25-b47f-648a854a5f10.png#averageHue=%23fcfaf8&height=228&id=egyWE&originHeight=942&originWidth=1547&originalType=binary&ratio=1&rotation=0&showTitle=false&size=706751&status=done&style=none&title=&width=374)\n\n旋转矩阵的**逆就是其转置 （正交矩阵）**\n\n<a name=\"vsezy\"></a>\n## 复合变换\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008570057-f64ba1b2-ffde-440a-8137-a6cff3611342.png#averageHue=%23f8f8f8&height=238&id=ybS5A&originHeight=842&originWidth=1478&originalType=binary&ratio=1&rotation=0&showTitle=false&size=356894&status=done&style=none&title=&width=418)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008592514-f9c2d070-8654-4089-a9fb-237d5c143b8e.png#averageHue=%23f7f7f7&height=310&id=x9Lkh&originHeight=963&originWidth=1546&originalType=binary&ratio=1&rotation=0&showTitle=false&size=412644&status=done&style=none&title=&width=497)\n\n变换的顺序不可交换<br />多个矩阵应用于向量时，**从最右侧**逐个应用于向量\n\n<a name=\"uepUp\"></a>\n## 绕某一点旋转、缩放\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008658093-f299dc6a-23bf-4e11-ae80-89b84280bcde.png#averageHue=%23b9b4af&height=331&id=yZLHs&originHeight=1086&originWidth=1618&originalType=binary&ratio=1&rotation=0&showTitle=false&size=546471&status=done&style=none&title=&width=493)\n\n先移到原点，再进行旋转、缩放，再移回去\n\n<a name=\"MCCKp\"></a>\n## 3D旋转\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586008735137-fe7eb28a-7bf7-477a-bff9-b278a8a21173.png#averageHue=%23fbfbfb&height=334&id=vu1Yx&originHeight=1097&originWidth=1582&originalType=binary&ratio=1&rotation=0&showTitle=false&size=499878&status=done&style=none&title=&width=481)\n\n绕y旋转矩阵与xz相反，是由于**循环对称**原理，![](https://cdn.nlark.com/yuque/__latex/2f1dca98fbcb51386ee250fb95880a06.svg#card=math&code=%5Cvec%7Bx%7D%20%5Ctimes%20%5Cvec%7By%7D%20%3D%2B%5Cvec%7Bz%7D%20%5C%20%3B%5C%20%5Cvec%7By%7D%20%5Ctimes%20%5Cvec%7Bz%7D%20%3D%2B%5Cvec%7Bx%7D%20%5C%20%3B%5C%20%5Cvec%7Bz%7D%20%5Ctimes%20%5Cvec%7Bx%7D%20%3D%2B%5Cvec%7By%7D&height=19&id=IYABJ)\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586009457637-64f1fd6e-d7f6-4e06-b6c9-1f5adbb95e03.png#averageHue=%23f5f3f0&height=351&id=FS0cb&originHeight=1110&originWidth=1412&originalType=binary&ratio=1&rotation=0&showTitle=false&size=635848&status=done&style=none&title=&width=446)\n\n任意3D旋转都可以表示为绕xyz轴的欧拉角旋转，欧拉角不适合插值，<br />会有万向节锁，一般软件内部用四元数和矩阵替代欧拉角。\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586009640673-80c39a59-decf-4a6d-b7b2-0763be3f3229.png#averageHue=%23f9f9f9&height=256&id=l523a&originHeight=849&originWidth=1609&originalType=binary&ratio=1&rotation=0&showTitle=false&size=351591&status=done&style=none&title=&width=485)\n\nRodrigues旋转公式：**绕任意轴旋转**，Unity有封装\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586611770666-bebe8d65-36fd-456d-9dce-632360993c54.png#averageHue=%231a1e20&height=96&id=EtKnK&originHeight=128&originWidth=711&originalType=binary&ratio=1&rotation=0&showTitle=false&size=21503&status=done&style=none&title=&width=535)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586611793740-11347b7e-7add-4e1a-b071-19f82f918b39.png#averageHue=%23191c1d&height=306&id=QZzDH&originHeight=435&originWidth=937&originalType=binary&ratio=1&rotation=0&showTitle=false&size=61671&status=done&style=none&title=&width=659)\n<a name=\"w2yHl\"></a>\n## Viewing 变换\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010221065-0b9a3256-25e5-40b8-b5a9-c11916b02e04.png#averageHue=%23f9f9f8&height=320&id=wdlwJ&originHeight=1079&originWidth=1556&originalType=binary&ratio=1&rotation=0&showTitle=false&size=595675&status=done&style=none&title=&width=461)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010225839-6382e26f-f10a-4dd2-b2dc-15fd161299c7.png#averageHue=%23fdfcfc&height=244&id=yHWrH&originHeight=824&originWidth=1560&originalType=binary&ratio=1&rotation=0&showTitle=false&size=365748&status=done&style=none&title=&width=462)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010229936-4da55aee-5a2a-467e-bec4-a41b8dee54a8.png#averageHue=%23fdfdfd&height=275&id=gtLff&originHeight=929&originWidth=1553&originalType=binary&ratio=1&rotation=0&showTitle=false&size=439251&status=done&style=none&title=&width=459)\n\nView矩阵<br />将相机移动到原点并看向-z<br />将相机旋转到标准坐标的矩阵可以用旋转到相机角度的矩阵的逆\n\n<a name=\"EbqNC\"></a>\n## Projection Transformation 投影变换\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010662076-975d98f9-1b4e-4c86-91e5-bd8f4f123c84.png#averageHue=%23c7ba7a&height=302&id=Sa1C4&originHeight=901&originWidth=1490&originalType=binary&ratio=1&rotation=0&showTitle=false&size=566001&status=done&style=none&title=&width=500)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010665516-e1692876-50d1-435b-a53c-6cb88d36e50c.png#averageHue=%23e3e2dd&height=364&id=hqZFy&originHeight=1092&originWidth=1503&originalType=binary&ratio=1&rotation=0&showTitle=false&size=673020&status=done&style=none&title=&width=501)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010669188-7bd06a8e-90e8-4f9d-914b-1be72eab0129.png#averageHue=%23fdfdfd&height=237&id=UMBEe&originHeight=745&originWidth=1581&originalType=binary&ratio=1&rotation=0&showTitle=false&size=288988&status=done&style=none&title=&width=503)\n\n变换到**标准化设备坐标（NDC）**坐标内\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010833550-ec2f3720-333a-4b63-82c2-68d1204456c8.png#averageHue=%23fdfdfd&height=157&id=R2Xq7&originHeight=512&originWidth=1629&originalType=binary&ratio=1&rotation=0&showTitle=false&size=235911&status=done&style=none&title=&width=500)\n\n**正交投影矩阵**：先移动到原点，再缩放到NDC（暂时忽略旋转）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010861374-bb19f437-ee9d-4fed-9d43-29b437a01c1a.png#averageHue=%23f8f8f8&height=249&id=ZEsmB&originHeight=837&originWidth=1463&originalType=binary&ratio=1&rotation=0&showTitle=false&size=384658&status=done&style=none&title=&width=435)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010865914-65f07b3d-b6f3-4245-a238-1d13405b0093.png#averageHue=%23cac1bd&height=264&id=XL3AF&originHeight=352&originWidth=583&originalType=binary&ratio=1&rotation=0&showTitle=false&size=100497&status=done&style=none&title=&width=437)\n\n透视投影<br />先将远裁剪面“压扁”为近裁面大小，其中近裁面不变，远裁面中心点不变，然后进行正交投影\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586010933290-e7eb0385-592c-42cf-a83a-0ef480cdf1f9.png#averageHue=%23fcfcfc&height=259&id=fNc1I&originHeight=814&originWidth=1680&originalType=binary&ratio=1&rotation=0&showTitle=false&size=412101&status=done&style=none&title=&width=534)\n\n由于近裁面和远裁面构成相似三角形，所以 ![](https://cdn.nlark.com/yuque/__latex/9839051b87f55fdfb3343010637df400.svg#card=math&code=y%27%3Ay%3Dn%3Az&height=20&id=mETnm)\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586011031339-fa323741-d09f-4795-adfa-844dcab691be.png#averageHue=%23fcfcfc&height=288&id=Mi3iC&originHeight=848&originWidth=1368&originalType=binary&ratio=1&rotation=0&showTitle=false&size=386115&status=done&style=none&title=&width=465)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586011036615-d55a4565-f81b-486f-b4ea-637c3ab5a810.png#averageHue=%23fbfbfb&height=294&id=N3OJj&originHeight=901&originWidth=1432&originalType=binary&ratio=1&rotation=0&showTitle=false&size=371567&status=done&style=none&title=&width=467)\n\n可以推出压扁矩阵的一部分<br />z的部分进行观察：\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586011094763-f4b4d1de-e7c4-4e3f-a879-6f68b1eada82.png#averageHue=%23fcfafa&height=239&id=isPfZ&originHeight=731&originWidth=1548&originalType=binary&ratio=1&rotation=0&showTitle=false&size=402030&status=done&style=none&title=&width=507)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586011107502-2d6f7e5e-45be-4615-9008-dbb9d6ed4931.png#averageHue=%23fafafa&height=275&id=vCaon&originHeight=910&originWidth=1669&originalType=binary&ratio=1&rotation=0&showTitle=false&size=525273&status=done&style=none&title=&width=505)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586011157951-0b513108-acd2-4464-8f36-f31980261c4e.png#averageHue=%23fbfbfb&height=311&id=jHTtE&originHeight=876&originWidth=1420&originalType=binary&ratio=1&rotation=0&showTitle=false&size=336729&status=done&style=none&title=&width=504)\n\n**远近裁面**上应用矩阵后z不变，故得出以下方程：\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586011222077-d210f487-cb63-4ba3-be7a-16a6d0c805df.png#averageHue=%23fcfcfc&height=303&id=Is2kW&originHeight=863&originWidth=1216&originalType=binary&ratio=1&rotation=0&showTitle=false&size=316255&status=done&style=none&title=&width=427)\n\n带入得到压扁矩阵：<br />![](https://cdn.nlark.com/yuque/__latex/b8864388987d8a92cc9ca7f626456458.svg#card=math&code=%5Cbegin%7Bpmatrix%7D%0An%20%26%200%20%26%200%20%26%200%5C%5C%0A0%20%26%20n%20%26%200%20%26%200%5C%5C%0A0%20%26%200%20%26%20n%2Bf%20%26%20-nf%5C%5C%0A0%20%26%200%20%26%201%20%26%200%0A%5Cend%7Bpmatrix%7D&height=90&id=dNzW7)<br />之后带入n、f和nf中点的值，计算得出中点经过压扁后会**朝远裁面移动**<br />然后将压扁矩阵与正交投影矩阵复合得到透视投影矩阵\n\n![CFE78BE3-A456-434C-9351-586CB98595C3.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1590148029968-51c4a4d5-7914-45e9-aa1a-70372e536ac9.png#averageHue=%23f8f8f8&height=220&id=LwbKh&originHeight=220&originWidth=657&originalType=binary&ratio=1&rotation=0&showTitle=false&size=12070&status=done&style=none&title=&width=657)\n<a name=\"D0s1e\"></a>\n# 光栅化 [Rasterization 1 (Triangles)](https://www.bilibili.com/video/BV1X7411F744?p=5)\n<a name=\"rfpud\"></a>\n## 视锥\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586086136798-332bf9ac-16fe-41f1-9f5d-8d9542291419.png#averageHue=%23ddd8d1&height=340&id=FN7XH&originHeight=1061&originWidth=1467&originalType=binary&ratio=1&rotation=0&showTitle=false&size=611939&status=done&style=none&title=&width=470)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586087227518-568cb1c3-6c07-407b-93bc-2eb57c6fa376.png#averageHue=%23fefefe&height=212&id=boxdo&originHeight=691&originWidth=1535&originalType=binary&ratio=1&rotation=0&showTitle=false&size=206016&status=done&style=none&title=&width=471)\n\n定义透视投影视锥需要：<br />FOVY，垂直可视角度；Aspect Ratio 长宽比；远近裁面距离\n<a name=\"FSOvK\"></a>\n## 视口\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586091240421-caaaedc5-b1a5-4d62-966e-b59ae4943ebe.png#averageHue=%23888a87&height=321&id=EeVmb&originHeight=1071&originWidth=1535&originalType=binary&ratio=1&rotation=0&showTitle=false&size=520557&status=done&style=none&title=&width=460)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586091993659-33c75981-0a39-4404-ab97-565fb4a4fa17.png#averageHue=%23c2c3c1&height=295&id=LPUct&originHeight=890&originWidth=1387&originalType=binary&ratio=1&rotation=0&showTitle=false&size=295191&status=done&style=none&title=&width=459)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586092011151-9df0c73c-6834-4d58-9edc-c045cfcf2893.png#averageHue=%23fefefe&height=177&id=yhHX1&originHeight=473&originWidth=1218&originalType=binary&ratio=1&rotation=0&showTitle=false&size=150941&status=done&style=none&title=&width=457)\n\n视口变换：将NDC缩放、平移到屏幕空间\n<a name=\"yvhdE\"></a>\n## 三角形\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586094259151-84d16456-2b29-4bf7-b8a3-7237779b8c48.png#averageHue=%23c0bab6&height=310&id=J2dIs&originHeight=1017&originWidth=1495&originalType=binary&ratio=1&rotation=0&showTitle=false&size=601656&status=done&style=none&title=&width=456)\n\n三角形在图形学中的特性：\n\n- 所有多边形的基础\n- 任意多边形都可以拆解为三角形\n- 在一个平面内\n- 定义清晰的内部\n- 顶点之间易于插值\n<a name=\"NWSaL\"></a>\n## 采样\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586094705539-3f8e863a-8d74-499d-9dfa-a117f2615cdd.png#averageHue=%23fefefe&height=221&id=xIdhj&originHeight=782&originWidth=1541&originalType=binary&ratio=1&rotation=0&showTitle=false&size=358766&status=done&style=none&title=&width=435)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586095069444-dc6d2f66-4523-446b-a094-aaa2a5b16471.png#averageHue=%23eac5c0&height=189&id=sSsTb&originHeight=952&originWidth=1496&originalType=binary&ratio=1&rotation=0&showTitle=false&size=533012&status=done&style=none&title=&width=297)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586095499582-f6287b01-184f-411b-ba88-606b5a22aa9f.png#averageHue=%23f3c985&height=192&id=sreBR&originHeight=1030&originWidth=1515&originalType=binary&ratio=1&rotation=0&showTitle=false&size=437776&status=done&style=none&title=&width=283)\n\n采样 Sample：求函数某一点的值，采样可以离散一个函数<br />用像素中心对三角形采样，判断是否在三角形内<br />叉乘可以判断内外，见上文\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586095801122-f0676eef-1cd6-4748-8f5b-449ea1b36a36.png#averageHue=%23d3d3ce&height=295&id=LUWSn&originHeight=1024&originWidth=1224&originalType=binary&ratio=1&rotation=0&showTitle=false&size=735210&status=done&style=none&title=&width=353)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586096078635-c3f8a2ef-7f8d-4f82-9e97-ce6fdcce2ca9.png#averageHue=%23de9630&height=273&id=UkYPT&originHeight=1022&originWidth=1335&originalType=binary&ratio=1&rotation=0&showTitle=false&size=652210&status=done&style=none&title=&width=356)\n\n只有三角形包围盒内的像素需要判断（AABB 轴向对齐包围盒 Axis-aligned bounding box）<br />可以每行判断最小最大以在某些情况下优化<br />光栅化采样的同时会产生锯齿\n<a name=\"OgT7Y\"></a>\n# 光栅化 Rasterization 2 (Antialiasing and Z-Buffering)\n<a name=\"1fjdo\"></a>\n## 抗锯齿/反走样1\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586172977089-1d6f1eac-8908-4882-ab72-f7bf32a3637c.png#averageHue=%23eecfc5&height=93&id=ozYNv&originHeight=434&originWidth=1493&originalType=binary&ratio=1&rotation=0&showTitle=false&size=247379&status=done&style=none&title=&width=319)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586172689036-a4c58bd9-65c3-4757-a041-90e48d136a43.png#averageHue=%23f8ddd5&height=168&id=h1o9h&originHeight=1096&originWidth=1247&originalType=binary&ratio=1&rotation=0&showTitle=false&size=332391&status=done&style=none&title=&width=191)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586172727172-d8314c29-1f6d-4002-a7a4-76b4a91a3637.png#averageHue=%23efcdc0&height=168&id=k6IDv&originHeight=979&originWidth=1624&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1579469&status=done&style=none&title=&width=278)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586173022178-e5ed731f-7aca-4169-9ced-41de071c2af9.png#averageHue=%23f9fdfd&height=166&id=CbFGd&originHeight=1008&originWidth=1497&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2990001&status=done&style=none&title=&width=247)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586174731268-fbfe1e9c-042c-4d79-bf91-3d57af9876e1.png#averageHue=%23e4cfc8&height=269&id=PcrqC&originHeight=1035&originWidth=1669&originalType=binary&ratio=1&rotation=0&showTitle=false&size=582825&status=done&style=none&title=&width=434)\n\nArtifact：走样（锯齿、摩尔纹、车轮倒转……）<br />是由于信号变化太快而采样速度跟不上导致\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586174982444-a2b9fda0-e6c8-4b61-a922-539f81892dae.png#averageHue=%23eeeeee&height=105&id=kNKxf&originHeight=439&originWidth=1292&originalType=binary&ratio=1&rotation=0&showTitle=false&size=176691&status=done&style=none&title=&width=309)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586175090647-454f5f16-779c-44b0-b30e-29d5fd59fa50.png#averageHue=%23cd7f66&height=291&id=LQdYC&originHeight=1077&originWidth=1594&originalType=binary&ratio=1&rotation=0&showTitle=false&size=632394&status=done&style=none&title=&width=431)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586175294345-94a1f9ea-a848-4783-927d-9feeb04b5704.png#averageHue=%23a0a0a3&height=290&id=E3cg2&originHeight=1082&originWidth=1628&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1231210&status=done&style=none&title=&width=436)\n\n可以通过采样前进行模糊的方法抗锯齿，而先采样后模糊则达不到效果\n<a name=\"btlQ3\"></a>\n## 频域 Frequency Domain\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586176154071-37f2cf23-ec54-401e-aaff-fdeb6a399eb3.png#averageHue=%23ecedea&height=306&id=Ep1WR&originHeight=1120&originWidth=1580&originalType=binary&ratio=1&rotation=0&showTitle=false&size=806388&status=done&style=none&title=&width=431)\n\n![](https://cdn.nlark.com/yuque/__latex/8fa14cdd754f91cc6554c9e71929cce7.svg#card=math&code=f&height=18&id=anooE)=2=频率，![](https://cdn.nlark.com/yuque/__latex/8fa14cdd754f91cc6554c9e71929cce7.svg#card=math&code=f&height=18&id=hyxc4)=![](https://cdn.nlark.com/yuque/__latex/4da9761b58dd418cfdbb05f3a6408daa.svg#card=math&code=%5Cfrac%7B1%7D%7BT%7D&height=37&id=fMvd6)=导数=周期<br />空域/时域 相当于平时所接触的图像\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586176762727-7286a346-033e-4e0e-8ba2-2273ba44c59d.png#averageHue=%23dcdad4&height=299&id=O03BN&originHeight=1084&originWidth=1673&originalType=binary&ratio=1&rotation=0&showTitle=false&size=800308&status=done&style=none&title=&width=462)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586176997704-b401f73f-9332-46a6-8125-c1fd5201e579.png#averageHue=%23d9d8d7&height=321&id=IZYqs&originHeight=1035&originWidth=1617&originalType=binary&ratio=1&rotation=0&showTitle=false&size=584532&status=done&style=none&title=&width=502)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586177125013-4b1159e1-3c83-411b-adf0-3573a0149ee3.png#averageHue=%23c8d4b6&height=334&id=gaDTT&originHeight=1067&originWidth=1704&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1092302&status=done&style=none&title=&width=533)\n\n傅里叶级数展开：将一个函数描述为正弦余弦的和<br />不同的正弦余弦本质是不同的频率<br />采样的频率越低而函数频率越高则采样结果失真越严重\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586177588546-172721ae-efb0-4aba-8bcd-eea98581d953.png#averageHue=%23e2e0dc&height=368&id=kYBvm&originHeight=1115&originWidth=1600&originalType=binary&ratio=1&rotation=0&showTitle=false&size=762657&status=done&style=none&title=&width=528)\n\n走样的定义：两种完全不同的函数的采样结果完全相同\n\n<a name=\"vTDwT\"></a>\n## 滤波 Filtering\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586177745505-c1657d8e-849e-4e84-bab4-99dcd928cd13.png#averageHue=%23fefdf8&height=67&id=iO7BV&originHeight=271&originWidth=1152&originalType=binary&ratio=1&rotation=0&showTitle=false&size=176778&status=done&style=none&title=&width=284)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586178216951-26ba1c57-191e-4b41-a632-b096f042666d.png#averageHue=%233e3d40&height=264&id=blzxX&originHeight=966&originWidth=1634&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1145893&status=done&style=none&title=&width=446)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586178232738-dd29a58a-85bc-4c6a-b5ee-14c08b4fed83.png#averageHue=%23050408&height=290&id=tfO3W&originHeight=1055&originWidth=1620&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1053372&status=done&style=none&title=&width=446)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586178590957-38551417-260a-4a3d-aa67-012e561c0f4c.png#averageHue=%23626164&height=283&id=qEJ3q&originHeight=1026&originWidth=1622&originalType=binary&ratio=1&rotation=0&showTitle=false&size=805138&status=done&style=none&title=&width=448)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586178676164-b700630b-f862-41a8-a9d5-c5d5bab5d5f3.png#averageHue=%23212023&height=267&id=ve9Hp&originHeight=957&originWidth=1610&originalType=binary&ratio=1&rotation=0&showTitle=false&size=918181&status=done&style=none&title=&width=449)\n\n滤波：删除某些特定的频率<br />图像的频率：像素间的差异越小则频率越低，反之越高，也就是边界处的频率最高<br />High-pass filter 高通滤波器：只让高频部分通过，反之低通滤波器，可以提取图像的边缘或者模糊图像\n\n卷积 Convolution\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586178836730-619a4763-6ea1-4671-bf3a-d5192659e284.png#averageHue=%23eaeaea&height=62&id=MeR4q&originHeight=273&originWidth=1017&originalType=binary&ratio=1&rotation=0&showTitle=false&size=104087&status=done&style=none&title=&width=230)\n\n滤波=卷积=平均\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586179089831-83bc920b-0a4f-4d9a-9726-18c6d9ff5961.png#averageHue=%23f9f7f7&height=261&id=W7J3X&originHeight=1066&originWidth=1635&originalType=binary&ratio=1&rotation=0&showTitle=false&size=310892&status=done&style=none&title=&width=401)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586179112982-4b4978df-5212-4dc8-a06a-1bba4b05e551.png#averageHue=%23cf6f58&height=214&id=P0GVS&originHeight=838&originWidth=1571&originalType=binary&ratio=1&rotation=0&showTitle=false&size=267606&status=done&style=none&title=&width=401)\n\n图形学中的卷积=对图像（信号）应用一个滤波器（卷积核）得到结果\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586179432508-ec8a12d9-8227-418e-8fe9-d0ad5e0740d2.png#averageHue=%23eed7d0&height=318&id=jqIzY&originHeight=1017&originWidth=1581&originalType=binary&ratio=1&rotation=0&showTitle=false&size=589834&status=done&style=none&title=&width=494)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586179447655-9cd86f44-553c-4c4e-b516-a80de3f756d8.png#averageHue=%237b8369&height=325&id=RCzet&originHeight=1056&originWidth=1612&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1036455&status=done&style=none&title=&width=496)\n\n时域（图像）上的卷积相当于频域上的乘积<br />对图像进行卷积=对频率应用低通滤波器=模糊\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586180190333-959b7d82-ca99-4ce5-bd0f-1033f7dd3e80.png#averageHue=%23272628&height=211&id=vNbOg&originHeight=947&originWidth=1593&originalType=binary&ratio=1&rotation=0&showTitle=false&size=299079&status=done&style=none&title=&width=355)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586180209843-cd54b783-b4f2-45af-8916-e772f438e665.png#averageHue=%23545355&height=210&id=GJt8H&originHeight=946&originWidth=1606&originalType=binary&ratio=1&rotation=0&showTitle=false&size=198071&status=done&style=none&title=&width=356)\n\n越大的卷积核图像越模糊，对应的频率越低\n<a name=\"lp41w\"></a>\n## 采样 Sampling\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586181447972-fb7b25fb-8c16-4fd3-8644-aec3e144e211.png#averageHue=%23fdfdfc&height=408&id=U4FWg&originHeight=1141&originWidth=1609&originalType=binary&ratio=1&rotation=0&showTitle=false&size=604252&status=done&style=none&title=&width=575)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586181542424-4b54a8b9-8fa7-4ad8-9bd0-d589c6bffec9.png#averageHue=%23fefefe&height=337&id=i2qip&originHeight=864&originWidth=1470&originalType=binary&ratio=1&rotation=0&showTitle=false&size=286719&status=done&style=none&title=&width=573)\n\n\n时域上采样等于在频域上重复原始信号的频谱<br />而走样则是因为采样率太低，频谱间隔太小造成的重叠\n<a name=\"EFFQm\"></a>\n## 抗锯齿/反走样2\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586181979515-25bb8fea-3f85-4a3b-b358-501bb930bb56.png#averageHue=%23edd7d1&height=316&id=LzEEW&originHeight=1045&originWidth=1637&originalType=binary&ratio=1&rotation=0&showTitle=false&size=643607&status=done&style=none&title=&width=495)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586181964167-891fe250-6269-427c-85a0-f8b3e1ca3ce3.png#averageHue=%23fefefe&height=310&id=bf6WD&originHeight=869&originWidth=1461&originalType=binary&ratio=1&rotation=0&showTitle=false&size=278613&status=done&style=none&title=&width=522)\n\n反走样\n\n- 增加采样率\n- 低通滤波（先去掉高频再采样）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586182210487-d6484928-cbc6-48b3-b3e0-6071dccbaa0c.png#averageHue=%23fdfcfc&height=170&id=wwcBs&originHeight=582&originWidth=1588&originalType=binary&ratio=1&rotation=0&showTitle=false&size=333500&status=done&style=none&title=&width=463)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586182290435-355ec8d7-6395-47a5-b927-5d8638319434.png#averageHue=%23cdcecb&height=327&id=SU0SN&originHeight=1102&originWidth=1593&originalType=binary&ratio=1&rotation=0&showTitle=false&size=503067&status=done&style=none&title=&width=472)\n\n在一个像素内卷积，三角形覆盖的面积作为像素亮度（不易执行）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586182423450-7d508775-6683-4ee4-a5e8-833551f33eb1.png#averageHue=%23fefefe&height=279&id=QpUjT&originHeight=1086&originWidth=1544&originalType=binary&ratio=1&rotation=0&showTitle=false&size=333502&status=done&style=none&title=&width=397)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586182489305-d89eb77e-c377-40fb-be83-99b3a8994bf6.png#averageHue=%23ca795e&height=239&id=zEPVP&originHeight=1016&originWidth=1461&originalType=binary&ratio=1&rotation=0&showTitle=false&size=370874&status=done&style=none&title=&width=344)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586182657849-1d9b75ea-b504-4e15-a26c-4d79cca48989.png#averageHue=%23eae7e2&height=234&id=v7hia&originHeight=976&originWidth=1405&originalType=binary&ratio=1&rotation=0&showTitle=false&size=509408&status=done&style=none&title=&width=337)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586182669374-929bc1a8-a99d-4310-81ea-c07cfa3fd993.png#averageHue=%23ead2c7&height=223&id=za2Oi&originHeight=846&originWidth=1435&originalType=binary&ratio=1&rotation=0&showTitle=false&size=319486&status=done&style=none&title=&width=379)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586183196637-be1e0e6a-f33a-4bad-aa84-f78c51f0c053.png#averageHue=%23bdb5b0&height=336&id=rnZqc&originHeight=1126&originWidth=1377&originalType=binary&ratio=1&rotation=0&showTitle=false&size=521647&status=done&style=none&title=&width=411)\n<a name=\"6WvFz\"></a>\n# 着色 Shading 1 (Illumination, Shading and  Graphics Pipeline)\n<a name=\"61nle\"></a>\n## Z-Buffer\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586686227581-50477d73-66ad-4238-a0d1-7f7989ad6580.png#averageHue=%23acb777&height=257&id=deAon&originHeight=1095&originWidth=1558&originalType=binary&ratio=1&rotation=0&showTitle=false&size=549322&status=done&style=none&title=&width=365)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586686262320-19366c5a-5636-4587-bfc1-3235893e05df.png#averageHue=%23fefefe&height=247&id=dcC6b&originHeight=915&originWidth=1353&originalType=binary&ratio=1&rotation=0&showTitle=false&size=352100&status=done&style=none&title=&width=365)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586686339286-423c2c4b-265f-4ee1-a99a-573f1315f807.png#averageHue=%23fdfcfc&height=290&id=xYIiq&originHeight=1109&originWidth=1409&originalType=binary&ratio=1&rotation=0&showTitle=false&size=594649&status=done&style=none&title=&width=368)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586686693075-dcf1a879-65f2-4d24-a183-308a84c5a0b5.png#averageHue=%23fefefe&height=228&id=LPKYA&originHeight=955&originWidth=1554&originalType=binary&ratio=1&rotation=0&showTitle=false&size=402439&status=done&style=none&title=&width=371)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586690976939-fc8e278d-0bc9-42b4-8630-ad4e8905e519.png#averageHue=%23fefefe&height=253&id=ZV98j&originHeight=1023&originWidth=1482&originalType=binary&ratio=1&rotation=0&showTitle=false&size=408374&status=done&style=none&title=&width=367)\n<a name=\"LKB5r\"></a>\n## Shading\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586691398177-d962e92e-7b13-454f-9c84-c027ea5a2cd0.png#averageHue=%23efd7ce&height=234&id=I68Zu&originHeight=957&originWidth=1520&originalType=binary&ratio=1&rotation=0&showTitle=false&size=483146&status=done&style=none&title=&width=371)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586691684942-bcd54f76-69f2-44bb-96a6-e5c775d04e21.png#averageHue=%23d0c2bc&height=275&id=u6kPd&originHeight=1066&originWidth=1559&originalType=binary&ratio=1&rotation=0&showTitle=false&size=558275&status=done&style=none&title=&width=402)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586692143945-3314c599-aad1-4c46-b173-04d254519e4f.png#averageHue=%23efe88a&height=270&id=GNAMS&originHeight=1111&originWidth=1584&originalType=binary&ratio=1&rotation=0&showTitle=false&size=589627&status=done&style=none&title=&width=385)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586692312806-3d85c017-9f59-4d54-9064-b5c031a32440.png#averageHue=%23fbfbf5&height=245&id=pfXhr&originHeight=1122&originWidth=1650&originalType=binary&ratio=1&rotation=0&showTitle=false&size=858001&status=done&style=none&title=&width=361)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586692392940-3fc3d901-c716-4875-9162-9999ba4cfe8a.png#averageHue=%23fefdfd&height=277&id=kA3H8&originHeight=1080&originWidth=1623&originalType=binary&ratio=1&rotation=0&showTitle=false&size=465379&status=done&style=none&title=&width=417)\n<a name=\"WXM6u\"></a>\n# 着色 Shading 2 (Shading, Pipeline and Texture Mapping)\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586961199196-795b5567-b334-4c41-8d0e-6a2260625b45.png#averageHue=%23fdfdfc&height=294&id=pNDN8&originHeight=1185&originWidth=1644&originalType=binary&ratio=1&rotation=0&showTitle=false&size=583123&status=done&style=none&title=&width=408)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586962199583-f916006e-ab76-4bf8-b159-98a0a2340b98.png#averageHue=%23ada5a0&height=268&id=zErC0&originHeight=1070&originWidth=1400&originalType=binary&ratio=1&rotation=0&showTitle=false&size=407978&status=done&style=none&title=&width=350)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586962649677-c617c925-b2a9-4f43-bdf4-f483adbdad37.png#averageHue=%23000100&height=212&id=zXGa4&originHeight=885&originWidth=1431&originalType=binary&ratio=1&rotation=0&showTitle=false&size=413648&status=done&style=none&title=&width=342)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586962661056-10b95ef1-65c4-4313-92df-1a14fc72db76.png#averageHue=%23f5f5f1&height=204&id=aiutG&originHeight=850&originWidth=1430&originalType=binary&ratio=1&rotation=0&showTitle=false&size=479209&status=done&style=none&title=&width=344)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586962715520-93d18317-eb5d-422d-800b-4276eb1be95a.png#averageHue=%23fafbf6&height=229&id=qyJcV&originHeight=987&originWidth=1451&originalType=binary&ratio=1&rotation=0&showTitle=false&size=607957&status=done&style=none&title=&width=337)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586962783530-6cc667f0-0238-43db-8e2b-e2636bee317c.png#averageHue=%23bdbebc&height=244&id=GFwlD&originHeight=1165&originWidth=1589&originalType=binary&ratio=1&rotation=0&showTitle=false&size=852497&status=done&style=none&title=&width=333)\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586962908153-cebca5d4-338c-46e2-9731-ac8a0df887af.png#averageHue=%23b6aca6&height=304&id=ACeoo&originHeight=1132&originWidth=1542&originalType=binary&ratio=1&rotation=0&showTitle=false&size=645438&status=done&style=none&title=&width=414)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586962971548-3acdb701-8560-481c-b54a-3b48d5032664.png#averageHue=%23fefdfd&height=301&id=FXBwz&originHeight=1029&originWidth=1399&originalType=binary&ratio=1&rotation=0&showTitle=false&size=405360&status=done&style=none&title=&width=409)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586963203274-e09b261a-92fa-4f68-b2c8-e024b424400d.png#averageHue=%23d7b355&height=295&id=nz2tO&originHeight=1143&originWidth=1586&originalType=binary&ratio=1&rotation=0&showTitle=false&size=812047&status=done&style=none&title=&width=409)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586963572419-dcab7419-6acc-49f2-bc3b-dd56bad75245.png#averageHue=%23c8d5e7&height=319&id=EPxF8&originHeight=1163&originWidth=1476&originalType=binary&ratio=1&rotation=0&showTitle=false&size=829602&status=done&style=none&title=&width=405)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586963907625-3157143c-1727-409a-bb17-9f97d8905e39.png#averageHue=%23c4c6c5&height=362&id=ic8L1&originHeight=1153&originWidth=1593&originalType=binary&ratio=1&rotation=0&showTitle=false&size=949634&status=done&style=none&title=&width=500)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586963987179-63968b96-30d9-4fbd-a11e-11f22a446f3c.png#averageHue=%23d2dfc4&height=349&id=tnyjg&originHeight=1087&originWidth=1587&originalType=binary&ratio=1&rotation=0&showTitle=false&size=954855&status=done&style=none&title=&width=509)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586964048996-38fd191b-90a3-40b6-acf8-8023aabe0ffc.png#averageHue=%237c8a82&height=373&id=LbBmH&originHeight=1180&originWidth=1610&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2474882&status=done&style=none&title=&width=509)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586964120850-6d4203d8-cd85-4edf-95db-0546c0f4693a.png#averageHue=%23a2942a&height=344&id=hasfP&originHeight=1158&originWidth=1614&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2801261&status=done&style=none&title=&width=480)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1586964215654-b1e0ab31-2691-482a-b48e-05238888602c.png#averageHue=%23e9e5e2&height=292&id=OPupa&originHeight=1093&originWidth=1368&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1182728&status=done&style=none&title=&width=365)\n<a name=\"iPoYg\"></a>\n# Shading 3 (Texture Mapping Cont.)\n<a name=\"CGIZT\"></a>\n## 重心坐标\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1587566447116-e2fa759f-4999-429b-8535-bad12ffbc6cb.png#averageHue=%23ececec&height=116&id=U3m56&originHeight=376&originWidth=1331&originalType=binary&ratio=1&rotation=0&showTitle=false&size=169378&status=done&style=none&title=&width=412)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1587566785885-c3d8d618-379b-4c4f-bfb3-b902d004e6ea.png#averageHue=%23fdfbfa&height=301&id=pAc8e&originHeight=1075&originWidth=1612&originalType=binary&ratio=1&rotation=0&showTitle=false&size=500271&status=done&style=none&title=&width=451)\n\n对于三角形内任意点都可以用三个点的坐标的线性组合来表示，![](https://cdn.nlark.com/yuque/__latex/52d38fb485ce7e521a91c9feac2378b8.svg#card=math&code=%5Calpha%20%5Cgeqslant%200%5C%20%5C%26%5C%20%5Cbeta%20%5Cgeqslant%200%5C%20%5C%26%5C%20%5Cgamma%20%5Cgeqslant%200&height=19&id=tVqR6)时在三角形内部<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1587571405255-d92d2dd6-45ca-4f46-9360-3bf29142a499.png#averageHue=%23fefefd&height=217&id=JyZuv&originHeight=952&originWidth=1600&originalType=binary&ratio=1&rotation=0&showTitle=false&size=293937&status=done&style=none&title=&width=364)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1587571442074-ae8fbf54-6dfc-43c3-ace4-b4109d54c26a.png#averageHue=%23fefefe&height=208&id=SSbY0&originHeight=918&originWidth=1605&originalType=binary&ratio=1&rotation=0&showTitle=false&size=331587&status=done&style=none&title=&width=363)<br />面积比可以求出重心坐标，用点对面（不相邻的三角形）的三角形的面积除以总面积则为此点重心坐标<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1587572841536-d41a102a-794d-4dac-bafe-ad80d215a5c6.png#averageHue=%23f5f5f5&height=74&id=FiVnd&originHeight=236&originWidth=787&originalType=binary&ratio=1&rotation=0&showTitle=false&size=68373&status=done&style=none&title=&width=248)三角形的重心为1/3\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588576638618-82eae59d-2401-4316-b341-8e0409a7e3f9.png#averageHue=%23fefefe&height=245&id=qDskA&originHeight=960&originWidth=1483&originalType=binary&ratio=1&rotation=0&showTitle=false&size=358983&status=done&style=none&title=&width=379)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588576609359-6f7ed9f8-74ba-474a-9745-fa079c6562aa.png#averageHue=%23957451&height=255&id=FpFob&originHeight=1027&originWidth=1645&originalType=binary&ratio=1&rotation=0&showTitle=false&size=767852&status=done&style=none&title=&width=409)\n\n对于三角形内任意一点都可以计算其重心坐标，利用重心坐标对属性进行插值。注意：**投影后的重心坐标将改变，三维中的属性应在三维中插值**\n\n<a name=\"FuerI\"></a>\n## 纹理插值采样\n\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588577155435-79cbedf7-e054-49e1-981f-8b9498d71f86.png#averageHue=%23fefdfd&height=245&id=i9mDa&originHeight=968&originWidth=1513&originalType=binary&ratio=1&rotation=0&showTitle=false&size=480484&status=done&style=none&title=&width=383)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588577318172-ddd19027-118f-4377-87b5-c20e8655f3e4.png#averageHue=%238c8f78&height=280&id=NTefz&originHeight=1052&originWidth=1599&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1425627&status=done&style=none&title=&width=425)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588577439774-959b445c-db73-43be-a025-83f46e6c6ae1.png#averageHue=%23fdfdfd&height=186&id=A6IQq&originHeight=1032&originWidth=1522&originalType=binary&ratio=1&rotation=0&showTitle=false&size=466086&status=done&style=none&title=&width=275)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588577639295-17547faa-f808-4c2d-ad88-5018c36614d6.png#averageHue=%23f8f4f3&height=269&id=q8Lm0&originHeight=951&originWidth=1597&originalType=binary&ratio=1&rotation=0&showTitle=false&size=632853&status=done&style=none&title=&width=451)\n\n双线性插值：采样时用水平和竖直方向与纹素的相对位置进行颜色线性插值\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588578385036-aee845ca-d04d-4929-afe0-9072d55a4bc0.png#averageHue=%235e6d85&height=287&id=C8yqD&originHeight=1017&originWidth=1616&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1748162&status=done&style=none&title=&width=456)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588578679484-0d604bc0-da0e-4018-b47f-429a2fc219b7.png#averageHue=%23fdfdfc&height=280&id=jaFjG&originHeight=968&originWidth=1580&originalType=binary&ratio=1&rotation=0&showTitle=false&size=537022&status=done&style=none&title=&width=457)\n<a name=\"DlFWj\"></a>\n## MipMap\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588578846744-abd546ba-f90d-4b73-8f4c-fbcca7a230f1.png#averageHue=%23fcfafa&height=78&id=MVBOS&originHeight=283&originWidth=1454&originalType=binary&ratio=1&rotation=0&showTitle=false&size=159702&status=done&style=none&title=&width=399)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588578872176-d201e0fb-b050-49ab-a7be-98e51ff268ac.png#averageHue=%23f5f8f8&height=340&id=dPW1v&originHeight=1095&originWidth=1576&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1539894&status=done&style=none&title=&width=489)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588579005204-343bf50b-e60f-4860-a12d-c23f56aa8b27.png#averageHue=%23fefefe&height=281&id=QSD5c&originHeight=964&originWidth=1361&originalType=binary&ratio=1&rotation=0&showTitle=false&size=221113&status=done&style=none&title=&width=397)\n\npoint sample：点查询<br />插值，求均值：范围查询<br />为解决远处一个像素覆盖过多纹素导致的锯齿，需要使用预计算的范围查询：MipMap（Image Pyramid）<br />每一级lod为上一级分辨率的1/4，总共需要额外的1/3存储空间，可以将3张贴图级其mipmap刚好存在一张贴图上。\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588579643195-7fa7aadb-8e75-4eb9-9b54-42a52a7669ca.png#averageHue=%23a1a590&height=341&id=Ouvgh&originHeight=1134&originWidth=1630&originalType=binary&ratio=1&rotation=0&showTitle=false&size=890680&status=done&style=none&title=&width=490)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588579915869-46eecb93-d1c1-4d42-97de-6a0f61058150.png#averageHue=%236a6c29&height=279&id=D4J9R&originHeight=1106&originWidth=1461&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1545270&status=done&style=none&title=&width=368)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588580340807-fa062676-0510-4184-9687-d36924f7a6c1.png#averageHue=%235f6627&height=281&id=NcFsX&originHeight=1091&originWidth=1424&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1781998&status=done&style=none&title=&width=367)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588580048561-418240ae-2809-480f-8463-d22ed71fb082.png#averageHue=%23bba9a2&height=358&id=GzmTF&originHeight=1079&originWidth=1477&originalType=binary&ratio=1&rotation=0&showTitle=false&size=656246&status=done&style=none&title=&width=490)\n\n可以使用ddx ddy确定uv在两个方向上的导数/变化率，从而确定要在那一层lod采样，而在层与层之间再进行插值就是三线性插值\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588580449484-700e95fc-ba7b-4fe1-a253-aaf460fa1b26.png#averageHue=%23a7aaa9&height=318&id=NPjm0&originHeight=1102&originWidth=1257&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1117389&status=done&style=none&title=&width=363)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588580478233-8622e807-9faa-4bae-b28c-9a4cb0f0853a.png#averageHue=%230d0f0e&height=332&id=JxJVU&originHeight=1103&originWidth=1233&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1157127&status=done&style=none&title=&width=371)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588581070093-8020a863-67e5-4b00-a1df-8f99e0ed342e.png#averageHue=%23313432&height=332&id=k8JvB&originHeight=663&originWidth=1023&originalType=binary&ratio=1&rotation=0&showTitle=false&size=636151&status=done&style=none&title=&width=512)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588580721277-0d01d4fd-e341-4b74-a905-52c0052d93d6.png#averageHue=%23bcb9ac&height=404&id=s58ar&originHeight=1130&originWidth=1631&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1083889&status=done&style=none&title=&width=583)\n\n各向异性插值相对三线性插值多了两个维度的压缩，允许进行矩形的范围查询\n\n<a name=\"dTL1S\"></a>\n# 几何 [Geometry 1 (Introduction)](https://www.bilibili.com/video/BV1X7411F744?p=10)\n<a name=\"jLnWt\"></a>\n## GPU纹理的应用\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588683316541-615056f2-0deb-40c0-8248-37265a8d2dc2.png#averageHue=%23fefefe&height=377&id=VHVPY&originHeight=1062&originWidth=1556&originalType=binary&ratio=1&rotation=0&showTitle=false&size=478909&status=done&style=none&title=&width=553)\n\n在现代GPU上，纹理 = 一块内存 + 范围查询（滤波）\n\n<a name=\"pn4XD\"></a>\n## 环境光照/天空球\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588683423973-47977e5e-8b3a-44f4-924e-694968365821.png#averageHue=%23e6e7e6&height=218&id=mVAnK&originHeight=987&originWidth=1626&originalType=binary&ratio=1&rotation=0&showTitle=false&size=510948&status=done&style=none&title=&width=359)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588683819287-4f1ff940-bc27-4877-aab4-43da1db6f6c5.png#averageHue=%23d6d9db&height=257&id=zpnhr&originHeight=1096&originWidth=1584&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2729897&status=done&style=none&title=&width=372)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588683908523-14752e54-9512-45b7-8fdb-07a1ce4c61a7.png#averageHue=%234b4131&height=233&id=MFwtH&originHeight=1107&originWidth=1699&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3351796&status=done&style=none&title=&width=358)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588683921388-88a6380d-e422-466d-b655-ad6656d416b1.png#averageHue=%23e3e0de&height=259&id=LA0ad&originHeight=1068&originWidth=1565&originalType=binary&ratio=1&rotation=0&showTitle=false&size=592050&status=done&style=none&title=&width=380)\n\n<a name=\"Mb20b\"></a>\n## 高度/法线\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588684121058-ebaf7cbf-e30c-4953-8ed8-f5aa38dc179d.png#averageHue=%23e1e0d8&height=331&id=GOGPq&originHeight=1108&originWidth=1556&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1496479&status=done&style=none&title=&width=465)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588684267732-35d271c0-1eed-40af-b716-9fceba26bc43.png#averageHue=%23fefefe&height=340&id=LLWO7&originHeight=1049&originWidth=1475&originalType=binary&ratio=1&rotation=0&showTitle=false&size=455130&status=done&style=none&title=&width=478)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588684735343-73d4c6c7-34f0-4b42-9da8-4f111485bdc0.png#averageHue=%23fefefe&height=328&id=JcTtk&originHeight=1013&originWidth=1513&originalType=binary&ratio=1&rotation=0&showTitle=false&size=431599&status=done&style=none&title=&width=490) ![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588685098185-2ba89fd3-053b-408e-b2d7-292e1476b4a8.png#averageHue=%23f2f1f2&height=281&id=ZTKhg&originHeight=903&originWidth=1553&originalType=binary&ratio=1&rotation=0&showTitle=false&size=447709&status=done&style=none&title=&width=484)\n\n取高度图UV方向上的导数，交换xy取负得出法线\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588685421166-f6adf853-f17b-4cdd-b909-0d902a018bf3.png#averageHue=%23f2e8d6&height=350&id=Gw6b0&originHeight=1081&originWidth=1480&originalType=binary&ratio=1&rotation=0&showTitle=false&size=777835&status=done&style=none&title=&width=479)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588685782409-438b33f4-0df2-4ec4-8de1-4bca116ab99a.png#averageHue=%23404142&height=313&id=htFNe&originHeight=1081&originWidth=1615&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1594353&status=done&style=none&title=&width=467)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588685910567-8f169d93-553a-49da-b3e6-c13e64f671f8.png#averageHue=%23a6a8a6&height=336&id=QNh8H&originHeight=1058&originWidth=1573&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1377047&status=done&style=none&title=&width=500)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588685978323-d3dde8cf-f4cb-4972-a17b-10a85071a298.png#averageHue=%23949593&height=354&id=df7LE&originHeight=1117&originWidth=1592&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1440641&status=done&style=none&title=&width=505)\n\n<a name=\"B66h7\"></a>\n## 几何\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588686524450-6b056b8a-8637-40a9-8c8e-abe460418fcf.png#averageHue=%23d29269&height=395&id=wogOG&originHeight=1115&originWidth=1630&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1210024&status=done&style=none&title=&width=578)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588686735536-b0a64d61-a773-4d55-b2ac-854cd21ebb7f.png#averageHue=%23b94236&height=398&id=YqWFa&originHeight=1122&originWidth=1586&originalType=binary&ratio=1&rotation=0&showTitle=false&size=890454&status=done&style=none&title=&width=563)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588686801099-5412b9aa-c1e7-45e1-af9b-8bab1a4b4900.png#averageHue=%23dcd9d5&height=342&id=YEuld&originHeight=1017&originWidth=1589&originalType=binary&ratio=1&rotation=0&showTitle=false&size=650747&status=done&style=none&title=&width=535)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588686885027-c17671ad-d841-4f99-af29-1f30ee2bd425.png#averageHue=%23ebe9e7&height=338&id=hUhs1&originHeight=1081&originWidth=1610&originalType=binary&ratio=1&rotation=0&showTitle=false&size=513951&status=done&style=none&title=&width=503)\n\n隐式几何\n\n- 定义他们的关系（三维单位球）\n- 不直观（难以想象形状）\n- 易于计算（求位置关系）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588686974577-2f491a24-10f2-40b5-ba43-baf7ba784388.png#averageHue=%23f1f0ee&height=369&id=ZhszK&originHeight=1004&originWidth=1507&originalType=binary&ratio=1&rotation=0&showTitle=false&size=737557&status=done&style=none&title=&width=554)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588687151313-d7a12be9-e7bf-4a60-b34d-eba335d667aa.png#averageHue=%23dbdad7&height=368&id=dqg1h&originHeight=1094&originWidth=1612&originalType=binary&ratio=1&rotation=0&showTitle=false&size=714135&status=done&style=none&title=&width=542)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588687272681-d7b86ad5-e581-4871-88b0-39774c623b8d.png#averageHue=%23cfc9c4&height=390&id=NlQD3&originHeight=1174&originWidth=1591&originalType=binary&ratio=1&rotation=0&showTitle=false&size=554997&status=done&style=none&title=&width=528)\n\n显式几何\n\n- 直观（直接给出或参数映射（UV映射马鞍面））\n- 难以计算相对位置\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588687305842-4d13e65a-8ad7-47cf-9165-7abcf14d82fc.png#averageHue=%23fefefe&height=266&id=ierdq&originHeight=903&originWidth=1586&originalType=binary&ratio=1&rotation=0&showTitle=false&size=298687&status=done&style=none&title=&width=468)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588687446645-462e4631-971e-4e82-8d65-3cc9cf757cd3.png#averageHue=%239fa67a&height=400&id=STamp&originHeight=1146&originWidth=1598&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1186067&status=done&style=none&title=&width=558)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588687576379-3037628a-5578-443f-a59b-32d1ac8ff079.png#averageHue=%23c2cfab&height=395&id=jHORI&originHeight=1131&originWidth=1611&originalType=binary&ratio=1&rotation=0&showTitle=false&size=862323&status=done&style=none&title=&width=562)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588687789496-d5ec177c-66a7-4dd8-8a26-272db1da8bbf.png#averageHue=%23fefefd&height=292&id=eMhHZ&originHeight=838&originWidth=1600&originalType=binary&ratio=1&rotation=0&showTitle=false&size=589714&status=done&style=none&title=&width=557)\n\n代数表面\n\n构造立体几何（CSG）\n\n- 布尔运算\n\n距离函数\n\n- 距离函数表示任意一点到表面的最近距离\n- 可以定义方向（内外=正负）\n- 几何间的融合\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588688202763-35a8791f-b266-4f9b-a90b-30311bc4c178.png#averageHue=%23e0d7d4&height=398&id=nzjXx&originHeight=1157&originWidth=1385&originalType=binary&ratio=1&rotation=0&showTitle=false&size=650013&status=done&style=none&title=&width=476)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588689117753-5230e1cb-d949-4a22-b3da-221db60ec328.png#averageHue=%23fefefd&height=216&id=iF7IA&originHeight=800&originWidth=1580&originalType=binary&ratio=1&rotation=0&showTitle=false&size=342896&status=done&style=none&title=&width=427)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588689135716-4e481cd6-d16c-4eb9-9365-3a08c88591f6.png#averageHue=%23605123&height=317&id=JFzar&originHeight=1200&originWidth=1626&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3409312&status=done&style=none&title=&width=430)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588689174935-f7856ac4-3134-48a3-9249-7e5ac0706196.png#averageHue=%23cfcdca&height=389&id=UOVdE&originHeight=1085&originWidth=1577&originalType=binary&ratio=1&rotation=0&showTitle=false&size=725042&status=done&style=none&title=&width=566)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588689313705-8d708342-af79-4cc1-b7da-5b5af6a2d1a1.png#averageHue=%23aaacad&height=328&id=XwsPs&originHeight=1048&originWidth=1605&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1054889&status=done&style=none&title=&width=502)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588689356860-38590145-7fef-4d49-90b8-0582278e07ce.png#averageHue=%2392949a&height=380&id=b1Joq&originHeight=1187&originWidth=1577&originalType=binary&ratio=1&rotation=0&showTitle=false&size=642421&status=done&style=none&title=&width=505)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588689372854-123a434f-e3c8-457b-a51b-5c5bc13f10c0.png#averageHue=%23888b3e&height=338&id=eOnB0&originHeight=1037&originWidth=1585&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1957321&status=done&style=none&title=&width=516)\n\n水平集\n\n- 类似于等高线、SDF\n\n分形几何\n\n- 分形（自相似）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588689728919-883e7e52-0e41-43aa-8894-f1e07887b5e3.png#averageHue=%23d5cdca&height=336&id=v22bX&originHeight=1060&originWidth=1604&originalType=binary&ratio=1&rotation=0&showTitle=false&size=528305&status=done&style=none&title=&width=508)\n<a name=\"EDT2W\"></a>\n# 几何 Geometry 2 (Curves and Surfaces)\n<a name=\"jE1iz\"></a>\n## 常见显式几何\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588776672744-d55876b1-1dc6-4788-912a-6ff7a68ca283.png#averageHue=%23988362&height=311&id=v6fBi&originHeight=1107&originWidth=1615&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1781302&status=done&style=none&title=&width=453)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588776732690-5173377d-e7cd-4527-b986-bb970ddbc4f7.png#averageHue=%23f8f9f7&height=348&id=txug2&originHeight=1079&originWidth=1538&originalType=binary&ratio=1&rotation=0&showTitle=false&size=967217&status=done&style=none&title=&width=496)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588776770853-4130bd77-4f8c-4a9b-8364-506ffb100094.png#averageHue=%23474743&height=356&id=gtmsG&originHeight=1137&originWidth=1503&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1084760&status=done&style=none&title=&width=470)\n\n点云：扫描<br />polygon\n<a name=\"JQ08Y\"></a>\n## 贝塞尔曲线\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588777348442-96fd9f4c-f9a8-4b41-a857-69748fee1d29.png#averageHue=%23fdfdfd&height=321&id=AbG1L&originHeight=1085&originWidth=1639&originalType=binary&ratio=1&rotation=0&showTitle=false&size=367269&status=done&style=none&title=&width=485)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588777638177-e771bc20-9e82-4ed3-ba1d-d48c7576de4b.png#averageHue=%23827e78&height=320&id=Z1Qzu&originHeight=1088&originWidth=1625&originalType=binary&ratio=1&rotation=0&showTitle=false&size=562575&status=done&style=none&title=&width=478)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588777666242-514b8d38-46a5-4b26-ad40-bf00df35fa02.png#averageHue=%23fdfcfc&height=332&id=A8XGI&originHeight=1135&originWidth=1595&originalType=binary&ratio=1&rotation=0&showTitle=false&size=478670&status=done&style=none&title=&width=467)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588777721123-e857a46e-0f89-41f2-877f-a0d1372b585b.png#averageHue=%23c2bdcf&height=328&id=ygVuG&originHeight=1190&originWidth=1611&originalType=binary&ratio=1&rotation=0&showTitle=false&size=579454&status=done&style=none&title=&width=444)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588777844145-5a7eb327-211b-465f-8fc0-9df14e5645a9.png#averageHue=%23fcfcfc&height=320&id=VxRqg&originHeight=1178&originWidth=1645&originalType=binary&ratio=1&rotation=0&showTitle=false&size=503192&status=done&style=none&title=&width=447)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588777936801-f6ac1505-ab47-492d-82e1-50c31c9047ed.png#averageHue=%23fefefe&height=234&id=NNd1S&originHeight=803&originWidth=1520&originalType=binary&ratio=1&rotation=0&showTitle=false&size=299515&status=done&style=none&title=&width=443)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588778106968-8875d091-510e-4576-8247-1dddb547afdc.png#averageHue=%23fdfdfd&height=339&id=GkPRe&originHeight=1172&originWidth=1602&originalType=binary&ratio=1&rotation=0&showTitle=false&size=499289&status=done&style=none&title=&width=463)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588778229645-bcda1967-b3a7-4bea-8993-a709c2068bc3.png#averageHue=%236f6b64&height=312&id=HoO15&originHeight=906&originWidth=1619&originalType=binary&ratio=1&rotation=0&showTitle=false&size=481848&status=done&style=none&title=&width=558)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588778839390-d25e5fec-c8fc-422a-9542-52119f9246a7.png#averageHue=%23fdfdfd&height=418&id=MWQr7&originHeight=1179&originWidth=1578&originalType=binary&ratio=1&rotation=0&showTitle=false&size=527014&status=done&style=none&title=&width=559)\n\nBernstein多项式：在 n 中从 i 开始求和，图中任意一 t 的 y 轴之和始终为 1\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588860678493-bbdcfe35-938f-4d3d-9c29-e853ede37062.png#averageHue=%23fefefe&height=284&id=TKzYB&originHeight=1076&originWidth=1555&originalType=binary&ratio=1&rotation=0&showTitle=false&size=495060&status=done&style=none&title=&width=411)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588861359878-bd85f7ce-e980-4a4e-9274-e90f2b0d211e.png#averageHue=%23fefefd&height=257&id=DeMep&originHeight=1076&originWidth=1346&originalType=binary&ratio=1&rotation=0&showTitle=false&size=339418&status=done&style=none&title=&width=322)\n\n- 起点终点永远在第一个和最后一个点上\n- 开始和结束的方向一定在切线上\n- 仿射不变性，对整条曲线应用仿射变换等于对控制点应用\n- 凸包性质，曲线一定在控制点形成的凸包（包住钉子的橡皮筋）内\n\n<a name=\"lSSf3\"></a>\n## 分段贝塞尔曲线 Piecewise Bezier Curves\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588861795157-2ec836bf-7824-47c8-8697-09fbf5084056.png#averageHue=%23fefefe&height=196&id=hSTRG&originHeight=951&originWidth=1518&originalType=binary&ratio=1&rotation=0&showTitle=false&size=377189&status=done&style=none&title=&width=313)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588861822029-47f259dc-fe08-4328-b395-47ccc09558c2.png#averageHue=%23fdfdfd&height=299&id=cBWrt&originHeight=1113&originWidth=1514&originalType=binary&ratio=1&rotation=0&showTitle=false&size=446423&status=done&style=none&title=&width=407)\n\nPS钢笔工具\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588862157463-74757d94-a527-4522-8e1a-e88c375aa9ba.png#averageHue=%23fdfdfc&height=361&id=cwAkj&originHeight=1114&originWidth=1589&originalType=binary&ratio=1&rotation=0&showTitle=false&size=476279&status=done&style=none&title=&width=515)\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588862211917-04601890-1afe-4b4c-a754-e61bb0487ea8.png#averageHue=%23fefefe&height=47&id=TdTH7&originHeight=144&originWidth=796&originalType=binary&ratio=1&rotation=0&showTitle=false&size=31138&status=done&style=none&title=&width=258) C0 只要点重合就算连续<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588862336857-6927a61e-2710-4aa0-9533-06974120c66d.png#averageHue=%23fefdfc&height=145&id=HGjfd&originHeight=541&originWidth=1333&originalType=binary&ratio=1&rotation=0&showTitle=false&size=163983&status=done&style=none&title=&width=357) C1 要求三点共线且等距（切线方向和大小相等），可导<br />C2 要求二阶连续\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588863063064-f6a4253a-7ba0-4cfd-8d59-dd3376f67489.png#averageHue=%23d1cbc1&height=379&id=zkOMU&originHeight=1082&originWidth=1543&originalType=binary&ratio=1&rotation=0&showTitle=false&size=932716&status=done&style=none&title=&width=540)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588863338733-cb6d6f81-db1b-4a88-af5d-b63edf8e90cd.png#averageHue=%23fefefe&height=224&id=NMKRo&originHeight=651&originWidth=1429&originalType=binary&ratio=1&rotation=0&showTitle=false&size=239817&status=done&style=none&title=&width=492)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588863353428-38ba10f8-94fc-4f3d-8f4c-c1f0dc14f41c.png#averageHue=%23f0eff0&height=254&id=tkVqe&originHeight=714&originWidth=1378&originalType=binary&ratio=1&rotation=0&showTitle=false&size=392618&status=done&style=none&title=&width=490)<br />[点击查看【bilibili】](https://player.bilibili.com/player.html?bvid=BV1Db411c7M3)\n\nB样条、非均匀有理B样条（NURBS）相对于贝塞尔曲线具有局部性\n\n<a name=\"2f1u3\"></a>\n## 贝塞尔曲面\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588864276202-c64101ed-5451-4c5b-b6cf-cb31b3c72ebe.png#averageHue=%23a2ac78&height=343&id=oWdfd&originHeight=1123&originWidth=1637&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1780634&status=done&style=none&title=&width=500)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588864433483-f8d6ea74-465f-4f1f-b618-3616a28f22ba.png#averageHue=%23d0d1dc&height=283&id=r92ut&originHeight=1186&originWidth=1582&originalType=binary&ratio=1&rotation=0&showTitle=false&size=500452&status=done&style=none&title=&width=377)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588864452021-f6d4c3a4-0c29-4c64-847e-0fcb28bd805d.png#averageHue=%23f7f6fa&height=251&id=Ysy55&originHeight=914&originWidth=1278&originalType=binary&ratio=1&rotation=0&showTitle=false&size=810590&status=done&style=none&title=&width=351)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588864476183-186279fc-a9af-4e92-909f-cc428c8a5561.png#averageHue=%23e5e9f7&height=425&id=SITF6&originHeight=861&originWidth=1173&originalType=binary&ratio=1&rotation=0&showTitle=false&size=802667&status=done&style=none&title=&width=579)\n\n有4*4个控制点，生成贝塞尔曲面\n\n- 每4个控制点生成一条贝塞尔曲线\n- 每个时间 t ，取4条曲线上的点作为新贝塞尔曲线的控制点\n- 连接每条生成的曲线\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588864729300-f1019939-abe3-4d2b-bf6d-e7dbcf99a2b8.png#averageHue=%239c9790&height=367&id=UDC41&originHeight=1136&originWidth=1592&originalType=binary&ratio=1&rotation=0&showTitle=false&size=785247&status=done&style=none&title=&width=515)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588864752785-75ce575f-c000-42cc-a702-4b75e88758e7.png#averageHue=%237c7872&height=361&id=whLw3&originHeight=1137&originWidth=1606&originalType=binary&ratio=1&rotation=0&showTitle=false&size=607998&status=done&style=none&title=&width=510)\n\n由于需要2个t，可以用UV来表示，等于参数映射，所以贝塞尔曲面是显式几何\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588864869369-911c3a3b-4574-412d-b5ae-e4d8dc65075e.png#averageHue=%23fefefd&height=305&id=avr36&originHeight=1015&originWidth=1606&originalType=binary&ratio=1&rotation=0&showTitle=false&size=964510&status=done&style=none&title=&width=482)\n\n<a name=\"eZ3Zg\"></a>\n# 几何 [Geometry 3](https://www.bilibili.com/video/BV1X7411F744?p=12)\n<a name=\"VobFI\"></a>\n## 图灵奖\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588949900091-14644731-57ab-4980-9c10-f4ac5d3dc37f.png#averageHue=%238a735e&height=299&id=rgtvt&originHeight=1133&originWidth=1613&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1377417&status=done&style=none&title=&width=426)\n<a name=\"7H2O9\"></a>\n## 网格细分\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588948430952-ae4807e3-c012-453d-888a-c2ed387ccb46.png#averageHue=%23f2f4f4&height=291&id=kIBJq&originHeight=1097&originWidth=1578&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1381507&status=done&style=none&title=&width=418)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588948564546-6aad0e31-c989-4700-80a8-08cf9fae4c6b.png#averageHue=%23fefdf8&height=277&id=BQ7WU&originHeight=1026&originWidth=1545&originalType=binary&ratio=1&rotation=0&showTitle=false&size=816957&status=done&style=none&title=&width=417)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588948797342-31d1c6cb-fd52-4b6c-a157-5eb038736e94.png#averageHue=%23c5c1bc&height=265&id=Dt495&originHeight=989&originWidth=1572&originalType=binary&ratio=1&rotation=0&showTitle=false&size=697754&status=done&style=none&title=&width=422)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588948942030-e9430cf8-dc1a-43df-a377-4f5db8fd0246.png#averageHue=%23fefefe&height=316&id=VKiQ8&originHeight=1109&originWidth=1578&originalType=binary&ratio=1&rotation=0&showTitle=false&size=475983&status=done&style=none&title=&width=450)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588949265334-4ad0b2a7-8ccb-47bf-beea-66a09f376563.png#averageHue=%23c0bbb5&height=302&id=F1S4p&originHeight=921&originWidth=1651&originalType=binary&ratio=1&rotation=0&showTitle=false&size=707404&status=done&style=none&title=&width=541)\n\n<a name=\"JjscC\"></a>\n### Loop Subdivision：\n\n- loop为人名\n- 取三角形的三边中点生成新顶点\n   - 新顶点的位置取相邻三角形旧顶点位置的加权\n- 旧顶点取周围所有旧顶点的加权\n   - 周围顶点数量（顶点的**度** **dehree**）越多，自身的权重越少 \n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588950130286-c523b360-b4d5-4a75-ad4b-ce49f5d8310d.png#averageHue=%23b5bbb7&height=380&id=ljEFs&originHeight=1204&originWidth=1650&originalType=binary&ratio=1&rotation=0&showTitle=false&size=601348&status=done&style=none&title=&width=521)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588950227728-5ed432b7-8f83-4cf8-ad3b-8ff33a7cc6ff.png#averageHue=%23b1b8b4&height=333&id=dKjS0&originHeight=991&originWidth=1303&originalType=binary&ratio=1&rotation=0&showTitle=false&size=331332&status=done&style=none&title=&width=438)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588950433769-13b2101e-120e-49cd-8488-ca9a7ff45199.png#averageHue=%23b1b8b4&height=275&id=buvuI&originHeight=966&originWidth=984&originalType=binary&ratio=1&rotation=0&showTitle=false&size=823336&status=done&style=none&title=&width=280)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588950554459-7268de82-057c-453a-af24-c34fd55418b5.png#averageHue=%23fdfdfd&height=384&id=E1c1W&originHeight=1193&originWidth=1714&originalType=binary&ratio=1&rotation=0&showTitle=false&size=554568&status=done&style=none&title=&width=551)\n\nCatmull-Clark细分：\n\n- 取每个面的中点与面所有边的中点相连\n   - 一次细分会将所有非四边面转换为奇异点，且奇异点之后不再增加\n- 之后按一定规则取周围新旧顶点加权\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588950653257-9fa0c9f2-a22d-49e8-a209-d953b4e4f939.png#averageHue=%23f6f8f6&height=311&id=NEcX8&originHeight=1111&originWidth=1638&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1831292&status=done&style=none&title=&width=458)\n\n<a name=\"Csycj\"></a>\n## 网格简化\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588948484118-2bf12ee3-a36c-4c85-9b53-12c34bed075c.png#averageHue=%23ebeceb&height=297&id=gAfDa&originHeight=1099&originWidth=1548&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1392182&status=done&style=none&title=&width=419)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589208101948-89180b4c-a437-4e55-8ad9-4bc281912eae.png#averageHue=%23fefefd&height=226&id=PObHr&originHeight=1028&originWidth=1563&originalType=binary&ratio=1&rotation=0&showTitle=false&size=923366&status=done&style=none&title=&width=344)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589208258374-dee4335a-ef4d-4c14-9063-2b7c284ead0f.png#averageHue=%23fefdf9&height=228&id=dbcI9&originHeight=933&originWidth=1571&originalType=binary&ratio=1&rotation=0&showTitle=false&size=535243&status=done&style=none&title=&width=384)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589208290806-d634a078-8366-4b72-a71a-e6c07e18220d.png#averageHue=%23d3cec8&height=369&id=AZqWC&originHeight=1092&originWidth=1499&originalType=binary&ratio=1&rotation=0&showTitle=false&size=738580&status=done&style=none&title=&width=506)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589208838869-253b9275-6c5e-4f33-acad-1f688713a81b.png#averageHue=%23fefdfd&height=349&id=hNL2M&originHeight=1086&originWidth=1573&originalType=binary&ratio=1&rotation=0&showTitle=false&size=528224&status=done&style=none&title=&width=505)\n\n边坍缩的方法<br />二次误差度量\n\n- 二次指平方\n- 坍缩后的点的位置取到之前四条边距离平方的最小值\n- 为所有边度量二次误差并取最小值应用坍缩\n- 使用**堆**的数据结构允许坍缩一条边后立即更新误差\n<a name=\"Kn57n\"></a>\n## 网格正规化\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1588948518928-c85f3107-b343-4667-907a-0d9887e3fe9c.png#averageHue=%23e0dfe0&height=296&id=G2lsc&originHeight=1103&originWidth=1559&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1310998&status=done&style=none&title=&width=419)\n\n<a name=\"8A8d7\"></a>\n## 阴影\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209255794-0605f4c6-3def-40b2-9ce3-d16e1092fbe2.png#averageHue=%23a89d96&height=281&id=Qs1G9&originHeight=1138&originWidth=1418&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1494793&status=done&style=none&title=&width=350)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209519529-92bbacf0-b5a4-4dca-b7b8-30b0b06c259f.png#averageHue=%23edeced&height=222&id=SwHgM&originHeight=918&originWidth=1432&originalType=binary&ratio=1&rotation=0&showTitle=false&size=419501&status=done&style=none&title=&width=347)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209620410-725eb671-757f-4a4f-bf59-3a48ee89baaf.png#averageHue=%23fcfcfc&height=245&id=uH7BG&originHeight=1086&originWidth=1519&originalType=binary&ratio=1&rotation=0&showTitle=false&size=433284&status=done&style=none&title=&width=343)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209678229-81108654-a4b2-4dac-b432-2cb7452d88d3.png#averageHue=%23fcfcfc&height=254&id=LHexl&originHeight=1113&originWidth=1520&originalType=binary&ratio=1&rotation=0&showTitle=false&size=539186&status=done&style=none&title=&width=347)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209695333-88772821-f861-49ef-881f-5f5fa7e18d67.png#averageHue=%23fbfaf9&height=258&id=Dop6s&originHeight=1124&originWidth=1514&originalType=binary&ratio=1&rotation=0&showTitle=false&size=669384&status=done&style=none&title=&width=348)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209758387-a8f04342-1564-4d12-b74c-0d334bca600f.png#averageHue=%23fcfbfa&height=243&id=hBLeB&originHeight=953&originWidth=1446&originalType=binary&ratio=1&rotation=0&showTitle=false&size=555696&status=done&style=none&title=&width=368)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209835102-f574301a-c447-4811-ba78-a4a9c3b5048a.png#averageHue=%23344c3a&height=238&id=RYAqY&originHeight=1078&originWidth=1603&originalType=binary&ratio=1&rotation=0&showTitle=false&size=739127&status=done&style=none&title=&width=354)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209854828-e50aab02-252f-4e2a-b83a-b3a6300992dd.png#averageHue=%2360946b&height=225&id=QuGZk&originHeight=950&originWidth=1568&originalType=binary&ratio=1&rotation=0&showTitle=false&size=813721&status=done&style=none&title=&width=371)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209875999-a8d94f6f-8439-4d85-b450-42afd7a98b35.png#averageHue=%23aeb3a2&height=212&id=prxZA&originHeight=929&originWidth=1519&originalType=binary&ratio=1&rotation=0&showTitle=false&size=484792&status=done&style=none&title=&width=346)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589209928436-12b0fa39-342b-4821-879a-a3e165a1cb22.png#averageHue=%2369a630&height=215&id=tSojK&originHeight=967&originWidth=1642&originalType=binary&ratio=1&rotation=0&showTitle=false&size=706359&status=done&style=none&title=&width=365)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589210262237-424af328-daa6-41d6-905a-80a60b0f8101.png#averageHue=%23aa9366&height=216&id=n05f8&originHeight=881&originWidth=1715&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1991682&status=done&style=none&title=&width=421)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589210393372-2f88816e-9e14-4f7d-85af-3815c2cf5db8.png#averageHue=%23eaeaea&height=198&id=vAUYK&originHeight=811&originWidth=1536&originalType=binary&ratio=1&rotation=0&showTitle=false&size=428801&status=done&style=none&title=&width=375)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589210542106-f24d34e1-a836-4dab-9feb-da50988ba453.png#averageHue=%23eaeae1&height=218&id=ZtkhP&originHeight=953&originWidth=1608&originalType=binary&ratio=1&rotation=0&showTitle=false&size=653076&status=done&style=none&title=&width=368)\n\n<a name=\"GH7qe\"></a>\n# 光线追踪 Ray Tracing 1\n<a name=\"OjN7h\"></a>\n## Whitted-Style Ray Tracing\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589376518434-a505bedc-a906-4ea8-8a7a-4ef6e975ec21.png#averageHue=%234c4a34&height=362&id=KTuKd&originHeight=1085&originWidth=1596&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1655981&status=done&style=none&title=&width=533)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589376904098-66d7c203-3382-4d38-bde9-0da598eed395.png#averageHue=%23cdbdb0&height=371&id=rjhxQ&originHeight=1107&originWidth=1496&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1614230&status=done&style=none&title=&width=501)\n\n光栅化\n\n- 不能很好表现全局效果（阴影、反射、间接光etc.）\n\n光线追踪\n\n- 准确\n- 慢\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589377095676-0240b07f-9923-4c40-9748-a8f2a3f4180a.png#averageHue=%238a8784&height=343&id=odO0p&originHeight=1039&originWidth=1598&originalType=binary&ratio=1&rotation=0&showTitle=false&size=603579&status=done&style=none&title=&width=528)\n\n光路的可逆性，光从光源经过反射进入眼睛，也可以从眼睛发射光线到达光源\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589377420170-a2ff4727-06b1-415f-887c-12d7537f277f.png#averageHue=%23fdfdfd&height=230&id=KgLaU&originHeight=1078&originWidth=1469&originalType=binary&ratio=1&rotation=0&showTitle=false&size=450927&status=done&style=none&title=&width=313)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589377594089-3c99d66b-dd6c-4916-9d57-72ba952bd2eb.png#averageHue=%23fdfdfc&height=343&id=YwSA0&originHeight=1129&originWidth=1526&originalType=binary&ratio=1&rotation=0&showTitle=false&size=466248&status=done&style=none&title=&width=464)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589377627565-b3e1f067-d322-42e8-8b7f-b0fbbf408444.png#averageHue=%2398997a&height=293&id=x15iq&originHeight=1012&originWidth=1601&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1386712&status=done&style=none&title=&width=463)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589378195781-5beb2d66-676c-4c43-be26-481c78cb4753.png#averageHue=%23fefefe&height=335&id=tEmuP&originHeight=985&originWidth=1580&originalType=binary&ratio=1&rotation=0&showTitle=false&size=396532&status=done&style=none&title=&width=538)\n\n一个像素累计了光线所有交点的着色\n\n<a name=\"yGjyw\"></a>\n## Ray-Surface Intersection\n<a name=\"vsM0q\"></a>\n### 隐式表面\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589378515593-c23b26f0-e292-4909-9ee5-92005d02ded0.png#averageHue=%23fdfdfc&height=337&id=MIfc1&originHeight=1088&originWidth=1451&originalType=binary&ratio=1&rotation=0&showTitle=false&size=363099&status=done&style=none&title=&width=450)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589378715532-d26c41ba-2377-4ba3-b61b-74c02d2529a2.png#averageHue=%23fcfbfb&height=327&id=ukbwB&originHeight=1156&originWidth=1621&originalType=binary&ratio=1&rotation=0&showTitle=false&size=489126&status=done&style=none&title=&width=458)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589378978960-d5416ab4-ee6e-4fc9-8181-c7b3b76c7837.png#averageHue=%23fefefe&height=290&id=YFlOM&originHeight=986&originWidth=1548&originalType=binary&ratio=1&rotation=0&showTitle=false&size=345226&status=done&style=none&title=&width=455)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589379090606-b244c613-de7d-4cfa-bc69-77c749345d52.png#averageHue=%2389857f&height=331&id=QpIgm&originHeight=1154&originWidth=1591&originalType=binary&ratio=1&rotation=0&showTitle=false&size=738502&status=done&style=none&title=&width=456)\n\n对于隐式表面用Ray和表面的表达式求解，当t > 0且为实数则相交\n\n<a name=\"2rbFK\"></a>\n### 显式表面\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589380312792-50affffc-a8c9-426f-a0bd-2ef593832afc.png#averageHue=%23817c76&height=326&id=IFWoA&originHeight=1132&originWidth=1586&originalType=binary&ratio=1&rotation=0&showTitle=false&size=846242&status=done&style=none&title=&width=457)\n\n在一个**封闭物体**内部发射任意射线，一定会和物体发生**奇数**次相交<br />在外部发射一定会发生**偶数**次相交![](https://cdn.nlark.com/yuque/__latex/940877b0cfa6361a7e95434ee4351b15.svg#card=math&code=xyz%5Csqrt%7B%7D%20%5CTheta%20&id=rulC3)\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589381184173-ca9bae62-be4b-4658-88ca-0182d09dd59c.png#averageHue=%23fefefc&height=240&id=fwPuS&originHeight=821&originWidth=1570&originalType=binary&ratio=1&rotation=0&showTitle=false&size=417718&status=done&style=none&title=&width=458)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589381386045-14124e7e-902c-4bcf-bb1c-bcb0d5e5410c.png#averageHue=%23fdfdfd&height=334&id=uV1tj&originHeight=1156&originWidth=1620&originalType=binary&ratio=1&rotation=0&showTitle=false&size=430855&status=done&style=none&title=&width=468)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589381408899-0e0a5041-8b5e-4d47-9a9e-888e6fe8641b.png#averageHue=%23908d88&height=284&id=eD572&originHeight=968&originWidth=1607&originalType=binary&ratio=1&rotation=0&showTitle=false&size=459827&status=done&style=none&title=&width=472)\n\n三角形和光线求交\n\n- 平面如何与光线求交\n- 交点是否在三角形内\n\n定义一个平面需要定义一个法线和一个点\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589381552608-65afd617-28ea-4134-af07-8ee920411eab.png#averageHue=%23a9a7a3&height=375&id=C2aI8&originHeight=1107&originWidth=1628&originalType=binary&ratio=1&rotation=0&showTitle=false&size=695677&status=done&style=none&title=&width=551)\n\n**MT(Moller Trumbore)算法**：直接对三角形和光线求交，光线上一点一定等于三角形中心坐标内一点<br />3个变量3个式子的**线性方程组**，一定有解。中心坐标3个系数和为1且非负则相交\n\n<a name=\"PCSTl\"></a>\n## Accelerating Ray-Surface Intersection\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589618676027-f1af06fe-61ba-4ecb-8b6f-dcd8a052c26d.png#averageHue=%23635e58&height=328&id=XuIpD&originHeight=1100&originWidth=1551&originalType=binary&ratio=1&rotation=0&showTitle=false&size=558135&status=done&style=none&title=&width=463)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589626675658-ca7bc2ab-e2c2-4328-9335-2998fa1a3dc1.png#averageHue=%23fafbf9&height=334&id=vUnb9&originHeight=994&originWidth=1388&originalType=binary&ratio=1&rotation=0&showTitle=false&size=501625&status=done&style=none&title=&width=466)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589627045687-4846a4c6-a442-4c8c-80c5-c80369b0c31c.png#averageHue=%23f2f1ed&height=295&id=l7dCz&originHeight=979&originWidth=1546&originalType=binary&ratio=1&rotation=0&showTitle=false&size=612485&status=done&style=none&title=&width=466)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589627247807-c068028a-8f44-4bb6-8e9f-029d86b4dabc.png#averageHue=%23d4c4ad&height=325&id=MrWgM&originHeight=959&originWidth=1354&originalType=binary&ratio=1&rotation=0&showTitle=false&size=570883&status=done&style=none&title=&width=459)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589627609543-f1a5cc44-9675-48f7-b344-6c94977f4cc3.png#averageHue=%23eaeaea&height=361&id=sQDzg&originHeight=1126&originWidth=1419&originalType=binary&ratio=1&rotation=0&showTitle=false&size=407424&status=done&style=none&title=&width=455)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589628309510-f506e759-6dc1-41bc-8b15-43143db705b3.png#averageHue=%23fdfdfd&height=317&id=elSsh&originHeight=982&originWidth=1483&originalType=binary&ratio=1&rotation=0&showTitle=false&size=298297&status=done&style=none&title=&width=479)\n\n加速求交：AABB（轴对齐包围盒）\n\n- 将包围盒看作3对面的交集\n- 求光线在3对面内的最大最小 t\n- 当且仅当![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589628134601-91734bee-2e11-457e-8b07-2a1ce377c094.png#averageHue=%23eae9ea&height=24&id=rCcZg&originHeight=53&originWidth=436&originalType=binary&ratio=1&rotation=0&showTitle=false&size=16067&status=done&style=none&title=&width=194)时与AABB相交\n- 轴对齐的包围盒可以简化射线与平面的相交计算\n\n<a name=\"NXpG3\"></a>\n#  光线追踪2\n<a name=\"UnHwQ\"></a>\n## Grids\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589638177477-5696d74c-b748-4de0-9e3a-eac45e657577.png#averageHue=%23fefefe&height=310&id=wzgty&originHeight=941&originWidth=1328&originalType=binary&ratio=1&rotation=0&showTitle=false&size=357240&status=done&style=none&title=&width=438)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589639400113-1580bf56-9e9b-48a9-9ed1-bbca5a6a0d8b.png#averageHue=%23e7e7e7&height=37&id=Vp4gw&originHeight=137&originWidth=1276&originalType=binary&ratio=1&rotation=0&showTitle=false&size=73716&status=done&style=none&title=&width=343)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589639510383-7da4c6de-88f2-4d69-a242-a7183f5501a2.png#averageHue=%239a9794&height=300&id=MVlNo&originHeight=948&originWidth=1364&originalType=binary&ratio=1&rotation=0&showTitle=false&size=382237&status=done&style=none&title=&width=432)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589639637725-b2f9113c-88b6-4a62-aafa-b0a92f7814ed.png#averageHue=%23e2e1df&height=282&id=eJ2WD&originHeight=934&originWidth=1449&originalType=binary&ratio=1&rotation=0&showTitle=false&size=437471&status=done&style=none&title=&width=437)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589639852063-ed5c4fc5-db2b-41b7-ac47-2acefe9d30ff.png#averageHue=%23bab8b5&height=298&id=zqitV&originHeight=961&originWidth=1414&originalType=binary&ratio=1&rotation=0&showTitle=false&size=360923&status=done&style=none&title=&width=438)\n\n光线求交的一种加速方法\n\n- 预处理将场景划分为Grid\n- 标记Grid内有无物体\n- 射线与经过的每个Grid求交\n- 若为有物体的Grid则和物体求交\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589639943565-2c106390-0c72-4f47-8cc1-a473be4977d1.png#averageHue=%235c6675&height=303&id=F1FQl&originHeight=986&originWidth=1456&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2396068&status=done&style=none&title=&width=447)\n\n问题：场景比较空，物体分布不均匀，有大量浪费调的求交计算\n<a name=\"S5Ttu\"></a>\n## Spatial Partitions\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589640332132-c910428e-2e78-4466-b912-b026a3f88970.png#averageHue=%23f0f0ee&height=321&id=XvEiU&originHeight=927&originWidth=1417&originalType=binary&ratio=1&rotation=0&showTitle=false&size=430060&status=done&style=none&title=&width=491)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589641208774-b394b19f-1e97-4714-be2f-a8d900d9da81.png#averageHue=%2389ac4c&height=262&id=X8Hnw&originHeight=943&originWidth=1398&originalType=binary&ratio=1&rotation=0&showTitle=false&size=389004&status=done&style=none&title=&width=389)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589640916921-65479c14-b5f9-416b-8c9d-ceb27f0b1def.png#averageHue=%23fefefe&height=309&id=pne0G&originHeight=829&originWidth=1298&originalType=binary&ratio=1&rotation=0&showTitle=false&size=307227&status=done&style=none&title=&width=484)\n\nKD-Tree：\n\n- 类似于八叉树地将场景不断划分为更小的节点\n- 当满足某一条件（节点内的物体足够少时）停止划分，形成叶子节点\n- 叶子节点内存放具体的要参与碰撞的几何信息\n- 中间节点需要存放当前划分的轴向、位置、子节点\n\n求交时：\n\n- 从最根部的节点开始求交\n- 若与节点相交则与子节点求交\n- 若无子节点则为叶子节点，和内部所有几何求交\n\n<a name=\"rJtcX\"></a>\n## Object Partitions & Bounding Volume Hierarchy (BVH)\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589701619518-ede1a4ce-5c92-4c0f-a003-c671555999af.png#averageHue=%23f5f4ec&height=308&id=yuBUf&originHeight=985&originWidth=1614&originalType=binary&ratio=1&rotation=0&showTitle=false&size=591218&status=done&style=none&title=&width=505)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589701647147-79cbe018-7979-4393-abe4-59b6a7129161.png#averageHue=%23acaf5c&height=300&id=rT9ST&originHeight=949&originWidth=1593&originalType=binary&ratio=1&rotation=0&showTitle=false&size=643506&status=done&style=none&title=&width=504)\n\n\nBVH\n\n- 根据对象划分树\n- 对包围盒内的物体分成两个子包围盒\n   - 对于一堆无序的三角形快速找到坐标位于中位数的三角形（**快速选择**算法 O(n)）\n- 重新计算包围盒\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589703340290-5b51e5e9-90e8-4afe-9be8-2a163de29862.png#averageHue=%23fefefe&height=267&id=jcRGn&originHeight=1034&originWidth=1279&originalType=binary&ratio=1&rotation=0&showTitle=false&size=376076&status=done&style=none&title=&width=330)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589703369832-fe6c19d4-dbec-4ad2-9864-f0b289985e98.png#averageHue=%23dec998&height=385&id=mazZD&originHeight=968&originWidth=1613&originalType=binary&ratio=1&rotation=0&showTitle=false&size=609162&status=done&style=none&title=&width=641)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589703989273-fe7ee130-1dd4-47b4-befa-b55b95afff3c.png#averageHue=%23e0ba4d&height=384&id=e4Lpz&originHeight=1093&originWidth=1547&originalType=binary&ratio=1&rotation=0&showTitle=false&size=868340&status=done&style=none&title=&width=544)\n\n\n\n<a name=\"6UhnR\"></a>\n## 辐射度量学 Radiometry\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589705917252-9c2b0872-af96-45ea-a5f9-78e1ab6e3033.png#averageHue=%23887461&height=352&id=rHseT&originHeight=1141&originWidth=1586&originalType=binary&ratio=1&rotation=0&showTitle=false&size=724582&status=done&style=none&title=&width=489)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589706012528-05cc0120-bb7a-411c-84bb-7a77e404a6fa.png#averageHue=%23fefefe&height=377&id=KydA6&originHeight=1080&originWidth=1405&originalType=binary&ratio=1&rotation=0&showTitle=false&size=395059&status=done&style=none&title=&width=490)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589893779010-2d19a14d-4397-44e1-9d51-cc4d81400727.png#averageHue=%23928a86&height=285&id=hXvp7&originHeight=957&originWidth=1657&originalType=binary&ratio=1&rotation=0&showTitle=false&size=522325&status=done&style=none&title=&width=493)\n\n辐射度量学：定义光的物理属性以及光和表面的作用，PBR基础\n\n- Radiant flux 辐射通量\n- Intensity 强度\n- Irradiance 辐照度\n- Radiance 辐射率\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589706619485-cc487ad4-07e5-4451-b508-4e85e02202c5.png#averageHue=%23f2f2f2&height=309&id=tcZ7f&originHeight=1006&originWidth=1563&originalType=binary&ratio=1&rotation=0&showTitle=false&size=489571&status=done&style=none&title=&width=480)\n\nRadiant Energy辐射能单位：Joule 焦耳<br />Radiant flux （Power）辐射通量（单位时间内的Radiant Energy，通常描述**亮度**）单位：lumen 流明\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589707172635-8b05c02a-bc2d-4fa8-a669-247791340878.png#averageHue=%23fefefe&height=360&id=vR0EV&originHeight=1076&originWidth=1568&originalType=binary&ratio=1&rotation=0&showTitle=false&size=455014&status=done&style=none&title=&width=524)\n\nIntensity：光从光源发射<br />Irradiance：表面接收的光<br />Radiance：光沿射线传播\n\n<a name=\"srDHg\"></a>\n### Intensity（Power）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589707340682-bddad122-4ec8-483d-bf0a-3e1ecbcbb8f9.png#averageHue=%23fdfdfd&height=363&id=mT8Wq&originHeight=1123&originWidth=1623&originalType=binary&ratio=1&rotation=0&showTitle=false&size=472593&status=done&style=none&title=&width=524)\n\nIntensity（Power）= 单位立体角（微分立体角）上的Power = 任意方向上的亮度\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589707804926-1cb8aaec-5420-480e-8f40-d3e73d374393.png#averageHue=%23fcfbfb&height=380&id=eNTav&originHeight=1180&originWidth=1623&originalType=binary&ratio=1&rotation=0&showTitle=false&size=538082&status=done&style=none&title=&width=523)\n\n弧长/半径=Radians 弧度<br />面积/半径平方=Steradians 立体弧度\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589708343461-6de0d92c-e245-4dda-93da-e549f7719295.png#averageHue=%23fdfdfd&height=342&id=TNzcD&originHeight=1098&originWidth=1664&originalType=binary&ratio=1&rotation=0&showTitle=false&size=453421&status=done&style=none&title=&width=519)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589711415333-d349a9b2-0543-493a-8c86-c6c87b857e50.png#averageHue=%23fefefe&height=299&id=tUesg&originHeight=905&originWidth=1568&originalType=binary&ratio=1&rotation=0&showTitle=false&size=363949&status=done&style=none&title=&width=518)\n\n空间上的任意方向都可以用球面上的两个角度（经纬、极坐标）表示<br />![](https://cdn.nlark.com/yuque/__latex/2554a2bb846cffd697389e5dc8912759.svg#card=math&code=%5Ctheta&height=16&id=jwIdn)是与竖直方向的夹角<br />![](https://cdn.nlark.com/yuque/__latex/1ed346930917426bc46d41e22cc525ec.svg#card=math&code=%5Cph&height=18&id=VYkWH)是在水平面上与正方向的夹角<br />![](https://cdn.nlark.com/yuque/__latex/8277e0910d750195b448797616e091ad.svg#card=math&code=d&height=16&id=ZW11D)是变化率（无限小）<br />![](https://cdn.nlark.com/yuque/__latex/04f2d0c9d8a349b628f6ca11b3fbf3f4.svg#card=math&code=d%5Ctheta&height=16&id=M6lnQ) ![](https://cdn.nlark.com/yuque/__latex/9a3bd23788dac694ee3b1ee5472512e1.svg#card=math&code=d%5Cphi&height=18&id=DBvsJ) 表示在两个方向极小的变化<br />变化框出的弧面的面积：![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589711449741-ef52268a-71f0-46ee-af80-5eebd344b877.png#averageHue=%23edeced&height=36&id=wmYkH&originHeight=63&originWidth=216&originalType=binary&ratio=1&rotation=0&showTitle=false&size=10446&status=done&style=none&title=&width=125)<br />**微分立体角（单位立体角**（任意方向上的立体角）**）**：![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589711490818-7fe4bfbe-a237-42f7-b3e6-0a3c05308766.png#averageHue=%23f4f4f4&height=42&id=ygOJE&originHeight=64&originWidth=235&originalType=binary&ratio=1&rotation=0&showTitle=false&size=7244&status=done&style=none&title=&width=156)<br />整个球体的立体弧度：4![](https://cdn.nlark.com/yuque/__latex/4f08e3dba63dc6d40b22952c7a9dac6d.svg#card=math&code=%5Cpi&height=12&id=GONiL) \n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589711824623-f6295eb6-5775-4cce-bcca-03f624f64eff.png#averageHue=%23fefdfd&height=293&id=vXvsD&originHeight=1055&originWidth=1572&originalType=binary&ratio=1&rotation=0&showTitle=false&size=356269&status=done&style=none&title=&width=437)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589711916802-02bbf5da-4cb4-47f4-9564-a56d25b4cc28.png#averageHue=%23fefefe&height=320&id=pAAPU&originHeight=1077&originWidth=1479&originalType=binary&ratio=1&rotation=0&showTitle=false&size=397276&status=done&style=none&title=&width=440)\n\n定义一个光源的亮度（Power/W/Intensity）<br />![](https://cdn.nlark.com/yuque/__latex/260b57b4fdee8c5a001c09b555ccd28d.svg#card=math&code=%5Comega%20&height=12&id=YyG4W)是单位长度向量<br />![](https://cdn.nlark.com/yuque/__latex/2f51310acab41649af988ccebfe4186d.svg#card=math&code=%5CPhi%20&height=16&id=pVt7F)是所有方向的总Intensity<br />![](https://cdn.nlark.com/yuque/__latex/dd7536794b63bf90eccfd37f9b147d7f.svg#card=math&code=I%0A&height=16&id=Tmk9U)是任意方向的Intensity\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589712584713-60aedcfc-1480-49be-8093-c871eccf4f0b.png#averageHue=%23b8b076&height=307&id=nmUYH&originHeight=1076&originWidth=1517&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1071556&status=done&style=none&title=&width=433)\n\n<a name=\"Wri1H\"></a>\n### Irradiance\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589898514733-ea1fdd61-a56b-4b6e-bed4-e9fc90208026.png#averageHue=%23fefefe&height=275&id=h399Q&originHeight=1014&originWidth=1562&originalType=binary&ratio=1&rotation=0&showTitle=false&size=368051&status=done&style=none&title=&width=424)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589898655302-3ee406c8-1875-4c83-90eb-61fd5e406949.png#averageHue=%23ece68a&height=304&id=UKdHi&originHeight=1131&originWidth=1594&originalType=binary&ratio=1&rotation=0&showTitle=false&size=621262&status=done&style=none&title=&width=429)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589898822745-aa414744-4e62-4ece-b0b4-e9a7b6f79a24.png#averageHue=%23f4e9bd&height=282&id=kCvTR&originHeight=1101&originWidth=1677&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1036523&status=done&style=none&title=&width=429)\n\n辐照度：单位面积受到光照之和<br />注意：只算与表面垂直方向的受光，垂直方向收到非垂直的光则会衰减（投影到垂直方向）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589898968437-da2c390c-961f-4807-abde-4a0afa7c24df.png#averageHue=%23e5e2bc&height=329&id=yruoY&originHeight=1126&originWidth=1677&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1001615&status=done&style=none&title=&width=490)\n\n点光源的光照衰减：光照强度（Power）/ 面积<br />球面（立体角）以![](https://cdn.nlark.com/yuque/__latex/294ce890c4a3b9529d80d402420ecd46.svg#card=math&code=r%5E2&height=19&id=HPUDH)扩张，辐照度以![](https://cdn.nlark.com/yuque/__latex/294ce890c4a3b9529d80d402420ecd46.svg#card=math&code=r%5E2&height=19&id=l3mpI)衰减\n\n<a name=\"U6MIK\"></a>\n### Radiance\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589899227416-0020da0f-cffc-42d7-99e2-c9a9c6b332dc.png#averageHue=%23fefefe&height=309&id=HnhcT&originHeight=1008&originWidth=1576&originalType=binary&ratio=1&rotation=0&showTitle=false&size=388484&status=done&style=none&title=&width=483)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589899247987-03224d2a-1649-4d36-92ba-63e692c8a117.png#averageHue=%23d1c6c0&height=282&id=tHq01&originHeight=930&originWidth=1592&originalType=binary&ratio=1&rotation=0&showTitle=false&size=531336&status=done&style=none&title=&width=483)\n\nRadiance 辐射率：表面在每单位立体角且单位面积上发射、反射、接收的Power\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589899396278-47df5ff1-416c-45c3-8f91-377be35ac09f.png#averageHue=%23fdfdfc&height=283&id=Jk51W&originHeight=936&originWidth=1595&originalType=binary&ratio=1&rotation=0&showTitle=false&size=482586&status=done&style=none&title=&width=483)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589899898226-3fd65fa4-2dc4-435f-984d-4edbd31c704c.png#averageHue=%23fefefe&height=331&id=DCpvz&originHeight=1084&originWidth=1581&originalType=binary&ratio=1&rotation=0&showTitle=false&size=449585&status=done&style=none&title=&width=483)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1589900103744-836aba89-3325-478c-a7cc-f318e5c585e7.png#averageHue=%23fdfdfd&height=386&id=cSGSI&originHeight=1132&originWidth=1414&originalType=binary&ratio=1&rotation=0&showTitle=false&size=468036&status=done&style=none&title=&width=482)\n\nIrradiance来自各个方向的power，Radiance来自特定方向的power\n\n<a name=\"3b6TO\"></a>\n## Bidirectional Reflectance Distribution Function（BRDF）\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1590415318783-e148b1f2-4fcb-404b-9505-6f7128d8526a.png#averageHue=%23fefefe&height=333&id=Y29Fm&originHeight=1100&originWidth=1566&originalType=binary&ratio=1&rotation=0&showTitle=false&size=507537&status=done&style=none&title=&width=474)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1590415727888-acc3a9ec-c4ea-438c-942f-ed38000c2fe7.png#averageHue=%23fefefe&height=328&id=PjmGZ&originHeight=1126&originWidth=1625&originalType=binary&ratio=1&rotation=0&showTitle=false&size=505425&status=done&style=none&title=&width=473)\n\n双向反射分布函数（BRDF）定义了从每个入射方向反射到每个出射方向的光能<br />用出射方向的微分Radiance除以入射方向的Radiance \n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1590416179356-8ed98d90-a5e9-4c49-ae86-5ea67e871b7e.png#averageHue=%23fefefe&height=347&id=L1Wtm&originHeight=1107&originWidth=1539&originalType=binary&ratio=1&rotation=0&showTitle=false&size=461171&status=done&style=none&title=&width=482)\n\n出射方向的Radiance等于所有入射方向Irradiance乘以BRDF的积分<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1590417282280-43bc53c3-1523-40a0-93be-62723e405d2a.png#averageHue=%23efeeef&height=19&id=VMGZ2&originHeight=37&originWidth=194&originalType=binary&ratio=1&rotation=0&showTitle=false&size=5920&status=done&style=none&title=&width=97)入射Irradiance<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1590417241972-51a0e072-aaa4-4dde-8ea9-8f0f6e65b700.png#averageHue=%23f1f1f1&height=21&id=N7h0G&originHeight=41&originWidth=95&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3261&status=done&style=none&title=&width=47.5)入射Radiance\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591190900169-bd6d1bce-cf7d-437b-bb1a-35a7039fb2ed.png#averageHue=%23969392&height=327&id=Ln1ip&originHeight=1079&originWidth=1565&originalType=binary&ratio=1&rotation=0&showTitle=false&size=488043&status=done&style=none&title=&width=475)\n<a name=\"rBkkG\"></a>\n## Kajiya Rendering Equation\n\n实际渲染中无法求解一个点受到的所有光线<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591191049701-17ea40b4-53df-4e4c-90b5-804c2af56374.png#averageHue=%23fefefe&height=302&id=erOMi&originHeight=1065&originWidth=1695&originalType=binary&ratio=1&rotation=0&showTitle=false&size=453100&status=done&style=none&title=&width=480)\n<a name=\"N9t97\"></a>\n## \n**Kajiya渲染方程：**[**https://en.wikipedia.org/wiki/Rendering_equation**](https://en.wikipedia.org/wiki/Rendering_equation)<br />![](https://cdn.nlark.com/yuque/__latex/58d7e1f0e780a2b1fd4305df229c42f2.svg#card=math&code=%7B%5Cdisplaystyle%20L_%7B%5Ctext%7Bo%7D%7D%28%5Cmathbf%20%7Bx%7D%20%2C%5Comega%20_%7B%5Ctext%7Bo%7D%7D%2C%5Clambda%20%2Ct%29%3DL_%7B%5Ctext%7Be%7D%7D%28%5Cmathbf%20%7Bx%7D%20%2C%5Comega%20_%7B%5Ctext%7Bo%7D%7D%2C%5Clambda%20%2Ct%29%5C%20%2B%5Cint%20_%7B%5COmega%20%7Df_%7B%5Ctext%7Br%7D%7D%28%5Cmathbf%20%7Bx%7D%20%2C%5Comega%20_%7B%5Ctext%7Bi%7D%7D%2C%5Comega%20_%7B%5Ctext%7Bo%7D%7D%2C%5Clambda%20%2Ct%29L_%7B%5Ctext%7Bi%7D%7D%28%5Cmathbf%20%7Bx%7D%20%2C%5Comega%20_%7B%5Ctext%7Bi%7D%7D%2C%5Clambda%20%2Ct%29%28%5Comega%20_%7B%5Ctext%7Bi%7D%7D%5Ccdot%20%5Cmathbf%20%7Bn%7D%20%29%5Coperatorname%20%7Bd%7D%20%5Comega%20_%7B%5Ctext%7Bi%7D%7D%7D&height=41&id=OWHr2)\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591192867435-4873cfcc-d9d0-4c17-8ca7-1e9afab6f313.png#averageHue=%23514d51&height=324&id=X8jUz&originHeight=1098&originWidth=1617&originalType=binary&ratio=1&rotation=0&showTitle=false&size=621651&status=done&style=none&title=&width=477)\n\n只有点光源则等于所有光源的BRDF结果 * cos入射角 之和\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591192955703-020de4f3-a949-410d-bd28-47ebe8a3949d.png#averageHue=%234d4a4e&height=291&id=seEAR&originHeight=986&originWidth=1621&originalType=binary&ratio=1&rotation=0&showTitle=false&size=611176&status=done&style=none&title=&width=478)\n\n用积分计算面光源\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591193376793-4c2fff3f-eb0e-4836-b56f-e1520d5a707a.png#averageHue=%234c494d&height=308&id=hK1Lj&originHeight=1036&originWidth=1607&originalType=binary&ratio=1&rotation=0&showTitle=false&size=845526&status=done&style=none&title=&width=477)\n\n其他物体反射过来的光可以视为上一次函数计算的结果，也是一种间接光源<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591194737799-76aeb52b-899b-47ef-aa21-246afa2ad59d.png#averageHue=%23afb0b0&height=273&id=EwM4x&originHeight=1093&originWidth=1124&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1528472&status=done&style=none&title=&width=281)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591193619180-8ccb5ec0-c31e-44e0-b9db-efa4ea8ed951.png#averageHue=%23555155&height=399&id=Ho0ob&originHeight=1127&originWidth=1527&originalType=binary&ratio=1&rotation=0&showTitle=false&size=866318&status=done&style=none&title=&width=541)\n\n用数学方式简写方程，K是内核，表示反射\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591194317830-7c824d7b-aaec-4dec-a3f0-0d27fd51b389.png#averageHue=%23545155&height=354&id=M9J5a&originHeight=986&originWidth=1504&originalType=binary&ratio=1&rotation=0&showTitle=false&size=595854&status=done&style=none&title=&width=540)\n\n进一步写成某种操作符（算子）\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591194347574-ca0edf3b-3169-4f77-ade6-e42dc763e32c.png#averageHue=%23504d51&height=371&id=OlFVU&originHeight=1047&originWidth=1524&originalType=binary&ratio=1&rotation=0&showTitle=false&size=536839&status=done&style=none&title=&width=540)\n\n**I**为单位矩阵，K为光线传输矩阵<br />二项式定理<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591195526330-f64d78c7-ed57-4feb-bc4c-f90ecf32ea6a.png#averageHue=%23191c1d&height=403&id=NKunl&originHeight=559&originWidth=1035&originalType=binary&ratio=1&rotation=0&showTitle=false&size=74143&status=done&style=none&title=&width=746)<br />![](https://cdn.nlark.com/yuque/__latex/7179dffe284e83ab0db6b2398f7e7340.svg#card=math&code=%5Cfrac%7B1%7D%7B1-x%7D%20%3D1%2Bx%2Bx%5E%7B2%7D%20%2Bx%5E%7B3%7D%20%2B...&height=38&id=I8HlH)<br />所以最终得到<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591195801767-460b5514-651e-40d0-9819-d905952a7fcd.png#averageHue=%234f4c50&height=350&id=JI1aR&originHeight=1015&originWidth=1370&originalType=binary&ratio=1&rotation=0&showTitle=false&size=348880&status=done&style=none&title=&width=472)<br />正好对应光线弹射次数<br />不弹射则为E 自发光，弹射1次为E+KE(上一次反射的结果)，更多同理![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591195931378-21614909-a0cb-4315-b363-4a7d1a972cd2.png#averageHue=%234c494d&height=430&id=fsk4Z&originHeight=859&originWidth=1361&originalType=binary&ratio=1&rotation=0&showTitle=false&size=489482&status=done&style=none&title=&width=680.5)<br />弹射一次为直接光照，更多次为间接光照，全部之和为全局光照<br />光栅化直接能告诉我们的是0次和1次的结果<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591196022179-9a06b6f2-ba8d-4f42-9e56-f7da5f9ba6f6.png#averageHue=%234d4d54&height=259&id=XsECE&originHeight=1282&originWidth=1726&originalType=binary&ratio=1&rotation=0&showTitle=false&size=2718514&status=done&style=none&title=&width=349)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591196045071-256a3c41-8f6f-4052-bc4c-1c3af24b99df.png#averageHue=%23696b74&height=260&id=s9BcB&originHeight=1278&originWidth=1710&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3521983&status=done&style=none&title=&width=348)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591196075505-f06d1900-3574-4a55-acc6-e9de7b258214.png#averageHue=%237f828c&height=260&id=FQsLC&originHeight=1284&originWidth=1713&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3364869&status=done&style=none&title=&width=347)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591196096681-1ac00ddc-a784-44e6-9116-4fafc1fc5727.png#averageHue=%239296a1&height=259&id=ZMDq0&originHeight=1277&originWidth=1721&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3597681&status=done&style=none&title=&width=349)<br />可见光照反射次数越多对画面贡献越小，与方程一致\n\n<a name=\"e9XnH\"></a>\n## 概率论\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591279571053-18e555cf-4036-4f75-aba0-6ac90cc48e13.png#averageHue=%2386827f&height=357&id=gY9Ca&originHeight=1135&originWidth=1562&originalType=binary&ratio=1&rotation=0&showTitle=false&size=557858&status=done&style=none&title=&width=491)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591279666385-179f0f27-5e56-481d-8fde-65eebd4b098b.png#averageHue=%23fdfdfd&height=328&id=SHrhL&originHeight=1089&originWidth=1629&originalType=binary&ratio=1&rotation=0&showTitle=false&size=362950&status=done&style=none&title=&width=490)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591279752144-9ed22341-57e1-4fe6-8329-9c786f124080.png#averageHue=%237e7a76&height=345&id=uMJ2o&originHeight=1144&originWidth=1627&originalType=binary&ratio=1&rotation=0&showTitle=false&size=570754&status=done&style=none&title=&width=491)<br />概念大于等于0且和为1，期望指取一次获得的平均值。<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591280001704-d58c230b-f7f9-43de-8286-7eb08801ee57.png#averageHue=%23e5a99a&height=287&id=DSQsI&originHeight=936&originWidth=1604&originalType=binary&ratio=1&rotation=0&showTitle=false&size=579390&status=done&style=none&title=&width=491)<br />**概率密度函数 Probability Distribution Function**<br />与离散的概率不同，连续的概率指dX的Y方向上形成的面积与总面积的比<br />期望是概率密度 * 值 的积分<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591280568676-90d42343-aad9-4a3c-b04d-662166cff3ad.png#averageHue=%23fefefe&height=320&id=A630B&originHeight=947&originWidth=1425&originalType=binary&ratio=1&rotation=0&showTitle=false&size=331593&status=done&style=none&title=&width=482)<br />对于一个有随机变量的函数可以用同样的方法求期望\n<a name=\"EYhzo\"></a>\n# 光线追踪4 Path Tracing\n<a name=\"YWDkd\"></a>\n## 蒙特卡洛积分 Monte Carlo Integration\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591365385923-cad4bb3a-5781-42c0-9744-80bba30bf45e.png#averageHue=%2397938e&height=341&id=GvUUW&originHeight=1115&originWidth=1552&originalType=binary&ratio=1&rotation=0&showTitle=false&size=530611&status=done&style=none&title=&width=474)<br />蒙特卡洛积分用来求一个定积分，在ab区间内随机采样多次并平均起来作为近似<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591365958030-a01ee808-ba9f-4448-b818-b06161aec6e4.png#averageHue=%237b7670&height=264&id=h2tAg&originHeight=839&originWidth=1521&originalType=binary&ratio=1&rotation=0&showTitle=false&size=322405&status=done&style=none&title=&width=478)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591366081792-87c4e8a6-3838-460f-b2d4-851aff242f5a.png#averageHue=%23b6b3b0&height=305&id=ZVgQ0&originHeight=1003&originWidth=1572&originalType=binary&ratio=1&rotation=0&showTitle=false&size=384618&status=done&style=none&title=&width=478)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591366113835-cc90dccf-29fe-4ad2-b440-ed8dd3dda61e.png#averageHue=%23ad9187&height=274&id=Mw4F1&originHeight=884&originWidth=1534&originalType=binary&ratio=1&rotation=0&showTitle=false&size=364420&status=done&style=none&title=&width=476)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591366920689-8544c3ad-85c3-498b-98b4-acd2ffdea578.png#averageHue=%23fefefe&height=230&id=XU9PJ&originHeight=744&originWidth=1546&originalType=binary&ratio=1&rotation=0&showTitle=false&size=251698&status=done&style=none&title=&width=477)<br />如果用均匀的概念密度函数去采样![](https://cdn.nlark.com/yuque/__latex/4130c89f2d12c3ac81aba3adbff28685.svg#card=math&code=p%28x%29&height=20&id=t1D7K)就等于![](https://cdn.nlark.com/yuque/__latex/26c5f29f3546d50a65c3837a9d46990f.svg#card=math&code=%5Cfrac%201%20%7Bb-a%7D&height=40&id=Y8Xru)<br />对于任何一个函数f(x)，定义一个概率密度p(x)，经过多次采样后平均起来就可以得到近似的定积分<br />采样数越多越接近真实结果，必须在x轴上采样\n<a name=\"vKOIO\"></a>\n## Path Tracing\n<a name=\"jauII\"></a>\n### DIrect Lighting\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1591368898093-4b262a53-30f8-44b9-9c6f-2d8e4691b241.png#averageHue=%23f1f1f1&height=309&id=Km2KF&originHeight=979&originWidth=1558&originalType=binary&ratio=1&rotation=0&showTitle=false&size=475183&status=done&style=none&title=&width=491)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592727088919-03918a31-e915-4048-8680-a737e942b25f.png#averageHue=%23fbfdfc&height=334&id=utxFv&originHeight=927&originWidth=1359&originalType=binary&ratio=1&rotation=0&showTitle=false&size=622120&status=done&style=none&title=&width=489)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592727271051-0e352786-fdfc-44a6-9c75-a8449d64bd53.png#averageHue=%23613f1b&height=367&id=ou7g1&originHeight=931&originWidth=1239&originalType=binary&ratio=1&rotation=0&showTitle=false&size=670298&status=done&style=none&title=&width=489)<br />Whitted风格Ray Tracing一直执行高光反射直到遇到漫反射表面，显然是不正确的<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592727672474-16037635-a6c2-4506-aec1-cac83adce0ff.png#averageHue=%23fdfdfd&height=329&id=JCj2o&originHeight=886&originWidth=1356&originalType=binary&ratio=1&rotation=0&showTitle=false&size=329436&status=done&style=none&title=&width=503)<br />求渲染方程过程中的问题：\n\n- 要求半球上的积分 =>蒙特卡洛\n- 递归\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592727827381-13af2690-e8e4-4ed5-9457-1b8c9714bdba.png#averageHue=%23cab8b4&height=355&id=X2NbG&originHeight=938&originWidth=1318&originalType=binary&ratio=1&rotation=0&showTitle=false&size=499337&status=done&style=none&title=&width=499)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592728062299-96181c94-c812-44ca-9d4a-e6fa3aa38f45.png#averageHue=%23a08e87&height=289&id=DgPO7&originHeight=789&originWidth=1364&originalType=binary&ratio=1&rotation=0&showTitle=false&size=370653&status=done&style=none&title=&width=499)<br />先只考虑一个简单情况，用蒙特卡洛积分求简单场景中的直接光照<br />求半球上任意入射方向![](https://cdn.nlark.com/yuque/__latex/0782ae6b6f5ae6d74a581aba19d31918.svg#card=math&code=%5Comega%20_%7Bi%7D&height=14&id=rz5OF)的入射光反射到出射方向![](https://cdn.nlark.com/yuque/__latex/42d378264da9d82a0b2be919b2420a45.svg#card=math&code=%5Comega%20_%7Bo%7D&height=14&id=BliBi)上的Radiance的积分<br />由于只是直接光照，所以入射方向非指向光源则Radiance直接为0<br />根据蒙特卡洛只需要在半球上均匀地随机采样即可求出结果<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592730580392-63097463-722a-4204-88d5-fb8145d5d360.png#averageHue=%23fdfcfc&height=312&id=qlPSL&originHeight=790&originWidth=1389&originalType=binary&ratio=1&rotation=0&showTitle=false&size=349571&status=done&style=none&title=&width=548)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592730680976-5f7ffc3e-2cd5-44d5-9d64-c7aee8a2ddfa.png#averageHue=%23fefefe&height=276&id=P6BRw&originHeight=667&originWidth=1324&originalType=binary&ratio=1&rotation=0&showTitle=false&size=241549&status=done&style=none&title=&width=547)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592730872428-55a4d4ea-288d-479f-90dc-c8eb7aee0ed6.png#averageHue=%23fdfdfd&height=357&id=TPlRf&originHeight=795&originWidth=1331&originalType=binary&ratio=1&rotation=0&showTitle=false&size=250739&status=done&style=none&title=&width=597)\n<a name=\"WiyXK\"></a>\n### Indirect Lighting / Global Illumination\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592732364732-83aae845-9fbb-4569-9141-dc028059c2dd.png#averageHue=%23fdfdfd&height=343&id=sVKBK&originHeight=946&originWidth=1323&originalType=binary&ratio=1&rotation=0&showTitle=false&size=303324&status=done&style=none&title=&width=479)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592732373555-9690065c-a7ae-4ef0-a6d7-6fda3dd6eb64.png#averageHue=%23fefdfd&height=320&id=zGc9i&originHeight=748&originWidth=1355&originalType=binary&ratio=1&rotation=0&showTitle=false&size=301511&status=done&style=none&title=&width=580)<br />对于一次间接光照，Q点射向P点的光可以看作从P点观察Q点的直接光照<br />于是新增了一个递归的分支，如果这个点不是光源则计算这个点的直接光照<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592732800737-fb4c05f0-acf9-4d3e-8b19-3903413ea3dd.png#averageHue=%23fdfcfc&height=377&id=UKop4&originHeight=940&originWidth=1305&originalType=binary&ratio=1&rotation=0&showTitle=false&size=335539&status=done&style=none&title=&width=524)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592732871173-4008024d-c240-4203-8b2e-aebd385b9f8c.png#averageHue=%23fbfbfa&height=384&id=GvOJ6&originHeight=827&originWidth=1341&originalType=binary&ratio=1&rotation=0&showTitle=false&size=386461&status=done&style=none&title=&width=622)<br />以上的算法最大的问题是计算量指数级增长<br />将蒙特卡洛积分的采样次数N定为1可以解决，但同时结果会不准确<br />N=1就是Path Tracing，!=1是分布式光线追踪<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592738339616-82d0c8e3-0fc9-4ecc-addc-2053e2668a96.png#averageHue=%23fdfdfc&height=343&id=y9JtG&originHeight=862&originWidth=1296&originalType=binary&ratio=1&rotation=0&showTitle=false&size=293636&status=done&style=none&title=&width=516)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592738509867-0de8f49a-8c93-4d4b-a70e-eae67b9a11df.png#averageHue=%23fefefe&height=323&id=Ea3A9&originHeight=683&originWidth=1319&originalType=binary&ratio=1&rotation=0&showTitle=false&size=256631&status=done&style=none&title=&width=624)<br />为了使结果更精确，在一个像素内多次采样，对结果取均值，这同时解决了锯齿问题<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592738842598-926ccdab-ac53-4e0a-b71b-bb52bff1e88e.png#averageHue=%23545653&height=287&id=Ken9O&originHeight=965&originWidth=1149&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1192872&status=done&style=none&title=&width=342)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592738860137-c6fe0835-6655-4117-bdda-e5303d9cb436.png#averageHue=%23737673&height=286&id=vqwRA&originHeight=975&originWidth=1113&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1135139&status=done&style=none&title=&width=327)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592738963764-2623b95d-afa5-4ab5-a7b8-cc6c825fae6a.png#averageHue=%2380736f&height=359&id=ShKgm&originHeight=887&originWidth=1325&originalType=binary&ratio=1&rotation=0&showTitle=false&size=888568&status=done&style=none&title=&width=537)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592739234140-e9948ae5-02b5-4d5f-9497-6301da3248d6.png#averageHue=%23c8c4be&height=344&id=ojGJX&originHeight=721&originWidth=1130&originalType=binary&ratio=1&rotation=0&showTitle=false&size=347191&status=done&style=none&title=&width=539)<br />真实世界中光线的反射不计衰减理论上是无限反射的，渲染中反射次数越低损失的能量越多<br />为了解决光线不能无限反射的问题，引入俄罗斯轮盘赌的概念随机停止反射<br />设正确结果为Lo，停止概率为1 -  P，光线着色结果除以P，如此最后结果期望还是Lo<br />也就是停止概率越小，越接近真实，结果补偿越小<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592740128536-95567594-ce77-4527-b606-69bdf339bfd1.png#averageHue=%23fcfafa&height=330&id=rKznS&originHeight=760&originWidth=1332&originalType=binary&ratio=1&rotation=0&showTitle=false&size=400563&status=done&style=none&title=&width=579)<br />题外话：<br />生存概率=p<br />反射次数的期望为：![](https://cdn.nlark.com/yuque/__latex/79a25130c6f0d9ca081916fb2d623cf0.svg#card=math&code=%5Csum%20%5E%7B%5Cinfty%20%7D_%7Bi%3D1%7D%20ip%5E%7Bi%7D&height=49&id=fE4d2)   （？）<br />0.5=>2    0.8=>20<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592744536740-56447a5d-80b3-4196-a882-b02a214c0a42.png#averageHue=%23656666&height=393&id=SPt9q&originHeight=932&originWidth=1335&originalType=binary&ratio=1&rotation=0&showTitle=false&size=693764&status=done&style=none&title=&width=563)<br />常说的采样率就是SPP (Samples Per Pixel)，每个像素发射多少Path\n<a name=\"Whp5x\"></a>\n### Sampling the Light\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592744721018-97ed2f85-3bb5-416c-afa9-eb38cb3ee310.png#averageHue=%23c9c5c1&height=380&id=ugIkC&originHeight=949&originWidth=1400&originalType=binary&ratio=1&rotation=0&showTitle=false&size=549541&status=done&style=none&title=&width=561)\n\n均匀的PDF会使很多光线落空，可以将采样域换成光源进行采样\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592745035473-f0b34e9f-b82b-42f4-9dc0-e2deb1d4afaa.png#averageHue=%2387827d&height=397&id=Jah59&originHeight=948&originWidth=1346&originalType=binary&ratio=1&rotation=0&showTitle=false&size=544629&status=done&style=none&title=&width=563)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592745211505-86303e52-76f7-4bff-83d7-d704be50f494.png#averageHue=%23fcfcfc&height=339&id=b4NMD&originHeight=827&originWidth=1388&originalType=binary&ratio=1&rotation=0&showTitle=false&size=340167&status=done&style=none&title=&width=569)\n\n将光源投影到半球\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592745308093-b09c2fae-d6d7-426f-bb5e-da4201d1591a.png#averageHue=%237a7570&height=341&id=MXD1e&originHeight=801&originWidth=1399&originalType=binary&ratio=1&rotation=0&showTitle=false&size=362008&status=done&style=none&title=&width=596)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592745336077-0e968f9e-6b62-4fad-9475-dcdbad293abe.png#averageHue=%23dfdad0&height=377&id=joFhr&originHeight=838&originWidth=1328&originalType=binary&ratio=1&rotation=0&showTitle=false&size=604847&status=done&style=none&title=&width=598)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1592745398855-74304ef0-5298-41b2-a17a-1b96b4003fad.png#averageHue=%23fbfbfb&height=430&id=lLslN&originHeight=873&originWidth=1363&originalType=binary&ratio=1&rotation=0&showTitle=false&size=461802&status=done&style=none&title=&width=671)<br />                            \n\n于是采样分成两种：直接对光源均匀采样、对其他反射部分用以前的方案<br />采样光源同时要注意可见性\n<a name=\"pVtlH\"></a>\n### 关于Path Tracing\n\n![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1593168639401-e9e22864-9d5b-4253-a8d4-a8af3c451c60.png#averageHue=%23877355&height=411&id=tilW2&originHeight=1014&originWidth=1397&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1008645&status=done&style=none&title=&width=566)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1593168749327-4e59edbb-dc64-4847-afc1-ffed2ae1d105.png#averageHue=%23fdfdfd&height=393&id=t0E7J&originHeight=915&originWidth=1327&originalType=binary&ratio=1&rotation=0&showTitle=false&size=358473&status=done&style=none&title=&width=570)<br />![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1593169364022-7daf8684-5c14-4c90-8fa1-f03d7399b527.png#averageHue=%23f1f0f1&height=346&id=MzWbu&originHeight=802&originWidth=1320&originalType=binary&ratio=1&rotation=0&showTitle=false&size=356209&status=done&style=none&title=&width=569)![image.png](https://cdn.nlark.com/yuque/0/2020/png/504873/1593169599184-dc9a3fac-500d-4f47-83e4-a44db55508e2.png#averageHue=%237a736c&height=353&id=tTsFM&originHeight=809&originWidth=1308&originalType=binary&ratio=1&rotation=0&showTitle=false&size=428449&status=done&style=none&title=&width=570)\n<a name=\"PbbAi\"></a>\n# 材质 [Materials and Appearances](https://www.bilibili.com/video/BV1X7411F744?p=17)\n\n",
      "properties": {
        "title": "闫令琪 GAMES101笔记-现代计算机图形学入门",
        "urlname": "mypdxo",
        "author": "Jason Ma",
        "date": "2020-04-04 16:05:31",
        "updated": "2023-06-14 23:27:03"
      },
      "catalog": [
        {
          "title": "Reading",
          "doc_id": "mypdxo"
        }
      ],
      "body": ""
    },
    {
      "id": 137491767,
      "doc_id": "rz0zsolsdpdeznks",
      "title": "rz0zsolsdpdeznks",
      "updated": 1693186883000,
      "body_original": "最近通关的两个饱受赞誉的游戏：星际拓荒 （Outer Wilds）、传说之下（Undertale）\n\n![ce18f21dde3cf8b45919e0c358fba086.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1693139355937-4c505ab6-8b5c-45d5-abf5-22bae543afc6.png#averageHue=%2354543b&clientId=u15707535-f97d-4&from=drop&id=u6efe1fcc&originHeight=1350&originWidth=2400&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=2461789&status=done&style=none&taskId=u192e4f2a-d2cf-4e3a-aa7f-e80b984f638&title=)\n\n星际拓荒的确是最好的科幻和探索类型的游戏，其完全以玩家自身好奇心驱动的探索玩法，结合小、精致、动态、内在一致的宇宙，将宏大的宇宙观与崇高的探索精神充分传递给了每个坚持到通关的玩家，使我大受震撼。<br />传统的谜题设计中的钥匙可能是一件装备、一个技能、一个道具，对于星际拓荒来说，这个钥匙是玩家脑中的知识。在一次次死亡循环中，游戏世界是相同的，不同的只是玩家的成长。\n\n![6896d2ed45a60230fdf235811b07bec5.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1693139363145-59eba2ee-a2fb-4047-a2e3-8907fc5c1c8d.png#averageHue=%23464646&clientId=u15707535-f97d-4&from=drop&id=u6cef9f16&originHeight=800&originWidth=1600&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52538&status=done&style=none&taskId=u484b3ae0-5748-4f33-a32d-680165e0bc1&title=)\n\n传说之下的亮点在于打破了玩家对于传统游戏设计模式的认知以及第四面墙，将玩家从游戏中抽离，使玩家从一个更加现实和理性的视角反思自身的行为。<br />其实这类Meta游戏早有耳闻，但直到自己玩过之后才深刻体会到了传统媒体的说教式表达对人的漠视，也感叹于布莱希特式表达所激发出的人的主观能动性。\n\n它们还有几个共同点：\n\n- 初见之时给人感觉平平无奇，甚至有点粗制滥造，而玩的越久越觉得深不可测。\n- 给予玩家的主观能动性充分的尊重，并有高度内在一致性，因此无需华丽的辞藻、电影级画面、巨大的开发投入，却依旧能带给玩家强大的能量。\n- 像在玩类魂游戏\n\n\n",
      "properties": {
        "title": "Outer Wilds & Undertale",
        "urlname": "rz0zsolsdpdeznks",
        "date": "2023-08-27 12:28:00",
        "updated": "2023-08-28 01:41:23",
        "author": "Jason Ma"
      },
      "catalog": [
        {
          "title": "Playing",
          "doc_id": "rz0zsolsdpdeznks"
        }
      ],
      "body": "",
      "realName": "Outer Wilds & Undertale",
      "relativePath": "/Playing/Outer Wilds & Undertale.md"
    },
    {
      "id": 139480795,
      "doc_id": "gd0abdb7eapbztdn",
      "title": "gd0abdb7eapbztdn",
      "updated": 1694422836000,
      "body_original": "---<br />tags:\n\n- DCC\n\n---\n<a name=\"A5Vcn\"></a>\n## Maya HDA 无法修改法线\nHoudini 18.0, Maya 2018<br />问题: Maya内通过Houdini Engine加载的HDA无法修改模型法线<br />原因: Maya模型法线必须锁定法线后才能修改<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1694422328883-f78ac88e-14a4-4d19-a84f-03b299db2460.png#averageHue=%23535251&clientId=u27b16ba1-47f2-4&from=paste&height=355&id=uf1efa21d&originHeight=538&originWidth=330&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=37161&status=done&style=none&taskId=ua18fd32e-e1f0-494a-874c-befaf8a868c&title=&width=218)<br />解决方案: HDA结尾加一个`maya_locked_normal`属性, 设置如图:<br />![企业微信截图_16944216285792.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1694422349283-b9ed6a20-cc4c-4f9d-a589-e6ee2e35703f.png#averageHue=%23343434&clientId=u27b16ba1-47f2-4&from=paste&height=823&id=u00066133&originHeight=1138&originWidth=1010&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=101801&status=done&style=none&taskId=u77d9e4df-b2d7-48d9-94eb-e430ce3221c&title=&width=730)\n\n",
      "properties": {
        "title": "Houdini Engine (HDA) 踩坑记录",
        "urlname": "gd0abdb7eapbztdn",
        "date": "2023-09-11 08:59:02",
        "updated": "2023-09-11 09:00:36",
        "author": "Jason Ma",
        "tags": [
          "DCC"
        ]
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "gd0abdb7eapbztdn"
        },
        {
          "title": "Houdini",
          "doc_id": "gd0abdb7eapbztdn"
        }
      ],
      "body": "",
      "realName": "Houdini Engine (HDA) 踩坑记录",
      "relativePath": "/TA/Houdini/Houdini Engine (HDA) 踩坑记录.md"
    },
    {
      "id": 142528899,
      "doc_id": "swszkkg8zqxp9em3",
      "title": "swszkkg8zqxp9em3",
      "updated": 1712504617000,
      "body_original": "--<br />tags:\n\n- Git\n- UE\n\n---\n\n<a name=\"oQ4UB\"></a>\n# 拉取新版UE\n<a name=\"H4qXO\"></a>\n## 拉取特定远端分支\nfetch特定分支的同时需要手动更新引用, 该分支才会出现在origin列表中:\n```\n$ git fetch origin 5.3:refs/remotes/origin/5.3 --depth=1\n```\n\n然后再checkout到本地分支:\n```\n$ git checkout -b 5.3 origin/5.3\n```\n\n<a name=\"agQU2\"></a>\n# 升级自定义UE的版本\n<a name=\"VLSFG\"></a>\n## 将当前分支相对于Epic的改动打包成diff.patch\n需要先将Epic仓库添加到repo, 如:<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/504873/1697475565605-cbd1391a-0db1-42e6-9722-0ce30a7524b6.png#averageHue=%232d2e30&clientId=uf4e6188b-463b-4&from=paste&height=350&id=uc25f3790&originHeight=437&originWidth=316&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=24043&status=done&style=none&taskId=u57828908-6da8-47f2-8611-3fcc7b23551&title=&width=252.8)\n\n```\n$ git diff --binary Epic/5.2 5.2 > diff.patch\n```\n\n<a name=\"Myafi\"></a>\n## 将patch应用到新分支\n\n```\n$ git apply --reject --binary --whitespace=nowarn diff.patch\n```\n--reject: 这将在发生冲突的每个文件旁边创建一个 .rej 文件，该文件包含无法应用的差异。您可以手动编辑这些文件以解决冲突。解决冲突后，您可以删除.rej文件并添加和提交合并后的文件以完成应用过程。\n\n某些目录可能不会立即被Git追踪, 需要先解决.gitignore的冲突, 确保没有被忽略.\n",
      "properties": {
        "title": "常用Git指令",
        "urlname": "swszkkg8zqxp9em3",
        "date": "2023-10-16 16:55:00",
        "updated": "2024-04-07 15:43:37",
        "author": "Jason Ma"
      },
      "catalog": [
        {
          "title": "TA",
          "doc_id": "swszkkg8zqxp9em3"
        }
      ],
      "body": "",
      "realName": "常用Git指令",
      "relativePath": "/TA/常用Git指令.md"
    },
    {
      "id": 159714395,
      "doc_id": "dkz03dygqyd5081s",
      "title": "dkz03dygqyd5081s",
      "updated": 1709822798000,
      "body_original": "<a name=\"RQ8mZ\"></a>\n# 硬件准备（QNAS mini、网络拓扑、宽带）\n- QNAS mini：N100 CPU，16G内存，2 * 2.5G网口，6 * 2.5寸SATA，买的闲鱼成品\n- 公网IPv6地址（打电信客服电话，说要装监控，顺便可以改桥接）\n- 光猫 <=> NAS <=> PC，NAS设置网桥使PC上网\n<a name=\"ym8Br\"></a>\n# 黑群晖7.2+安装并洗白（U盘引导）\n由于买的是成品NAS，卖家已经帮忙装好了虚拟机版黑群晖，但后来发现稳定性以及自定义的便捷性并不好，于是自己重新装了硬件黑群晖：<br />[一起来玩群晖DSM7.2，ARPL引导黑群晖7.2详细教程_NAS存储_什么值得买](https://post.smzdm.com/p/allk3o4g/)<br />QNAS mini建议选择型号A6400，洗白码可以在电商平台购买到。如果不使用多媒体相关功能没有要求可以不洗白。<br />本想直接安装在内置SSD中，但DSM7.2+后必须使用U盘引导，尝试了一些教程后失败，故放弃。\n<a name=\"RjadN\"></a>\n# 启用群晖DDNS服务实现外网IPv6访问\n![image.png](https://cdn.nlark.com/yuque/0/2024/png/504873/1709822389385-3c01028a-adbf-436f-822a-921d47b17206.png#averageHue=%23181b1d&clientId=u2555bb30-dacc-4&from=paste&height=501&id=u7615da97&originHeight=626&originWidth=1305&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=59514&status=done&style=none&taskId=ueed0cb80-cb09-4fef-badc-e8283ad984b&title=&width=1044)\n<a name=\"LRYPe\"></a>\n# Cloudflare代理自定义域名实现外网IPv4访问\n由于我们只有公网IPv6地址，而某些网络是不支持IPv6的（比如公司内网），所以需要一个同时支持IPv4和IPv6的服务器做中转来访问NAS。\n\n[群晖cloudflare 代理ipv6实现外网ipv4网络访问（2023可用）_cloudflareipv6转ipv4-CSDN博客](https://blog.csdn.net/u013005016/article/details/134973993)<br />此教程中部分步骤是多余的，在将域名添加到CF后，需要SSL/TLS 加密模式设为完全：<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/504873/1709822202321-f3dd4dcd-0e98-42b1-be5c-2bbca28bc6cc.png#averageHue=%23161d23&clientId=u2555bb30-dacc-4&from=paste&height=544&id=u9db2dbb9&originHeight=680&originWidth=1962&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=113026&status=done&style=none&taskId=uc090a438-cb84-4dfa-8513-55a773775a0&title=&width=1569.6)<br />然后通过Origin Rules给域名设置自定义的端口，即可用域名直接访问到群晖：<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/504873/1709822260047-349324ce-9593-4072-8af2-0df3afc3573e.png#averageHue=%23191c1d&clientId=u2555bb30-dacc-4&from=paste&height=1182&id=u48449b94&originHeight=1478&originWidth=1340&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=158353&status=done&style=none&taskId=u48ffde34-326c-4855-8a7d-61eba1e4e83&title=&width=1072)\n\n因为流量需要先经过Cloudflare服务器，所以对速度有一定影响。<br />上海电信的测速结果约为直接连接的70%，但是延迟从数毫秒上升到数百毫秒，实际体验的响应速度明显变慢。<br />不过这对于一个免费的服务来说完全是可以接受的，甚至速度比付费的阿里云CND（由于大陆区需要备案，所以用的是港澳台区进行测试）要快得多。\n\n<a name=\"GWioz\"></a>\n# 通过支持IPv6的付费VPN实现自定义端口的外网IPv4访问\n在尝试使用经过Cloudflare代理的域名登录Synology Drive时会发现无法访问，因为Synology Drive使用的端口是6690，而Cloudflare的代理仅支持少数几个端口。<br />解决方法是在Synology Drive登录界面设置代理服务器，使用支持IPv6的代理服务器，然后还要关掉群晖的IP检查：<br />![image.png](https://cdn.nlark.com/yuque/0/2024/png/504873/1709822770800-14a3329c-3441-407d-9aa1-4d6bfc248b48.png#averageHue=%23191c1f&clientId=u2555bb30-dacc-4&from=paste&height=551&id=u2d7c1175&originHeight=689&originWidth=1163&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=103329&status=done&style=none&taskId=u8930f9d0-0e20-4185-97ec-5ca30611d58&title=&width=930.4)\n",
      "properties": {
        "title": "黑群晖SDN网关下从零实现IPv4/6内外网高速访问",
        "urlname": "dkz03dygqyd5081s",
        "date": "2024-02-26 16:38:48",
        "updated": "2024-03-07 14:46:38",
        "author": "Jason Ma"
      },
      "catalog": [
        {
          "title": "Web",
          "doc_id": "dkz03dygqyd5081s"
        }
      ],
      "body": "",
      "realName": "黑群晖SDN网关下从零实现IPv4!6内外网高速访问",
      "relativePath": "/Web/黑群晖SDN网关下从零实现IPv4!6内外网高速访问.md"
    }
  ],
  "catalog": [
    {
      "uuid": "peyF6hR-4Splp2Kk",
      "type": "TITLE",
      "title": "TA",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 0,
      "depth": 1,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "",
      "sibling_uuid": "WID1i8-fvjGDhkBO",
      "child_uuid": "0GiCLUL2yqOtdtOe",
      "parent_uuid": "",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "0GiCLUL2yqOtdtOe",
      "type": "TITLE",
      "title": "Unity",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "peyF6hR-4Splp2Kk",
      "sibling_uuid": "MIJmUAh2ln5YkVWp",
      "child_uuid": "xIZOTJUhp28j1HzT",
      "parent_uuid": "peyF6hR-4Splp2Kk",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "xIZOTJUhp28j1HzT",
      "type": "DOC",
      "title": "Unity Shader矩阵",
      "url": "anpupr",
      "slug": "anpupr",
      "id": 30545536,
      "doc_id": 30545536,
      "level": 2,
      "depth": 3,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "0GiCLUL2yqOtdtOe",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "0GiCLUL2yqOtdtOe",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "MIJmUAh2ln5YkVWp",
      "type": "TITLE",
      "title": "UE",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "0GiCLUL2yqOtdtOe",
      "sibling_uuid": "HYoUtvcGRDN4xCAD",
      "child_uuid": "nxEj19q0leTu7DBG",
      "parent_uuid": "peyF6hR-4Splp2Kk",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "nxEj19q0leTu7DBG",
      "type": "DOC",
      "title": "UE踩坑记录",
      "url": "ww8dfgg04fgb7c85",
      "slug": "ww8dfgg04fgb7c85",
      "id": 126619575,
      "doc_id": 126619575,
      "level": 2,
      "depth": 3,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "MIJmUAh2ln5YkVWp",
      "sibling_uuid": "WssjCbG1rq7kjhAX",
      "child_uuid": "",
      "parent_uuid": "MIJmUAh2ln5YkVWp",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "WssjCbG1rq7kjhAX",
      "type": "DOC",
      "title": "UE解决Installed Build包体过大",
      "url": "ai6iq9ebtbpfqnzd",
      "slug": "ai6iq9ebtbpfqnzd",
      "id": 120059084,
      "doc_id": 120059084,
      "level": 2,
      "depth": 3,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "nxEj19q0leTu7DBG",
      "sibling_uuid": "aiQRzbDOD72k2gdX",
      "child_uuid": "",
      "parent_uuid": "MIJmUAh2ln5YkVWp",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "aiQRzbDOD72k2gdX",
      "type": "DOC",
      "title": "UE Niagara科普",
      "url": "meh35f",
      "slug": "meh35f",
      "id": 91383592,
      "doc_id": 91383592,
      "level": 2,
      "depth": 3,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "WssjCbG1rq7kjhAX",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "MIJmUAh2ln5YkVWp",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "HYoUtvcGRDN4xCAD",
      "type": "TITLE",
      "title": "Houdini",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "MIJmUAh2ln5YkVWp",
      "sibling_uuid": "zerpGaaim4Seit83",
      "child_uuid": "2GTCjVYsrg_WCt9w",
      "parent_uuid": "peyF6hR-4Splp2Kk",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "2GTCjVYsrg_WCt9w",
      "type": "DOC",
      "title": "Houdini踩坑记录",
      "url": "fsmrgf7ce2gotyvn",
      "slug": "fsmrgf7ce2gotyvn",
      "id": 132145639,
      "doc_id": 132145639,
      "level": 2,
      "depth": 3,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "HYoUtvcGRDN4xCAD",
      "sibling_uuid": "C53LCPRd1Kkpj5Hx",
      "child_uuid": "",
      "parent_uuid": "HYoUtvcGRDN4xCAD",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "C53LCPRd1Kkpj5Hx",
      "type": "DOC",
      "title": "Houdini Engine (HDA) 踩坑记录",
      "url": "gd0abdb7eapbztdn",
      "slug": "gd0abdb7eapbztdn",
      "id": 139480795,
      "doc_id": 139480795,
      "level": 2,
      "depth": 3,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "2GTCjVYsrg_WCt9w",
      "sibling_uuid": "vVh7zyHxbTca0EA7",
      "child_uuid": "",
      "parent_uuid": "HYoUtvcGRDN4xCAD",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "vVh7zyHxbTca0EA7",
      "type": "DOC",
      "title": "Houdini常用几何操作",
      "url": "ompygag6ztknbc30",
      "slug": "ompygag6ztknbc30",
      "id": 126601238,
      "doc_id": 126601238,
      "level": 2,
      "depth": 3,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "C53LCPRd1Kkpj5Hx",
      "sibling_uuid": "_y81w81YM_Iu5nc5",
      "child_uuid": "",
      "parent_uuid": "HYoUtvcGRDN4xCAD",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "_y81w81YM_Iu5nc5",
      "type": "DOC",
      "title": "Houdini通过Alembic导出Vertex Color + Alpha + Multi UV",
      "url": "yf39e891h5yy57f5",
      "slug": "yf39e891h5yy57f5",
      "id": 120057885,
      "doc_id": 120057885,
      "level": 2,
      "depth": 3,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "vVh7zyHxbTca0EA7",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "HYoUtvcGRDN4xCAD",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "zerpGaaim4Seit83",
      "type": "TITLE",
      "title": "Other DCCs",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "HYoUtvcGRDN4xCAD",
      "sibling_uuid": "Qvgsv3nx8o0JLQlR",
      "child_uuid": "3wwG47VMztyjbacv",
      "parent_uuid": "peyF6hR-4Splp2Kk",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "3wwG47VMztyjbacv",
      "type": "DOC",
      "title": "达芬奇踩坑记录",
      "url": "ud4k7ereqxslvzdg",
      "slug": "ud4k7ereqxslvzdg",
      "id": 128436714,
      "doc_id": 128436714,
      "level": 2,
      "depth": 3,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "zerpGaaim4Seit83",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "zerpGaaim4Seit83",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "Qvgsv3nx8o0JLQlR",
      "type": "DOC",
      "title": "常用Git指令",
      "url": "swszkkg8zqxp9em3",
      "slug": "swszkkg8zqxp9em3",
      "id": 142528899,
      "doc_id": 142528899,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "zerpGaaim4Seit83",
      "sibling_uuid": "TcdJ_izv67dq5ZpH",
      "child_uuid": "",
      "parent_uuid": "peyF6hR-4Splp2Kk",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "TcdJ_izv67dq5ZpH",
      "type": "DOC",
      "title": "HLSL法线、高度、深度、世界坐标互转",
      "url": "aoqhq0",
      "slug": "aoqhq0",
      "id": 56599362,
      "doc_id": 56599362,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "Qvgsv3nx8o0JLQlR",
      "sibling_uuid": "ucexrhuMucoQNsiA",
      "child_uuid": "",
      "parent_uuid": "peyF6hR-4Splp2Kk",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "ucexrhuMucoQNsiA",
      "type": "DOC",
      "title": "颜色空间 sRGB Gamma",
      "url": "gbkk7e",
      "slug": "gbkk7e",
      "id": 44671602,
      "doc_id": 44671602,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "TcdJ_izv67dq5ZpH",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "peyF6hR-4Splp2Kk",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "WID1i8-fvjGDhkBO",
      "type": "TITLE",
      "title": "Web",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 0,
      "depth": 1,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "peyF6hR-4Splp2Kk",
      "sibling_uuid": "918400:atnhzh3yxfcdz9mz",
      "child_uuid": "1axwGGtOJArEF-00",
      "parent_uuid": "",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "1axwGGtOJArEF-00",
      "type": "DOC",
      "title": "黑群晖SDN网关下从零实现IPv4/6内外网高速访问",
      "url": "dkz03dygqyd5081s",
      "slug": "dkz03dygqyd5081s",
      "id": 159714395,
      "doc_id": 159714395,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "WID1i8-fvjGDhkBO",
      "sibling_uuid": "2uhp1s2J0Z2Ooi2B",
      "child_uuid": "",
      "parent_uuid": "WID1i8-fvjGDhkBO",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "2uhp1s2J0Z2Ooi2B",
      "type": "DOC",
      "title": "CloudFlare加速Github Pages全球访问(含大陆)",
      "url": "sfpr2alhqp7gh1xm",
      "slug": "sfpr2alhqp7gh1xm",
      "id": 126460690,
      "doc_id": 126460690,
      "level": 1,
      "depth": 2,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "1axwGGtOJArEF-00",
      "sibling_uuid": "aAFOiQN8hrxsinhg",
      "child_uuid": "",
      "parent_uuid": "WID1i8-fvjGDhkBO",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "aAFOiQN8hrxsinhg",
      "type": "DOC",
      "title": "威联通 公网访问",
      "url": "dcyev26wfcd7s1ms",
      "slug": "dcyev26wfcd7s1ms",
      "id": 112912250,
      "doc_id": 112912250,
      "level": 1,
      "depth": 2,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "2uhp1s2J0Z2Ooi2B",
      "sibling_uuid": "93FTv0kksWBRAhDS",
      "child_uuid": "",
      "parent_uuid": "WID1i8-fvjGDhkBO",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "93FTv0kksWBRAhDS",
      "type": "DOC",
      "title": "威联通 wordpress 搭建个人博客",
      "url": "hidx80bo8enk6ngm",
      "slug": "hidx80bo8enk6ngm",
      "id": 113179001,
      "doc_id": 113179001,
      "level": 1,
      "depth": 2,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "aAFOiQN8hrxsinhg",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "WID1i8-fvjGDhkBO",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "918400:atnhzh3yxfcdz9mz",
      "type": "TITLE",
      "title": "Reading",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 0,
      "depth": 1,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "WID1i8-fvjGDhkBO",
      "sibling_uuid": "exD0-Dpy0AahG4Ll",
      "child_uuid": "t9bQPIEOlkWd7IgX",
      "parent_uuid": "",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "t9bQPIEOlkWd7IgX",
      "type": "DOC",
      "title": "无标题文档",
      "url": "uar9uwyhooex1qqe",
      "slug": "uar9uwyhooex1qqe",
      "id": 144494472,
      "doc_id": 144494472,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 0,
      "prev_uuid": "918400:atnhzh3yxfcdz9mz",
      "sibling_uuid": "ziC9skDINma7WFIh",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "ziC9skDINma7WFIh",
      "type": "DOC",
      "title": "卡尔·马克思经济思想的形成 (副本)",
      "url": "zev6pi",
      "slug": "zev6pi",
      "id": 68677792,
      "doc_id": 68677792,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "t9bQPIEOlkWd7IgX",
      "sibling_uuid": "FQ14gRoQ0wwyBCt1",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "FQ14gRoQ0wwyBCt1",
      "type": "DOC",
      "title": "3D数学基础 图形和游戏开发",
      "url": "vbban1",
      "slug": "vbban1",
      "id": 26482904,
      "doc_id": 26482904,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "ziC9skDINma7WFIh",
      "sibling_uuid": "2VNR5aZo9tsvpNdf",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "2VNR5aZo9tsvpNdf",
      "type": "DOC",
      "title": "林超 给年轻人的跨学科通识课",
      "url": "cdn0ga",
      "slug": "cdn0ga",
      "id": 53149615,
      "doc_id": 53149615,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "FQ14gRoQ0wwyBCt1",
      "sibling_uuid": "918400:afydhdv6dp3ug6pp",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "918400:afydhdv6dp3ug6pp",
      "type": "DOC",
      "title": "闫令琪 GAMES101笔记-现代计算机图形学入门",
      "url": "mypdxo",
      "slug": "mypdxo",
      "id": 5864400,
      "doc_id": 5864400,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "2VNR5aZo9tsvpNdf",
      "sibling_uuid": "yitxuwxmNBQS3k1O",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "yitxuwxmNBQS3k1O",
      "type": "DOC",
      "title": "吴恩达 机器学习系列课程",
      "url": "dmfp4g",
      "slug": "dmfp4g",
      "id": 68289742,
      "doc_id": 68289742,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "918400:afydhdv6dp3ug6pp",
      "sibling_uuid": "ZM-zYBJt-4CXQQIY",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "ZM-zYBJt-4CXQQIY",
      "type": "DOC",
      "title": "吴恩达 Neural Networks and Deep Learning deeplearning.ai",
      "url": "xdbdqx",
      "slug": "xdbdqx",
      "id": 70121752,
      "doc_id": 70121752,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "yitxuwxmNBQS3k1O",
      "sibling_uuid": "UnDF-6xx9dCRnbwD",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "UnDF-6xx9dCRnbwD",
      "type": "DOC",
      "title": "吴恩达 Improving Deep Neural Networks",
      "url": "mz2vt4",
      "slug": "mz2vt4",
      "id": 72013186,
      "doc_id": 72013186,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "ZM-zYBJt-4CXQQIY",
      "sibling_uuid": "VyrXdCvCOzZESJ0W",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "VyrXdCvCOzZESJ0W",
      "type": "DOC",
      "title": "吴恩达 Structuring ML Projects",
      "url": "sopcnn",
      "slug": "sopcnn",
      "id": 71307307,
      "doc_id": 71307307,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "UnDF-6xx9dCRnbwD",
      "sibling_uuid": "VNHeZgmA--np8HhO",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "VNHeZgmA--np8HhO",
      "type": "DOC",
      "title": "吴恩达 Convolutional Neural Networks",
      "url": "kzxl93",
      "slug": "kzxl93",
      "id": 71769216,
      "doc_id": 71769216,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "VyrXdCvCOzZESJ0W",
      "sibling_uuid": "rDzIR6oQuaai8pRK",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "rDzIR6oQuaai8pRK",
      "type": "DOC",
      "title": "李忠秋 结构化思维",
      "url": "gwh0hz7p5kwkvfuz",
      "slug": "gwh0hz7p5kwkvfuz",
      "id": 105738879,
      "doc_id": 105738879,
      "level": 1,
      "depth": 2,
      "open_window": 0,
      "visible": 1,
      "prev_uuid": "VNHeZgmA--np8HhO",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "918400:atnhzh3yxfcdz9mz",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "exD0-Dpy0AahG4Ll",
      "type": "TITLE",
      "title": "Watching",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 0,
      "depth": 1,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "918400:atnhzh3yxfcdz9mz",
      "sibling_uuid": "Yv9BCuYXSCHQbHvV",
      "child_uuid": "",
      "parent_uuid": "",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "Yv9BCuYXSCHQbHvV",
      "type": "TITLE",
      "title": "Playing",
      "url": "",
      "slug": "#",
      "id": "",
      "doc_id": "",
      "level": 0,
      "depth": 1,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "exD0-Dpy0AahG4Ll",
      "sibling_uuid": "jl9vQG51w8b2rHqM",
      "child_uuid": "0LQo80qTvsJJU0rb",
      "parent_uuid": "",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "0LQo80qTvsJJU0rb",
      "type": "DOC",
      "title": "Outer Wilds & Undertale",
      "url": "rz0zsolsdpdeznks",
      "slug": "rz0zsolsdpdeznks",
      "id": 137491767,
      "doc_id": 137491767,
      "level": 1,
      "depth": 2,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "Yv9BCuYXSCHQbHvV",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "Yv9BCuYXSCHQbHvV",
      "_serializer": "v2.toc_item"
    },
    {
      "uuid": "jl9vQG51w8b2rHqM",
      "type": "DOC",
      "title": "我是谁？",
      "url": "hsq9e5b68g0gyfvn",
      "slug": "hsq9e5b68g0gyfvn",
      "id": 134788873,
      "doc_id": 134788873,
      "level": 0,
      "depth": 1,
      "open_window": 1,
      "visible": 1,
      "prev_uuid": "Yv9BCuYXSCHQbHvV",
      "sibling_uuid": "",
      "child_uuid": "",
      "parent_uuid": "",
      "_serializer": "v2.toc_item"
    }
  ]
}